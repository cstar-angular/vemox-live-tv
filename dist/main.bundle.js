webpackJsonp(["main"],{

/***/ "./node_modules/moment/locale recursive ^\\.\\/.*$":
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./af": "./node_modules/moment/locale/af.js",
	"./af.js": "./node_modules/moment/locale/af.js",
	"./ar": "./node_modules/moment/locale/ar.js",
	"./ar-dz": "./node_modules/moment/locale/ar-dz.js",
	"./ar-dz.js": "./node_modules/moment/locale/ar-dz.js",
	"./ar-kw": "./node_modules/moment/locale/ar-kw.js",
	"./ar-kw.js": "./node_modules/moment/locale/ar-kw.js",
	"./ar-ly": "./node_modules/moment/locale/ar-ly.js",
	"./ar-ly.js": "./node_modules/moment/locale/ar-ly.js",
	"./ar-ma": "./node_modules/moment/locale/ar-ma.js",
	"./ar-ma.js": "./node_modules/moment/locale/ar-ma.js",
	"./ar-sa": "./node_modules/moment/locale/ar-sa.js",
	"./ar-sa.js": "./node_modules/moment/locale/ar-sa.js",
	"./ar-tn": "./node_modules/moment/locale/ar-tn.js",
	"./ar-tn.js": "./node_modules/moment/locale/ar-tn.js",
	"./ar.js": "./node_modules/moment/locale/ar.js",
	"./az": "./node_modules/moment/locale/az.js",
	"./az.js": "./node_modules/moment/locale/az.js",
	"./be": "./node_modules/moment/locale/be.js",
	"./be.js": "./node_modules/moment/locale/be.js",
	"./bg": "./node_modules/moment/locale/bg.js",
	"./bg.js": "./node_modules/moment/locale/bg.js",
	"./bm": "./node_modules/moment/locale/bm.js",
	"./bm.js": "./node_modules/moment/locale/bm.js",
	"./bn": "./node_modules/moment/locale/bn.js",
	"./bn.js": "./node_modules/moment/locale/bn.js",
	"./bo": "./node_modules/moment/locale/bo.js",
	"./bo.js": "./node_modules/moment/locale/bo.js",
	"./br": "./node_modules/moment/locale/br.js",
	"./br.js": "./node_modules/moment/locale/br.js",
	"./bs": "./node_modules/moment/locale/bs.js",
	"./bs.js": "./node_modules/moment/locale/bs.js",
	"./ca": "./node_modules/moment/locale/ca.js",
	"./ca.js": "./node_modules/moment/locale/ca.js",
	"./cs": "./node_modules/moment/locale/cs.js",
	"./cs.js": "./node_modules/moment/locale/cs.js",
	"./cv": "./node_modules/moment/locale/cv.js",
	"./cv.js": "./node_modules/moment/locale/cv.js",
	"./cy": "./node_modules/moment/locale/cy.js",
	"./cy.js": "./node_modules/moment/locale/cy.js",
	"./da": "./node_modules/moment/locale/da.js",
	"./da.js": "./node_modules/moment/locale/da.js",
	"./de": "./node_modules/moment/locale/de.js",
	"./de-at": "./node_modules/moment/locale/de-at.js",
	"./de-at.js": "./node_modules/moment/locale/de-at.js",
	"./de-ch": "./node_modules/moment/locale/de-ch.js",
	"./de-ch.js": "./node_modules/moment/locale/de-ch.js",
	"./de.js": "./node_modules/moment/locale/de.js",
	"./dv": "./node_modules/moment/locale/dv.js",
	"./dv.js": "./node_modules/moment/locale/dv.js",
	"./el": "./node_modules/moment/locale/el.js",
	"./el.js": "./node_modules/moment/locale/el.js",
	"./en-au": "./node_modules/moment/locale/en-au.js",
	"./en-au.js": "./node_modules/moment/locale/en-au.js",
	"./en-ca": "./node_modules/moment/locale/en-ca.js",
	"./en-ca.js": "./node_modules/moment/locale/en-ca.js",
	"./en-gb": "./node_modules/moment/locale/en-gb.js",
	"./en-gb.js": "./node_modules/moment/locale/en-gb.js",
	"./en-ie": "./node_modules/moment/locale/en-ie.js",
	"./en-ie.js": "./node_modules/moment/locale/en-ie.js",
	"./en-il": "./node_modules/moment/locale/en-il.js",
	"./en-il.js": "./node_modules/moment/locale/en-il.js",
	"./en-nz": "./node_modules/moment/locale/en-nz.js",
	"./en-nz.js": "./node_modules/moment/locale/en-nz.js",
	"./eo": "./node_modules/moment/locale/eo.js",
	"./eo.js": "./node_modules/moment/locale/eo.js",
	"./es": "./node_modules/moment/locale/es.js",
	"./es-do": "./node_modules/moment/locale/es-do.js",
	"./es-do.js": "./node_modules/moment/locale/es-do.js",
	"./es-us": "./node_modules/moment/locale/es-us.js",
	"./es-us.js": "./node_modules/moment/locale/es-us.js",
	"./es.js": "./node_modules/moment/locale/es.js",
	"./et": "./node_modules/moment/locale/et.js",
	"./et.js": "./node_modules/moment/locale/et.js",
	"./eu": "./node_modules/moment/locale/eu.js",
	"./eu.js": "./node_modules/moment/locale/eu.js",
	"./fa": "./node_modules/moment/locale/fa.js",
	"./fa.js": "./node_modules/moment/locale/fa.js",
	"./fi": "./node_modules/moment/locale/fi.js",
	"./fi.js": "./node_modules/moment/locale/fi.js",
	"./fo": "./node_modules/moment/locale/fo.js",
	"./fo.js": "./node_modules/moment/locale/fo.js",
	"./fr": "./node_modules/moment/locale/fr.js",
	"./fr-ca": "./node_modules/moment/locale/fr-ca.js",
	"./fr-ca.js": "./node_modules/moment/locale/fr-ca.js",
	"./fr-ch": "./node_modules/moment/locale/fr-ch.js",
	"./fr-ch.js": "./node_modules/moment/locale/fr-ch.js",
	"./fr.js": "./node_modules/moment/locale/fr.js",
	"./fy": "./node_modules/moment/locale/fy.js",
	"./fy.js": "./node_modules/moment/locale/fy.js",
	"./gd": "./node_modules/moment/locale/gd.js",
	"./gd.js": "./node_modules/moment/locale/gd.js",
	"./gl": "./node_modules/moment/locale/gl.js",
	"./gl.js": "./node_modules/moment/locale/gl.js",
	"./gom-latn": "./node_modules/moment/locale/gom-latn.js",
	"./gom-latn.js": "./node_modules/moment/locale/gom-latn.js",
	"./gu": "./node_modules/moment/locale/gu.js",
	"./gu.js": "./node_modules/moment/locale/gu.js",
	"./he": "./node_modules/moment/locale/he.js",
	"./he.js": "./node_modules/moment/locale/he.js",
	"./hi": "./node_modules/moment/locale/hi.js",
	"./hi.js": "./node_modules/moment/locale/hi.js",
	"./hr": "./node_modules/moment/locale/hr.js",
	"./hr.js": "./node_modules/moment/locale/hr.js",
	"./hu": "./node_modules/moment/locale/hu.js",
	"./hu.js": "./node_modules/moment/locale/hu.js",
	"./hy-am": "./node_modules/moment/locale/hy-am.js",
	"./hy-am.js": "./node_modules/moment/locale/hy-am.js",
	"./id": "./node_modules/moment/locale/id.js",
	"./id.js": "./node_modules/moment/locale/id.js",
	"./is": "./node_modules/moment/locale/is.js",
	"./is.js": "./node_modules/moment/locale/is.js",
	"./it": "./node_modules/moment/locale/it.js",
	"./it.js": "./node_modules/moment/locale/it.js",
	"./ja": "./node_modules/moment/locale/ja.js",
	"./ja.js": "./node_modules/moment/locale/ja.js",
	"./jv": "./node_modules/moment/locale/jv.js",
	"./jv.js": "./node_modules/moment/locale/jv.js",
	"./ka": "./node_modules/moment/locale/ka.js",
	"./ka.js": "./node_modules/moment/locale/ka.js",
	"./kk": "./node_modules/moment/locale/kk.js",
	"./kk.js": "./node_modules/moment/locale/kk.js",
	"./km": "./node_modules/moment/locale/km.js",
	"./km.js": "./node_modules/moment/locale/km.js",
	"./kn": "./node_modules/moment/locale/kn.js",
	"./kn.js": "./node_modules/moment/locale/kn.js",
	"./ko": "./node_modules/moment/locale/ko.js",
	"./ko.js": "./node_modules/moment/locale/ko.js",
	"./ky": "./node_modules/moment/locale/ky.js",
	"./ky.js": "./node_modules/moment/locale/ky.js",
	"./lb": "./node_modules/moment/locale/lb.js",
	"./lb.js": "./node_modules/moment/locale/lb.js",
	"./lo": "./node_modules/moment/locale/lo.js",
	"./lo.js": "./node_modules/moment/locale/lo.js",
	"./lt": "./node_modules/moment/locale/lt.js",
	"./lt.js": "./node_modules/moment/locale/lt.js",
	"./lv": "./node_modules/moment/locale/lv.js",
	"./lv.js": "./node_modules/moment/locale/lv.js",
	"./me": "./node_modules/moment/locale/me.js",
	"./me.js": "./node_modules/moment/locale/me.js",
	"./mi": "./node_modules/moment/locale/mi.js",
	"./mi.js": "./node_modules/moment/locale/mi.js",
	"./mk": "./node_modules/moment/locale/mk.js",
	"./mk.js": "./node_modules/moment/locale/mk.js",
	"./ml": "./node_modules/moment/locale/ml.js",
	"./ml.js": "./node_modules/moment/locale/ml.js",
	"./mn": "./node_modules/moment/locale/mn.js",
	"./mn.js": "./node_modules/moment/locale/mn.js",
	"./mr": "./node_modules/moment/locale/mr.js",
	"./mr.js": "./node_modules/moment/locale/mr.js",
	"./ms": "./node_modules/moment/locale/ms.js",
	"./ms-my": "./node_modules/moment/locale/ms-my.js",
	"./ms-my.js": "./node_modules/moment/locale/ms-my.js",
	"./ms.js": "./node_modules/moment/locale/ms.js",
	"./mt": "./node_modules/moment/locale/mt.js",
	"./mt.js": "./node_modules/moment/locale/mt.js",
	"./my": "./node_modules/moment/locale/my.js",
	"./my.js": "./node_modules/moment/locale/my.js",
	"./nb": "./node_modules/moment/locale/nb.js",
	"./nb.js": "./node_modules/moment/locale/nb.js",
	"./ne": "./node_modules/moment/locale/ne.js",
	"./ne.js": "./node_modules/moment/locale/ne.js",
	"./nl": "./node_modules/moment/locale/nl.js",
	"./nl-be": "./node_modules/moment/locale/nl-be.js",
	"./nl-be.js": "./node_modules/moment/locale/nl-be.js",
	"./nl.js": "./node_modules/moment/locale/nl.js",
	"./nn": "./node_modules/moment/locale/nn.js",
	"./nn.js": "./node_modules/moment/locale/nn.js",
	"./pa-in": "./node_modules/moment/locale/pa-in.js",
	"./pa-in.js": "./node_modules/moment/locale/pa-in.js",
	"./pl": "./node_modules/moment/locale/pl.js",
	"./pl.js": "./node_modules/moment/locale/pl.js",
	"./pt": "./node_modules/moment/locale/pt.js",
	"./pt-br": "./node_modules/moment/locale/pt-br.js",
	"./pt-br.js": "./node_modules/moment/locale/pt-br.js",
	"./pt.js": "./node_modules/moment/locale/pt.js",
	"./ro": "./node_modules/moment/locale/ro.js",
	"./ro.js": "./node_modules/moment/locale/ro.js",
	"./ru": "./node_modules/moment/locale/ru.js",
	"./ru.js": "./node_modules/moment/locale/ru.js",
	"./sd": "./node_modules/moment/locale/sd.js",
	"./sd.js": "./node_modules/moment/locale/sd.js",
	"./se": "./node_modules/moment/locale/se.js",
	"./se.js": "./node_modules/moment/locale/se.js",
	"./si": "./node_modules/moment/locale/si.js",
	"./si.js": "./node_modules/moment/locale/si.js",
	"./sk": "./node_modules/moment/locale/sk.js",
	"./sk.js": "./node_modules/moment/locale/sk.js",
	"./sl": "./node_modules/moment/locale/sl.js",
	"./sl.js": "./node_modules/moment/locale/sl.js",
	"./sq": "./node_modules/moment/locale/sq.js",
	"./sq.js": "./node_modules/moment/locale/sq.js",
	"./sr": "./node_modules/moment/locale/sr.js",
	"./sr-cyrl": "./node_modules/moment/locale/sr-cyrl.js",
	"./sr-cyrl.js": "./node_modules/moment/locale/sr-cyrl.js",
	"./sr.js": "./node_modules/moment/locale/sr.js",
	"./ss": "./node_modules/moment/locale/ss.js",
	"./ss.js": "./node_modules/moment/locale/ss.js",
	"./sv": "./node_modules/moment/locale/sv.js",
	"./sv.js": "./node_modules/moment/locale/sv.js",
	"./sw": "./node_modules/moment/locale/sw.js",
	"./sw.js": "./node_modules/moment/locale/sw.js",
	"./ta": "./node_modules/moment/locale/ta.js",
	"./ta.js": "./node_modules/moment/locale/ta.js",
	"./te": "./node_modules/moment/locale/te.js",
	"./te.js": "./node_modules/moment/locale/te.js",
	"./tet": "./node_modules/moment/locale/tet.js",
	"./tet.js": "./node_modules/moment/locale/tet.js",
	"./tg": "./node_modules/moment/locale/tg.js",
	"./tg.js": "./node_modules/moment/locale/tg.js",
	"./th": "./node_modules/moment/locale/th.js",
	"./th.js": "./node_modules/moment/locale/th.js",
	"./tl-ph": "./node_modules/moment/locale/tl-ph.js",
	"./tl-ph.js": "./node_modules/moment/locale/tl-ph.js",
	"./tlh": "./node_modules/moment/locale/tlh.js",
	"./tlh.js": "./node_modules/moment/locale/tlh.js",
	"./tr": "./node_modules/moment/locale/tr.js",
	"./tr.js": "./node_modules/moment/locale/tr.js",
	"./tzl": "./node_modules/moment/locale/tzl.js",
	"./tzl.js": "./node_modules/moment/locale/tzl.js",
	"./tzm": "./node_modules/moment/locale/tzm.js",
	"./tzm-latn": "./node_modules/moment/locale/tzm-latn.js",
	"./tzm-latn.js": "./node_modules/moment/locale/tzm-latn.js",
	"./tzm.js": "./node_modules/moment/locale/tzm.js",
	"./ug-cn": "./node_modules/moment/locale/ug-cn.js",
	"./ug-cn.js": "./node_modules/moment/locale/ug-cn.js",
	"./uk": "./node_modules/moment/locale/uk.js",
	"./uk.js": "./node_modules/moment/locale/uk.js",
	"./ur": "./node_modules/moment/locale/ur.js",
	"./ur.js": "./node_modules/moment/locale/ur.js",
	"./uz": "./node_modules/moment/locale/uz.js",
	"./uz-latn": "./node_modules/moment/locale/uz-latn.js",
	"./uz-latn.js": "./node_modules/moment/locale/uz-latn.js",
	"./uz.js": "./node_modules/moment/locale/uz.js",
	"./vi": "./node_modules/moment/locale/vi.js",
	"./vi.js": "./node_modules/moment/locale/vi.js",
	"./x-pseudo": "./node_modules/moment/locale/x-pseudo.js",
	"./x-pseudo.js": "./node_modules/moment/locale/x-pseudo.js",
	"./yo": "./node_modules/moment/locale/yo.js",
	"./yo.js": "./node_modules/moment/locale/yo.js",
	"./zh-cn": "./node_modules/moment/locale/zh-cn.js",
	"./zh-cn.js": "./node_modules/moment/locale/zh-cn.js",
	"./zh-hk": "./node_modules/moment/locale/zh-hk.js",
	"./zh-hk.js": "./node_modules/moment/locale/zh-hk.js",
	"./zh-tw": "./node_modules/moment/locale/zh-tw.js",
	"./zh-tw.js": "./node_modules/moment/locale/zh-tw.js"
};
function webpackContext(req) {
	return __webpack_require__(webpackContextResolve(req));
};
function webpackContextResolve(req) {
	var id = map[req];
	if(!(id + 1)) // check for number or string
		throw new Error("Cannot find module '" + req + "'.");
	return id;
};
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = "./node_modules/moment/locale recursive ^\\.\\/.*$";

/***/ }),

/***/ "./src/$$_lazy_route_resource lazy recursive":
/***/ (function(module, exports) {

function webpackEmptyAsyncContext(req) {
	// Here Promise.resolve().then() is used instead of new Promise() to prevent
	// uncatched exception popping up in devtools
	return Promise.resolve().then(function() {
		throw new Error("Cannot find module '" + req + "'.");
	});
}
webpackEmptyAsyncContext.keys = function() { return []; };
webpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;
module.exports = webpackEmptyAsyncContext;
webpackEmptyAsyncContext.id = "./src/$$_lazy_route_resource lazy recursive";

/***/ }),

/***/ "./src/app/_animations/fade-in.animation.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return fadeInAnimation; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_animations__ = __webpack_require__("./node_modules/@angular/animations/esm5/animations.js");

var fadeInAnimation = Object(__WEBPACK_IMPORTED_MODULE_0__angular_animations__["j" /* trigger */])('fadeInAnimation', [
    // route 'enter' transition
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_animations__["i" /* transition */])(':enter', [
        // styles at start of transition
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_animations__["h" /* style */])({ opacity: 0 }),
        // animation and styles at end of transition
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_animations__["e" /* animate */])('.3s', Object(__WEBPACK_IMPORTED_MODULE_0__angular_animations__["h" /* style */])({ opacity: 1 }))
    ]),
]);


/***/ }),

/***/ "./src/app/_animations/index.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__fade_in_animation__ = __webpack_require__("./src/app/_animations/fade-in.animation.ts");
/* harmony namespace reexport (by used) */ __webpack_require__.d(__webpack_exports__, "a", function() { return __WEBPACK_IMPORTED_MODULE_0__fade_in_animation__["a"]; });
/* All animations in this folder should be listed here */



/***/ }),

/***/ "./src/app/_animations/profile-drawer.animation.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return profileDrawerAnimation; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_animations__ = __webpack_require__("./node_modules/@angular/animations/esm5/animations.js");

var profileDrawerAnimation = Object(__WEBPACK_IMPORTED_MODULE_0__angular_animations__["j" /* trigger */])('profileDrawerAnimation', [
    // route 'enter' transition
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_animations__["i" /* transition */])(':enter', [
        // styles at start of transition
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_animations__["h" /* style */])({ opacity: 0 }),
        // animation and styles at end of transition
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_animations__["e" /* animate */])('.1s', Object(__WEBPACK_IMPORTED_MODULE_0__angular_animations__["h" /* style */])({ opacity: 0 }))
    ]),
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_animations__["i" /* transition */])(':leave', [
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_animations__["e" /* animate */])('.2s', Object(__WEBPACK_IMPORTED_MODULE_0__angular_animations__["h" /* style */])({ opacity: 1 }))
    ])
]);


/***/ }),

/***/ "./src/app/app-routing.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AppRoutingModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__details_details_component__ = __webpack_require__("./src/app/details/details.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__menu_item_menu_item_component__ = __webpack_require__("./src/app/menu-item/menu-item.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__player_player_component__ = __webpack_require__("./src/app/player/player.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__view_all_view_all_component__ = __webpack_require__("./src/app/view-all/view-all.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__search_search_component__ = __webpack_require__("./src/app/search/search.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__sessions_sessions_component__ = __webpack_require__("./src/app/sessions/sessions.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__subscriptions_subscriptions_component__ = __webpack_require__("./src/app/subscriptions/subscriptions.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__payments_payments_component__ = __webpack_require__("./src/app/payments/payments.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__settings_languages_languages_component__ = __webpack_require__("./src/app/settings/languages/languages.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__settings_my_account_my_account_component__ = __webpack_require__("./src/app/settings/my-account/my-account.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__settings_my_account_edit_profile_edit_profile_component__ = __webpack_require__("./src/app/settings/my-account/edit-profile/edit-profile.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__settings_my_account_pairing_pairing_component__ = __webpack_require__("./src/app/settings/my-account/pairing/pairing.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__pricing_pricing_component__ = __webpack_require__("./src/app/pricing/pricing.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__settings_terms_conditions_terms_conditions_component__ = __webpack_require__("./src/app/settings/terms-conditions/terms-conditions.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__settings_help_help_component__ = __webpack_require__("./src/app/settings/help/help.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17__settings_faq_faq_component__ = __webpack_require__("./src/app/settings/faq/faq.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_18__settings_my_account_parental_parental_component__ = __webpack_require__("./src/app/settings/my-account/parental/parental.component.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};



















var routes = [
    {
        path: 'settings/terms-conditions',
        component: __WEBPACK_IMPORTED_MODULE_15__settings_terms_conditions_terms_conditions_component__["a" /* TermsConditionsComponent */]
    },
    {
        path: 'settings/help',
        component: __WEBPACK_IMPORTED_MODULE_16__settings_help_help_component__["a" /* HelpComponent */]
    },
    {
        path: 'settings/faq',
        component: __WEBPACK_IMPORTED_MODULE_17__settings_faq_faq_component__["a" /* FaqComponent */]
    },
    {
        path: 'pricing',
        component: __WEBPACK_IMPORTED_MODULE_14__pricing_pricing_component__["a" /* PricingComponent */]
    },
    {
        path: 'payments/:payObject/:payObjectId',
        component: __WEBPACK_IMPORTED_MODULE_9__payments_payments_component__["a" /* PaymentsComponent */]
    },
    {
        path: 'subscribe',
        component: __WEBPACK_IMPORTED_MODULE_8__subscriptions_subscriptions_component__["a" /* SubscriptionsComponent */]
    },
    {
        path: 'sessions',
        component: __WEBPACK_IMPORTED_MODULE_7__sessions_sessions_component__["a" /* SessionsComponent */]
    },
    {
        path: '',
        component: __WEBPACK_IMPORTED_MODULE_3__menu_item_menu_item_component__["a" /* MenuItemComponent */]
    },
    {
        path: ':id',
        component: __WEBPACK_IMPORTED_MODULE_3__menu_item_menu_item_component__["a" /* MenuItemComponent */]
    },
    {
        path: 'movie/:id',
        component: __WEBPACK_IMPORTED_MODULE_2__details_details_component__["a" /* DetailsComponent */]
    },
    {
        path: 'play/:id',
        component: __WEBPACK_IMPORTED_MODULE_4__player_player_component__["a" /* PlayerComponent */]
    },
    {
        path: 'tv-show/:id',
        component: __WEBPACK_IMPORTED_MODULE_2__details_details_component__["a" /* DetailsComponent */]
    },
    {
        path: 'tv-show/:id/:season/:episode',
        component: __WEBPACK_IMPORTED_MODULE_2__details_details_component__["a" /* DetailsComponent */]
    },
    {
        path: 'playlist/:id',
        component: __WEBPACK_IMPORTED_MODULE_5__view_all_view_all_component__["a" /* ViewAllComponent */]
    },
    {
        path: 'search/:query',
        component: __WEBPACK_IMPORTED_MODULE_6__search_search_component__["a" /* SearchComponent */]
    },
    {
        path: 'settings/languages',
        component: __WEBPACK_IMPORTED_MODULE_10__settings_languages_languages_component__["a" /* LanguagesComponent */]
    },
    {
        path: 'settings/my-account',
        component: __WEBPACK_IMPORTED_MODULE_11__settings_my_account_my_account_component__["a" /* MyAccountComponent */]
    },
    {
        path: 'settings/my-account/edit',
        component: __WEBPACK_IMPORTED_MODULE_12__settings_my_account_edit_profile_edit_profile_component__["a" /* EditProfileComponent */]
    },
    {
        path: 'settings/my-account/pairing',
        component: __WEBPACK_IMPORTED_MODULE_13__settings_my_account_pairing_pairing_component__["a" /* PairingComponent */]
    },
    {
        path: 'settings/my-account/parental-control',
        component: __WEBPACK_IMPORTED_MODULE_18__settings_my_account_parental_parental_component__["a" /* ParentalComponent */]
    }
];
var AppRoutingModule = /** @class */ (function () {
    function AppRoutingModule() {
    }
    AppRoutingModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["I" /* NgModule */])({
            imports: [__WEBPACK_IMPORTED_MODULE_1__angular_router__["g" /* RouterModule */].forRoot(routes)],
            exports: [__WEBPACK_IMPORTED_MODULE_1__angular_router__["g" /* RouterModule */]]
        })
    ], AppRoutingModule);
    return AppRoutingModule;
}());



/***/ }),

/***/ "./src/app/app.component.html":
/***/ (function(module, exports) {

module.exports = "<div id=\"AppTop\" class=\"app-container\">\r\n  <div class=\"header-container\">\r\n    <div class=\"header-content\">\r\n      <header class=\"app-header flex-grid\">\r\n        <app-menu></app-menu>\r\n      </header>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"app-content\">\r\n    <router-outlet></router-outlet>\r\n  </div>\r\n  <footer class=\"app-footer\">\r\n    <div id=\"footer-container\">\r\n    <app-footer></app-footer>\r\n    </div>\r\n  </footer>\r\n  <app-loading></app-loading>\r\n\r\n  <app-login></app-login>\r\n  <app-register></app-register>\r\n\r\n  <!--<app-parental></app-parental>-->\r\n  <app-recover-pin></app-recover-pin>\r\n  <app-change-pin></app-change-pin>\r\n  <!--<app-sessions></app-sessions>-->\r\n\r\n  <!-- change pin modal -->\r\n  <div *ngIf=\"viewLandingPage==false\" class=\"popup-container\">\r\n    <div class=\"popup-close\" (click)=\"viewLandingPage=false\"></div>\r\n    <div class=\"popup-content\">\r\n      <div id=\"changeParentalPinContent\">\r\n        <span class=\"close-button\" (click)=\"showChangeModal=false\"></span>\r\n        <h4>HARDCODED: Sign in with your account to enjoy all your favourite VOD and TV content </h4>\r\n        <button (click)=\"showLogin()\">{{globals.strings.LOGIN_SCREEN_LOGIN}}</button><br><br>\r\n        <button (click)=\"verifyChangePin()\">{{globals.strings.BUTTON_CHANGE_PIN}}</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n\r\n\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/app.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AppComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_simplebar_dist_simplebar_js__ = __webpack_require__("./node_modules/simplebar/dist/simplebar.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_simplebar_dist_simplebar_js___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_simplebar_dist_simplebar_js__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__globals_service__ = __webpack_require__("./src/app/globals.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__login_login_popup_service__ = __webpack_require__("./src/app/login/login-popup.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var AppComponent = /** @class */ (function () {
    function AppComponent(router, globals, login) {
        this.router = router;
        this.globals = globals;
        this.login = login;
        this.viewLandingPage = true;
    }
    AppComponent.prototype.ngOnInit = function () {
        this.router.events.subscribe(function (event) {
            if (event instanceof __WEBPACK_IMPORTED_MODULE_1__angular_router__["e" /* NavigationStart */]) {
            }
            else if (event instanceof __WEBPACK_IMPORTED_MODULE_1__angular_router__["c" /* NavigationEnd */] || event instanceof __WEBPACK_IMPORTED_MODULE_1__angular_router__["d" /* NavigationError */] || event instanceof __WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* NavigationCancel */]) {
            }
        });
    };
    AppComponent.prototype.showLogin = function () {
        if (!this.globals.userLoggedIn)
            this.login.show.next(true);
    };
    AppComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["n" /* Component */])({
            selector: 'app-root',
            template: __webpack_require__("./src/app/app.component.html")
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_router__["f" /* Router */],
            __WEBPACK_IMPORTED_MODULE_3__globals_service__["a" /* GlobalsService */],
            __WEBPACK_IMPORTED_MODULE_4__login_login_popup_service__["a" /* LoginPopupService */]])
    ], AppComponent);
    return AppComponent;
}());



/***/ }),

/***/ "./src/app/app.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AppModule; });
/* unused harmony export configServiceFactory */
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_platform_browser__ = __webpack_require__("./node_modules/@angular/platform-browser/esm5/platform-browser.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_http__ = __webpack_require__("./node_modules/@angular/http/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__angular_common_http__ = __webpack_require__("./node_modules/@angular/common/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__angular_platform_browser_animations__ = __webpack_require__("./node_modules/@angular/platform-browser/esm5/animations.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__config_service__ = __webpack_require__("./src/app/config.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__app_component__ = __webpack_require__("./src/app/app.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__app_routing_module__ = __webpack_require__("./src/app/app-routing.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__globals_service__ = __webpack_require__("./src/app/globals.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__utils_service__ = __webpack_require__("./src/app/utils.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__menu_menu_module__ = __webpack_require__("./src/app/menu/menu.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__footer_footer_module__ = __webpack_require__("./src/app/footer/footer.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__menu_item_menu_item_module__ = __webpack_require__("./src/app/menu-item/menu-item.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__screen_screen_module__ = __webpack_require__("./src/app/screen/screen.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__details_details_module__ = __webpack_require__("./src/app/details/details.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__view_all_view_all_module__ = __webpack_require__("./src/app/view-all/view-all.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17__playlist_element_playlist_element_module__ = __webpack_require__("./src/app/playlist-element/playlist-element.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_18__player_player_module__ = __webpack_require__("./src/app/player/player.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_19__carousel_carousel_module__ = __webpack_require__("./src/app/carousel/carousel.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_20__listing_listing_module__ = __webpack_require__("./src/app/listing/listing.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_21__guide_guide_module__ = __webpack_require__("./src/app/guide/guide.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_22__loading_loading_module__ = __webpack_require__("./src/app/loading/loading.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_23__search_search_module__ = __webpack_require__("./src/app/search/search.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_24__login_login_module__ = __webpack_require__("./src/app/login/login.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_25__login_login_popup_service__ = __webpack_require__("./src/app/login/login-popup.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_26__register_register_module__ = __webpack_require__("./src/app/register/register.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_27__register_register_popup_service__ = __webpack_require__("./src/app/register/register-popup.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_28__select_box_select_box_module__ = __webpack_require__("./src/app/select-box/select-box.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_29__models_playlist_service__ = __webpack_require__("./src/app/models/playlist.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_30__user_user_module__ = __webpack_require__("./src/app/user/user.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_31__user_user_service__ = __webpack_require__("./src/app/user/user.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_32__profile_drawer_profile_drawer_module__ = __webpack_require__("./src/app/profile-drawer/profile-drawer.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_33__profile_drawer_profile_drawer_service__ = __webpack_require__("./src/app/profile-drawer/profile-drawer.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_34__settings_my_account_parental_parental_module__ = __webpack_require__("./src/app/settings/my-account/parental/parental.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_35__recover_pin_recover_pin_module__ = __webpack_require__("./src/app/recover-pin/recover-pin.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_36__change_pin_change_pin_module__ = __webpack_require__("./src/app/change-pin/change-pin.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_37__sessions_sessions_module__ = __webpack_require__("./src/app/sessions/sessions.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_38__subscriptions_subscriptions_module__ = __webpack_require__("./src/app/subscriptions/subscriptions.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_39__payments_payments_module__ = __webpack_require__("./src/app/payments/payments.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_40__settings_settings_module__ = __webpack_require__("./src/app/settings/settings.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_41__pricing_pricing_module__ = __webpack_require__("./src/app/pricing/pricing.module.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};










































var AppModule = /** @class */ (function () {
    function AppModule() {
    }
    AppModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_1__angular_core__["I" /* NgModule */])({
            declarations: [
                __WEBPACK_IMPORTED_MODULE_7__app_component__["a" /* AppComponent */],
            ],
            imports: [
                __WEBPACK_IMPORTED_MODULE_4__angular_common_http__["b" /* HttpClientModule */],
                __WEBPACK_IMPORTED_MODULE_0__angular_platform_browser__["a" /* BrowserModule */],
                __WEBPACK_IMPORTED_MODULE_8__app_routing_module__["a" /* AppRoutingModule */],
                __WEBPACK_IMPORTED_MODULE_3__angular_http__["b" /* HttpModule */],
                __WEBPACK_IMPORTED_MODULE_2__angular_forms__["a" /* FormsModule */],
                __WEBPACK_IMPORTED_MODULE_15__details_details_module__["a" /* DetailsModule */],
                __WEBPACK_IMPORTED_MODULE_19__carousel_carousel_module__["a" /* CarouselModule */],
                __WEBPACK_IMPORTED_MODULE_20__listing_listing_module__["a" /* ListingModule */],
                __WEBPACK_IMPORTED_MODULE_17__playlist_element_playlist_element_module__["a" /* PlaylistElementModule */],
                __WEBPACK_IMPORTED_MODULE_12__footer_footer_module__["a" /* FooterModule */],
                __WEBPACK_IMPORTED_MODULE_22__loading_loading_module__["a" /* LoadingModule */],
                __WEBPACK_IMPORTED_MODULE_23__search_search_module__["a" /* SearchModule */],
                __WEBPACK_IMPORTED_MODULE_21__guide_guide_module__["a" /* GuideModule */],
                __WEBPACK_IMPORTED_MODULE_11__menu_menu_module__["a" /* MenuModule */],
                __WEBPACK_IMPORTED_MODULE_24__login_login_module__["a" /* LoginModule */],
                __WEBPACK_IMPORTED_MODULE_26__register_register_module__["a" /* RegisterModule */],
                __WEBPACK_IMPORTED_MODULE_13__menu_item_menu_item_module__["a" /* MenuItemModule */],
                __WEBPACK_IMPORTED_MODULE_14__screen_screen_module__["a" /* ScreenModule */],
                __WEBPACK_IMPORTED_MODULE_18__player_player_module__["a" /* PlayerModule */],
                __WEBPACK_IMPORTED_MODULE_16__view_all_view_all_module__["a" /* ViewAllModule */],
                __WEBPACK_IMPORTED_MODULE_28__select_box_select_box_module__["a" /* SelectBoxModule */],
                __WEBPACK_IMPORTED_MODULE_30__user_user_module__["a" /* UserModule */],
                __WEBPACK_IMPORTED_MODULE_5__angular_platform_browser_animations__["a" /* BrowserAnimationsModule */],
                __WEBPACK_IMPORTED_MODULE_32__profile_drawer_profile_drawer_module__["a" /* ProfileDrawerModule */],
                __WEBPACK_IMPORTED_MODULE_34__settings_my_account_parental_parental_module__["a" /* ParentalModule */],
                __WEBPACK_IMPORTED_MODULE_35__recover_pin_recover_pin_module__["a" /* RecoverPinModule */],
                __WEBPACK_IMPORTED_MODULE_36__change_pin_change_pin_module__["a" /* ChangePinModule */],
                __WEBPACK_IMPORTED_MODULE_37__sessions_sessions_module__["a" /* SessionsModule */],
                __WEBPACK_IMPORTED_MODULE_38__subscriptions_subscriptions_module__["a" /* SubscriptionsModule */],
                __WEBPACK_IMPORTED_MODULE_39__payments_payments_module__["a" /* PaymentsModule */],
                __WEBPACK_IMPORTED_MODULE_40__settings_settings_module__["a" /* SettingsModule */],
                __WEBPACK_IMPORTED_MODULE_41__pricing_pricing_module__["a" /* PricingModule */]
            ],
            providers: [
                __WEBPACK_IMPORTED_MODULE_9__globals_service__["a" /* GlobalsService */],
                __WEBPACK_IMPORTED_MODULE_10__utils_service__["a" /* UtilsService */],
                __WEBPACK_IMPORTED_MODULE_29__models_playlist_service__["a" /* PlaylistService */],
                __WEBPACK_IMPORTED_MODULE_6__config_service__["a" /* ConfigService */],
                __WEBPACK_IMPORTED_MODULE_25__login_login_popup_service__["a" /* LoginPopupService */],
                __WEBPACK_IMPORTED_MODULE_27__register_register_popup_service__["a" /* RegisterPopupService */],
                {
                    provide: __WEBPACK_IMPORTED_MODULE_1__angular_core__["d" /* APP_INITIALIZER */],
                    useFactory: configServiceFactory,
                    deps: [__WEBPACK_IMPORTED_MODULE_6__config_service__["a" /* ConfigService */]],
                    multi: true
                },
                __WEBPACK_IMPORTED_MODULE_31__user_user_service__["a" /* UserService */],
                __WEBPACK_IMPORTED_MODULE_33__profile_drawer_profile_drawer_service__["a" /* ProfileDrawerService */],
            ],
            bootstrap: [__WEBPACK_IMPORTED_MODULE_7__app_component__["a" /* AppComponent */]]
        })
    ], AppModule);
    return AppModule;
}());

function configServiceFactory(config) {
    return function () { return config.load(); };
}


/***/ }),

/***/ "./src/app/carousel/carousel.component.html":
/***/ (function(module, exports) {

module.exports = "<div appSlickItem\r\n       class=\"carousel-container\"\r\n       [ngClass]=\"{'carousel-seasons': isSeasons}\"\r\n       dir=\"{{data?.layout.presentation_order == 'RTL' ? 'RTL' : 'LTR'}}\"\r\n       *ngFor=\"let el of data?.playlist.contents\">\r\n    <div id={{el.id}} class=\"expandVisibleRange\" (click)=\"onslickSlideClick(el.id)\">\r\n      <app-playlist-element [data]=\"el\" [layout]=\"data?.layout\" [showExtraInfo]=\"false\" [clickFn]=\"clickFn\"></app-playlist-element>  <!-- [ngStyle]=\"{'height': '0px', 'top': '-20px'}\"  (click)=\"onslickSlideClick(el.callback,$event) -->\r\n    </div>\r\n  </div>"

/***/ }),

/***/ "./src/app/carousel/carousel.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CarouselComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__models_playlist_service__ = __webpack_require__("./src/app/models/playlist.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_jquery__ = __webpack_require__("./node_modules/jquery/dist/jquery.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_jquery___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_jquery__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_slick_carousel_slick_slick__ = __webpack_require__("./node_modules/slick-carousel/slick/slick.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_slick_carousel_slick_slick___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_slick_carousel_slick_slick__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__details_details_service__ = __webpack_require__("./src/app/details/details.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var CarouselComponent = /** @class */ (function () {
    function CarouselComponent(service, serviceDetail, elem, zone) {
        this.service = service;
        this.serviceDetail = serviceDetail;
        this.elem = elem;
        this.zone = zone;
        this.pagesLoaded = 1; //Pagination pages loaded. Starts at 1, since 1 page is always loaded
        // showCarousel: boolean = false;    //Indicates that the carousel is ready to show on the page
        this.initialized = false;
        this.slides = [];
        this.numSlides = 0;
        this.carrHeight = 0; // altura da imagem (quando existe) do carrousel
        this.RuiTeste = "111px";
    }
    /**
     * Used on the ngFor directive for tracking purposes
     * @param index
     * @param element
     * @returns {number}
     */
    CarouselComponent.prototype.trackByContent = function (index, element) {
        return element.id;
    };
    CarouselComponent.prototype.ngAfterViewInit = function () {
        //This object will contain other objects with the structure slick.js
        //uses to set-up its responsive options
        //########## Slickj.js event binding ##########
        //    this.$carousel.on('init', () => {
        //      //This is so the carousel graciously appears on the page.
        //      //It sets opacity to 1 and the opacity has a transition period
        //      setTimeout(() => {
        //        this.showCarousel = true;
        //      }, 300);
        //      console.log("Timer for slick onInit")
        //    });
        //TODO finish pagination
        // $(this.id).on('beforeChange', ()=> {
        //   if(this.data.playlist.contents.length < this.data.playlist.pagination.total_size) {
        //     this.getNextPage(this.data.playlist.id, 2, ++this.pagesLoaded);
        //   }
        // });
        //this.$carousel.on('destroy', function(event, slick, currentSlide, nextSlide){
        //  console.log("Slick destroyed");
        //});
        // To adapt the positioning of the carousel items when they don't fill the row
        if (this.data && this.data.hasOwnProperty('layout')) {
            if (this.data.layout.move_after_behaviour == 'left' || this.data.layout.move_after_behaviour == 'when_needed' || this.data.layout.move_after_behaviour == 'fixed')
                this.$carousel.find('.slick-track').addClass("alignLeft");
            if (this.data.layout.move_after_behaviour == 'right')
                this.$carousel.find('.slick-track').addClass("alignRight");
        }
        /*
              // When the page is refreshed no onload for the first image is triggered and the navigatiuon arrows must still be repositioned
              if(this.carrHeight > 0) {
                  this.$carousel.find('.slick-arrow')[0].style.top=this.carrHeight/2+'px';
                  this.$carousel.find('.slick-arrow')[1].style.top='10px';
              }
        */
    };
    CarouselComponent.prototype.ngOnInit = function () {
    };
    CarouselComponent.prototype.ngOnChanges = function (changes) {
        // only run when property "data" changed
        if (this.data && changes['data']) {
            //Sometimes the columns come in decimal values. Slick does not play well with that so we round it
            this.data.layout.columns = Math.round(this.data.layout.columns);
            //The step is 25% of the total number of columns for the highest resolution, so for a 8 column layout
            //the step would be 2, and we'd have 8 columns at the highest resolution, 6 on the one below it, 4 on the next one,
            //and 2 on the smallest resolution
            this.step = Math.round(this.data.layout.columns * 0.25);
            this.extraFun = this.data.playlist.contents[0].hasOwnProperty("view");
            //          console.log("Rui in Carousel onInit");
            //          console.log(this.data);
        }
    };
    /**
     * Fetches the next page of the carousel
     * @param id
     * @param limit
     * @param page
     */
    /*
    getNextPage(id: string, limit: number, page: number) {
      this.service.getPlaylist(id, limit, page)
        .subscribe(
          response => this.addSlides(response),
          error => console.log(error),
          () => {
          })
    }
    */
    /**
     * Adds the slides on newSlides to the carousel
     * @param newSlides
     */
    /*
    addSlides(newSlides: object) {
      for (let i in newSlides) {
        this.data.playlist.contents.push(newSlides[i]);
        this.$carousel.slick('slickAdd', newSlides[i].id);
      }
    }
    */
    CarouselComponent.prototype.calculateConfig = function () {
        var responsiveOptions = [];
        this.breakpoints = [5000, 1280, 768, 500, 0];
        //    this.$carousel = '#carousel-' + this.data.playlist.id + '-' + this.data.playlist.slug + '-' + this.data.layout.id;
        //This to create the responsive options object for the slick config
        for (var i = 0; i < this.breakpoints.length; i++) {
            var obj = {};
            var currentNumberOfSlides = Math.round(this.data.layout.columns) - i * this.step;
            obj.breakpoint = this.breakpoints[i];
            obj.settings = {
                slidesToShow: currentNumberOfSlides > 0 ? currentNumberOfSlides : 1,
                slidesToScroll: currentNumberOfSlides > 0 ? currentNumberOfSlides : 1
            };
            responsiveOptions.push(obj);
        }
        //######### SlickJS configuration. Refer documentation for more info ########
        this.config = {
            'infinite': this.data.layout.layout_type == 'loop_carousel' || this.isSeasons,
            'speed': this.data.layout.animation_transition_speed,
            'rtl': this.data.layout.presentation_order == 'RTL',
            'dots': (this.data.layout.pagination_indicator == 'none' ? false : true),
            'lazyLoad': 'ondemand',
            'rows': 0,
            'responsive': responsiveOptions,
        };
    };
    CarouselComponent.prototype.initCarousel = function () {
        var _this = this;
        this.zone.runOutsideAngular(function () {
            _this.calculateConfig();
            _this.$carousel = __WEBPACK_IMPORTED_MODULE_2_jquery__(_this.elem.nativeElement).slick(_this.config);
        });
    };
    /**
     * Adds the slide to the carousel
     * @param slide
     */
    CarouselComponent.prototype.addSlide = function (slide) {
        if (!this.initialized) // if carousel is not initialized, then initialize it
            this.initCarousel();
        this.slides.push(slide);
        if (this.extraFun && this.data.playlist.contents[this.numSlides].view.selected) {
            this.selectedSlide = this.data.playlist.contents[this.numSlides].id; // With Extra functionality there is a slide that is selected
            __WEBPACK_IMPORTED_MODULE_2_jquery__("#" + this.selectedSlide).toggleClass('highlight');
        }
        this.$carousel.slick('slickAdd', slide.el.nativeElement);
        this.initialized = true;
        this.numSlides++;
    };
    CarouselComponent.prototype.removeSlide = function (slide) {
        var idx = this.slides.indexOf(slide);
        this.$carousel.slick('slickRemove', idx);
        this.slides = this.slides.filter(function (s) { return s != slide; });
    };
    /*
    getSeason(season: string) {
      //this.serviceDetail.getSeason(season,this.data.asset.id,this.data.screen.blocks[1].widgets[0].layout.id);
      this.serviceDetail.getSeason(season);
    }
    */
    CarouselComponent.prototype.onslickSlideClick = function (slideId) {
        if (this.extraFun) {
            __WEBPACK_IMPORTED_MODULE_2_jquery__("#" + this.selectedSlide).toggleClass('highlight');
            __WEBPACK_IMPORTED_MODULE_2_jquery__("#" + slideId).toggleClass('highlight');
            this.selectedSlide = slideId;
        }
        this.$carousel.find('.slick-track').addClass("alignLeft");
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["D" /* Input */])(),
        __metadata("design:type", Object)
    ], CarouselComponent.prototype, "data", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["D" /* Input */])(),
        __metadata("design:type", Boolean)
    ], CarouselComponent.prototype, "isSeasons", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["D" /* Input */])(),
        __metadata("design:type", Object)
    ], CarouselComponent.prototype, "clickFn", void 0);
    CarouselComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["n" /* Component */])({
            selector: 'app-carousel',
            template: __webpack_require__("./src/app/carousel/carousel.component.html")
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__models_playlist_service__["a" /* PlaylistService */],
            __WEBPACK_IMPORTED_MODULE_4__details_details_service__["a" /* DetailsService */],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["t" /* ElementRef */], __WEBPACK_IMPORTED_MODULE_0__angular_core__["N" /* NgZone */]])
    ], CarouselComponent);
    return CarouselComponent;
}());



/***/ }),

/***/ "./src/app/carousel/carousel.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CarouselModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common__ = __webpack_require__("./node_modules/@angular/common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__carousel_component__ = __webpack_require__("./src/app/carousel/carousel.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__playlist_element_playlist_element_module__ = __webpack_require__("./src/app/playlist-element/playlist-element.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__slick_item_directive__ = __webpack_require__("./src/app/carousel/slick-item.directive.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};





var CarouselModule = /** @class */ (function () {
    function CarouselModule() {
    }
    CarouselModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["I" /* NgModule */])({
            imports: [
                __WEBPACK_IMPORTED_MODULE_1__angular_common__["b" /* CommonModule */],
                __WEBPACK_IMPORTED_MODULE_3__playlist_element_playlist_element_module__["a" /* PlaylistElementModule */]
            ],
            declarations: [
                __WEBPACK_IMPORTED_MODULE_2__carousel_component__["a" /* CarouselComponent */],
                __WEBPACK_IMPORTED_MODULE_4__slick_item_directive__["a" /* SlickItemDirective */]
            ],
            exports: [
                __WEBPACK_IMPORTED_MODULE_2__carousel_component__["a" /* CarouselComponent */]
            ],
            providers: []
        })
    ], CarouselModule);
    return CarouselModule;
}());



/***/ }),

/***/ "./src/app/carousel/slick-item.directive.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SlickItemDirective; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__carousel_component__ = __webpack_require__("./src/app/carousel/carousel.component.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};


var SlickItemDirective = /** @class */ (function () {
    function SlickItemDirective(el, carousel) {
        this.el = el;
        this.carousel = carousel;
    }
    SlickItemDirective.prototype.ngAfterViewInit = function () {
        this.carousel.addSlide(this);
    };
    SlickItemDirective.prototype.ngOnDestroy = function () {
        this.carousel.removeSlide(this);
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["D" /* Input */])(),
        __metadata("design:type", String)
    ], SlickItemDirective.prototype, "tcolor", void 0);
    SlickItemDirective = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["s" /* Directive */])({
            selector: '[appSlickItem]'
        }),
        __param(1, Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["w" /* Host */])()),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_0__angular_core__["t" /* ElementRef */], __WEBPACK_IMPORTED_MODULE_1__carousel_component__["a" /* CarouselComponent */]])
    ], SlickItemDirective);
    return SlickItemDirective;
}());



/***/ }),

/***/ "./src/app/change-pin/change-pin-popup.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ChangePinPopupService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_rxjs_Rx__ = __webpack_require__("./node_modules/rxjs/_esm5/Rx.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var ChangePinPopupService = /** @class */ (function () {
    function ChangePinPopupService() {
        this.show = new __WEBPACK_IMPORTED_MODULE_1_rxjs_Rx__["a" /* Subject */]();
    }
    ChangePinPopupService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["A" /* Injectable */])(),
        __metadata("design:paramtypes", [])
    ], ChangePinPopupService);
    return ChangePinPopupService;
}());



/***/ }),

/***/ "./src/app/change-pin/change-pin.component.html":
/***/ (function(module, exports) {

module.exports = "<div *ngIf=\"isVisible\" class=\"popup-container\">\r\n  <div class=\"popup-close\" (click)=\"isVisible=false\"></div>\r\n  <div class=\"popup-content\">\r\n    <div>\r\n      <span class=\"close-button\" (click)=\"isVisible=false\"></span>\r\n      <div class=\"divEnterPin\">\r\n        <p class=\"pEnterPin\">{{globals.strings.INFO_PIN_INSERTION}}</p>\r\n        <input #ctrl=\"ngModel\" [(ngModel)]=\"thePin\" class=\"iEnterPin\" type=\"text\" (keyup)=\"handleKey($event)\" size=\"4\" min=\"\" maxlength=\"4\">\r\n        <p class=\"pRecoverPin\"><a (click)=\"recoverPin()\">{{globals.strings.SCREEN_RECOVER_PIN}}</a></p>\r\n        <div class=\"divBtnPin\">\r\n            <button class=\"btnEnterPin\" (click)=\"enterPin()\">{{globals.strings.PIN_NEW}}</button>\r\n        </div>\r\n        <div class=\"divPinErr\">\r\n            <p *ngIf=\"showErr\" class=\"pPinErr\">{{globals.strings.ERROR_PIN_SHORT}}</p>\r\n        </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/change-pin/change-pin.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ChangePinComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__globals_service__ = __webpack_require__("./src/app/globals.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_common_http__ = __webpack_require__("./node_modules/@angular/common/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__change_pin_popup_service__ = __webpack_require__("./src/app/change-pin/change-pin-popup.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__recover_pin_recover_pin_popup_service__ = __webpack_require__("./src/app/recover-pin/recover-pin-popup.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var ChangePinComponent = /** @class */ (function () {
    function ChangePinComponent(globals, popup, recoverPinPopup, http) {
        var _this = this;
        this.globals = globals;
        this.popup = popup;
        this.recoverPinPopup = recoverPinPopup;
        this.http = http;
        this.isVisible = false;
        this.showErr = false;
        popup.show.subscribe(function (val) { return _this.showPopup(); });
    }
    ChangePinComponent.prototype.ngOnInit = function () {
    };
    ChangePinComponent.prototype.showPopup = function () {
        this.isVisible = true;
        this.thePin = '';
        this.showErr = false;
        this.oldParentalPin = '';
    };
    ChangePinComponent.prototype.enterPin = function () {
        if (this.thePin.toString().length !== 4) {
            this.showErr = true;
            return;
        }
        alert('Code commented... waiting for server side development');
        /*
        let path = this.globals.endpoints.updateParentalPin;
        path = path.replace('{account_token}', this.globals.accountToken);
    
        const headers = new HttpHeaders()
          .set('Accept-Language', this.globals.settings.default_language)
          .set('Authorization', this.globals.settings.authToken);
    
        const params = new HttpParams()
          .set('device_type', 'web')
          .set('parentalpin' , this.thePin.toString()) must be sent on the string TODO
          .set('oldparentalpin', this.oldParentalPin); send parentalpin and oldparentalpin on the string
    
        // PUT: Change; POST: user input verification
        this.http.put(path, {headers: headers, params: params})
          .toPromise()
          .then()
          .catch(err => console.error(err));
       */
    };
    ChangePinComponent.prototype.handleKey = function (event) {
        var entry = event.target.value.toString();
        var filtered = '';
        var c = '';
        var i;
        this.showErr = false;
        var limit = entry.length;
        if (limit > 4) { // assuming that the PIN length is 4
            limit = 4;
        }
        for (i = 0; i < limit; i++) {
            c = entry.substring(i, i + 1);
            if (c >= '0' && c <= '9') {
                filtered += c;
            }
        }
        this.thePin = filtered;
    };
    ChangePinComponent.prototype.recoverPin = function () {
        this.isVisible = false;
        this.recoverPinPopup.show.next(true);
    };
    ChangePinComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["n" /* Component */])({
            selector: 'app-change-pin',
            template: __webpack_require__("./src/app/change-pin/change-pin.component.html")
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__globals_service__["a" /* GlobalsService */],
            __WEBPACK_IMPORTED_MODULE_3__change_pin_popup_service__["a" /* ChangePinPopupService */],
            __WEBPACK_IMPORTED_MODULE_4__recover_pin_recover_pin_popup_service__["a" /* RecoverPinPopupService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_common_http__["a" /* HttpClient */]])
    ], ChangePinComponent);
    return ChangePinComponent;
}());



/***/ }),

/***/ "./src/app/change-pin/change-pin.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ChangePinModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common__ = __webpack_require__("./node_modules/@angular/common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__change_pin_component__ = __webpack_require__("./src/app/change-pin/change-pin.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__change_pin_popup_service__ = __webpack_require__("./src/app/change-pin/change-pin-popup.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};





var ChangePinModule = /** @class */ (function () {
    function ChangePinModule() {
    }
    ChangePinModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["I" /* NgModule */])({
            imports: [
                __WEBPACK_IMPORTED_MODULE_1__angular_common__["b" /* CommonModule */],
                __WEBPACK_IMPORTED_MODULE_2__angular_forms__["a" /* FormsModule */],
                __WEBPACK_IMPORTED_MODULE_2__angular_forms__["b" /* ReactiveFormsModule */]
            ],
            declarations: [__WEBPACK_IMPORTED_MODULE_3__change_pin_component__["a" /* ChangePinComponent */]],
            providers: [__WEBPACK_IMPORTED_MODULE_4__change_pin_popup_service__["a" /* ChangePinPopupService */]],
            exports: [__WEBPACK_IMPORTED_MODULE_3__change_pin_component__["a" /* ChangePinComponent */]]
        })
    ], ChangePinModule);
    return ChangePinModule;
}());



/***/ }),

/***/ "./src/app/config.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ConfigService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__globals_service__ = __webpack_require__("./src/app/globals.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_add_operator_toPromise__ = __webpack_require__("./node_modules/rxjs/_esm5/add/operator/toPromise.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_add_operator_toPromise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_rxjs_add_operator_toPromise__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_common_http__ = __webpack_require__("./node_modules/@angular/common/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__subscriptions_subscriptions_service__ = __webpack_require__("./src/app/subscriptions/subscriptions.service.ts");
/*
This code is ran before anything else in the website
 */
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var ConfigService = /** @class */ (function () {
    function ConfigService(http, globals, subscriptionService) {
        this.http = http;
        this.globals = globals;
        this.subscriptionService = subscriptionService;
    }
    ConfigService.prototype.load = function () {
        var _this = this;
        return new Promise(function (resolve) {
            // First off, get settings and chain other vital tasks
            // build_version doesn't seem to be relevant on website, defaulting to '1'
            var params = new __WEBPACK_IMPORTED_MODULE_3__angular_common_http__["d" /* HttpParams */]()
                .set('device_type', 'web')
                .set('device_layout', 'web')
                .set('build_version', '1');
            _this.http.get(_this.globals.endpoints.settings, { params: params })
                .toPromise()
                .then(function (res) {
                _this.globals.settings = res.data;
                if (_this.globals.settings.user_configurations.hasOwnProperty('authentication_providers')) {
                    _this.globals.nbrOfLoginProviders = _this.globals.settings.user_configurations.authentication_providers.length;
                }
                // FIXME: delete after testing!
                //this.globals.nbrOfLoginProviders = 3;
                // Get available languages.
                var params = new __WEBPACK_IMPORTED_MODULE_3__angular_common_http__["d" /* HttpParams */]()
                    .set('device_type', 'web')
                    .set('limit', '20')
                    .set('page', '1');
                _this.http.get(_this.globals.endpoints.languages, { params: params })
                    .toPromise()
                    .then(function (res) {
                    _this.globals.languages = res.data;
                    // Get the app's strings based on the default language
                    // TODO: implement browser language detection for auto selection of the language (fallback to EN)
                    var headers = new __WEBPACK_IMPORTED_MODULE_3__angular_common_http__["c" /* HttpHeaders */]()
                        .set('Accept-Language', _this.globals.settings.default_language);
                    var params = new __WEBPACK_IMPORTED_MODULE_3__angular_common_http__["d" /* HttpParams */]()
                        .set('device_type', 'web');
                    _this.http.get(_this.globals.endpoints.strings, { headers: headers, params: params })
                        .toPromise()
                        .then(function (res) {
                        _this.globals.strings = res.data;
                        // Get the available subscriptions for this platform
                        // @MOD 2018-03-19 - Check if the rules allow subscriptions
                        if (_this.globals.rules.subscriptions)
                            _this.subscriptionService.getAllSubscriptions();
                        /*
                         * @Bug fix/feature implementation 2018-05-19 - (pdoriam)
                         * Maintain user logged-in status after refresh/between sessions
                         * @Notes: check if there's an auth_token and profile_token in local storage
                         *         and auto-login user if so.
                         */
                        var profileToken = localStorage.getItem(_this.globals.localStorageKeyPrefix + 'CURRPROF');
                        var authToken = localStorage.getItem(_this.globals.localStorageKeyPrefix + 'AUTHTOKEN');
                        var accToken = localStorage.getItem(_this.globals.localStorageKeyPrefix + 'ACCTOKEN');
                        if (profileToken != null && authToken != null && accToken != null) {
                            // Auto-login user
                            var endpoint = _this.globals.endpoints.sessionStatus.replace('{profile_token}', profileToken);
                            var headers_1 = new __WEBPACK_IMPORTED_MODULE_3__angular_common_http__["c" /* HttpHeaders */]()
                                .set('Authorization', 'bearer ' + authToken);
                            var params_1 = new __WEBPACK_IMPORTED_MODULE_3__angular_common_http__["d" /* HttpParams */]()
                                .set('device_type', 'web');
                            _this.http.get(endpoint, { headers: headers_1, params: params_1 })
                                .toPromise()
                                .then(function (res) {
                                // Success, session is still alive, set the global vars and the get the user info
                                _this.globals.userLoggedIn = true;
                                _this.globals.accountToken = accToken;
                                _this.globals.authToken = authToken;
                                _this.globals.accountProfileToken = profileToken;
                                // Get the user details for filling the info
                                var headers = new __WEBPACK_IMPORTED_MODULE_3__angular_common_http__["c" /* HttpHeaders */]()
                                    .set('Authorization', 'bearer ' + _this.globals.authToken);
                                var params = new __WEBPACK_IMPORTED_MODULE_3__angular_common_http__["d" /* HttpParams */]()
                                    .set('device_type', 'web');
                                _this.http.get(_this.globals.endpoints.profile + profileToken, { headers: headers, params: params })
                                    .toPromise()
                                    .then(function (res) {
                                    _this.globals.currProfile = res.data;
                                    // Instantly update the user's current avatar on screen
                                    if (_this.globals.currProfile.profile_picture.url !== '')
                                        _this.globals.currAvatar = _this.globals.currProfile.profile_picture.url;
                                    resolve(true);
                                })
                                    .catch(function (error) {
                                    console.error(error);
                                    resolve(true);
                                });
                            })
                                .catch(function (error) {
                                console.error(error);
                                // Either way resolve this promise and get back to business
                                // @notes: the user will have to login...
                                resolve(true);
                            });
                        }
                        else {
                            // Either way resolve this promise and get back to business
                            // @notes: the user will have to login...
                            resolve(true);
                        }
                    })
                        .catch(function (error) {
                        console.error(error);
                    });
                })
                    .catch(function (error) {
                    console.error(error);
                });
            })
                .catch(function (error) {
                console.error(error);
            });
        });
    };
    ConfigService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["A" /* Injectable */])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_3__angular_common_http__["a" /* HttpClient */],
            __WEBPACK_IMPORTED_MODULE_1__globals_service__["a" /* GlobalsService */],
            __WEBPACK_IMPORTED_MODULE_4__subscriptions_subscriptions_service__["a" /* SubscriptionsService */]])
    ], ConfigService);
    return ConfigService;
}());



/***/ }),

/***/ "./src/app/details/details.component.html":
/***/ (function(module, exports) {

module.exports = "<!-- Based on Zeplin mockups -->\r\n<!-- LAYOUT A -->\r\n<!-- @Notes: Layout type A doesn't have \"related\" list -->\r\n<div class=\"details-container details-a\" *ngIf=\"layoutType=='details_page_A'\">\r\n  <div class=\"details-content flex-grid\">\r\n    <div class=\"details-title col-100\">{{data?.asset.name}}<span class=\"detailsArrow\"><i class=\"fa fa-arrow-right\" aria-hidden=\"true\"></i></span>{{detailsTitle}}</div>\r\n    <div class=\"col-100 details-layout-a-image-big\">\r\n      <img data-src=\"{{coverImage}}\">\r\n      <div *ngIf=\"hasTrailer\" class=\"moviesTrailer\">\r\n        <a>\r\n        <i class=\"fa fa-play\" aria-hidden=\"true\"></i><br>\r\n        {{globals.strings.DETAILS_SCREEN_BUTTON_TRAILER}}\r\n        </a>\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n\r\n  <!-- Table-based approach. right column contains another table -->\r\n  <table id=\"layoutA_contentDetailsTbl\">\r\n    <tr>\r\n      <!-- LEFT COLUMN -->\r\n      <td id=\"layoutA_contentDetails\">\r\n        <span class=\"movie_title\">{{data?.asset.name}}</span>\r\n        <br/>\r\n        <a innerHtml={{buildRating()}} (click)=\"showRatingPopup()\"></a> <br/>\r\n        <!-- Production year | length | genres | age rating -->\r\n        {{data.asset.production_year}} |\r\n        {{minutesToTime(data.asset.length)}} |\r\n        {{getAgeRating()}} <br/>\r\n\r\n        <!-- Directors -->\r\n        <div class=\"cast\"  *ngIf=\"data?.asset.cast?.directors && data?.asset.cast?.directors.length > 0\">\r\n          <ul>\r\n            <label class=\"directors\">{{globals.strings.DETAILS_SCREEN_DIRECTORS}}:</label>\r\n            <li *ngFor=\"let element of data?.asset.cast.directors\">{{element.name}}</li>\r\n          </ul>\r\n        </div>\r\n\r\n        <!-- Writers -->\r\n        <div class=\"cast\" *ngIf=\"data?.asset.cast?.writers && data?.asset.cast?.writers.length > 0\">\r\n          <ul>\r\n            <label>{{globals.strings.DETAILS_SCREEN_WRITERS}}:</label>\r\n            <li *ngFor=\"let element of data?.asset.cast.writers\">{{element.name}}</li>\r\n          </ul>\r\n        </div>\r\n\r\n        <!-- Cast -->\r\n        <div class=\"cast\"  *ngIf=\"data?.asset.cast?.actors && data?.asset.cast?.actors.length > 0\">\r\n          <ul>\r\n            <label class=\"actors\">{{globals.strings.DETAILS_SCREEN_ACTORS}}:</label>\r\n            <li *ngFor=\"let element of data?.asset.cast.actors\">{{element.name}}</li>\r\n          </ul>\r\n        </div>\r\n\r\n        <!-- Movie long description -->\r\n        <div class=\"details-info\">\r\n          <p>{{data?.asset.long_description}}</p>\r\n        </div>\r\n      </td>\r\n\r\n      <!-- RIGHT COLUMN -->\r\n      <td id=\"layoutA_contentShareBtns\" align=\"right\">\r\n        <table>\r\n          <tr>\r\n            <td colspan=\"4\" class=\"icon_buttons_col\">\r\n              <button class=\"icon_button\"\r\n                      *ngFor=\"let btn of data?.screen.layout.buttons_positioning.icon_button\"\r\n                      [innerHtml]= 'btn.action==\"favorite\" && isFavourite ?  btn.on_image : btn.off_image'\r\n                      (click)=\"iconBtnClick(btn.action)\"\r\n                      [ngClass]=\"{'favourite': btn.action=='favorite' && isFavourite}\">\r\n              </button>\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td class=\"full_icon_buttons_col\">\r\n              <button class=\"full_button\"\r\n                      *ngFor=\"let btn of data?.screen.layout.buttons_positioning.full_button\"\r\n                      innerHtml={{buildFullBtnHtml(btn.on_image,btn.name)}}\r\n                      (click)=\"fullBtnClick(btn.action)\">\r\n                {{btn.name}}\r\n              </button>\r\n            </td>\r\n          </tr>\r\n        </table>\r\n\r\n\r\n      </td>\r\n    </tr>\r\n  </table>\r\n\r\n\r\n  <div class=\"cast\" *ngIf=\"data?.asset.cast?.music_composers && data?.asset.cast?.music_composers.length > 0\">\r\n    <ul>\r\n      <label>{{globals.strings.DETAILS_SCREEN_MUSIC_COMPOSER}}:</label>\r\n      <li *ngFor=\"let element of data?.asset.cast.music_composers\">{{element.name}}</li>\r\n    </ul>\r\n  </div>\r\n\r\n  <div class=\"cast\" *ngIf=\"data?.asset.cast?.singers && data?.asset.cast?.singers.length > 0\">\r\n    <ul>\r\n      <label>{{globals.strings.DETAILS_SCREEN_SINGERS}}:</label>\r\n      <li *ngFor=\"let element of data?.asset.cast.singers\">{{element.name}}</li>\r\n    </ul>\r\n  </div>\r\n\r\n  <div class=\"cast\" *ngIf=\"data?.asset.cast?.song_writers && data?.asset.cast?.song_writers.length > 0\">\r\n    <ul>\r\n      <label>{{globals.strings.DETAILS_SCREEN_SING_WRITERS}}:</label>\r\n      <li *ngFor=\"let element of data?.asset.cast.song_writers\">{{element.name}}</li>\r\n    </ul>\r\n  </div>\r\n\r\n<!--  <a routerLink=\"play\" class=\"play-button\"><button>{{globals.strings.DETAILS_SCREEN_BUTTON_PLAY}}</button></a>-->\r\n\r\n</div>\r\n\r\n\r\n<!-- LAYOUT B -->\r\n<div class=\"details-container details-b\" *ngIf=\"layoutType=='details_page_B'\">\r\n  <div class=\"details-content flex-grid\">\r\n    <div class=\"details-title\">{{data?.asset.name}}<span class=\"detailsArrow\"><i class=\"fa fa-arrow-right\" aria-hidden=\"true\"></i></span>{{globals.strings.DETAILS_SCREEN_DETAILS_LABEL}}</div>\r\n    <div class=\"col-100 details-layout-b-image-big\" [ngStyle]=\"{'background-color': data?.screen.layout.background.color}\">\r\n      <!--\r\n      <img class=\"img-responsive\" *ngIf=\"data?.asset.type=='movies'\" src=\"{{data?.asset.images.banner.url}}\">\r\n      <img class=\"img-responsive\" *ngIf=\"data?.asset.type=='series' || data?.asset.type=='seasons'\" src=\"{{data?.asset.images.backdrop.url}}\">\r\n      <img class=\"img-responsive\" *ngIf=\"data?.asset.type=='channels'\" src=\"{{data?.asset.image.url}}\">\r\n      -->\r\n      <img class=\"img-responsive\" data-src=\"{{coverImage}}\">\r\n      <div *ngIf=\"hasTrailer\" class=\"moviesTrailer\">\r\n        <a>\r\n          <i class=\"fa fa-play\" aria-hidden=\"true\"></i><br>\r\n          {{globals.strings.DETAILS_SCREEN_BUTTON_TRAILER}}\r\n        </a>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- this goes right, so must appear first :P -->\r\n  <div class=\"movie-all-buttons\">\r\n    <table>\r\n      <tr>\r\n        <td colspan=\"4\" class=\"icon_buttons_col\">\r\n          <button class=\"icon_button\"\r\n                  *ngFor=\"let btn of data?.screen.layout.buttons_positioning.icon_button\"\r\n                  (click)=\"iconBtnClick(btn.action)\"\r\n                  [innerHtml]= 'btn.action==\"favorite\" && isFavourite ?  btn.on_image : btn.off_image'\r\n                  [ngClass]=\"{'favourite': btn.action=='favorite' && isFavourite}\">\r\n          </button>\r\n        </td>\r\n      </tr>\r\n      <tr>\r\n        <td class=\"full_icon_buttons_col\">\r\n          <div style=\"display: inline-block\" *ngFor=\"let btn of data?.screen.layout.buttons_positioning.full_button\">\r\n            <button class=\"full_button\"\r\n                    *ngIf=\"!userIsEntitled || btn.action=='play'\"\r\n                    innerHtml={{buildFullBtnHtml(btn.on_image,btn.name)}}\r\n                    (click)=\"fullBtnClick(btn.action)\">\r\n              {{btn.name}}\r\n            </button>\r\n\r\n          </div>\r\n\r\n        </td>\r\n      </tr>\r\n    </table>\r\n  </div>\r\n\r\n\r\n  <div class=\"movie-details\">\r\n    <table>\r\n      <tr>\r\n        <td class=\"movie-poster\"><img src=\"{{data?.asset.images.poster.url}}\"></td>\r\n        <td class=\"movie-info\">\r\n          <a innerHtml={{buildRating()}} (click)=\"showRatingPopup()\"></a> <br/>\r\n          <!-- Production year | length | genres | age rating -->\r\n          {{data.asset.production_year}} |\r\n          {{minutesToTime(data.asset.length)}} |\r\n          {{getAgeRating()}}\r\n\r\n          <!-- Directors -->\r\n          <div class=\"cast\"  *ngIf=\"data?.asset.cast?.directors && data?.asset.cast?.directors.length > 0\">\r\n            <ul>\r\n              <label class=\"directors\">{{globals.strings.DETAILS_SCREEN_DIRECTORS}}:</label>\r\n              <li *ngFor=\"let element of data?.asset.cast.directors\">{{element.name}}</li>\r\n            </ul>\r\n          </div>\r\n\r\n          <!-- Cast -->\r\n          <div class=\"cast\"  *ngIf=\"data?.asset.cast?.actors && data?.asset.cast?.actors.length > 0\">\r\n            <ul>\r\n              <label class=\"actors\">{{globals.strings.DETAILS_SCREEN_ACTORS}}:</label>\r\n              <li *ngFor=\"let element of data?.asset.cast.actors\">{{element.name}}</li>\r\n            </ul>\r\n          </div>\r\n\r\n          <!-- Movie long description -->\r\n          <div class=\"details-info\">\r\n            <p>{{data?.asset.long_description}}</p>\r\n          </div>\r\n        </td>\r\n      </tr>\r\n    </table>\r\n  </div>\r\n\r\n  <div class=\"seasonsWrapper\" *ngIf=\"hasSeasons\">\r\n    <div class=\"seasonsTitle\">{{globals.strings.ASSET_RELATED_SEASON_TITLE}}</div>\r\n    <app-carousel [data]=\"seasonsList\" [isSeasons]=\"true\"></app-carousel>\r\n  </div>\r\n\r\n  <!-- Related content -->\r\n  <div class=\"relatedWrapper\" *ngIf=\"hasRelated\">\r\n    <div class=\"relatedTitle\">{{globals.strings.ASSET_RELATED_TITLE}}</div>\r\n    <div class=\"carousel-container\">\r\n      <app-carousel [data]=\"relatedList\"></app-carousel>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<!-- LAYOUT D -->\r\n<!-- <a routerLink=\"/{{globals.pageTitle}}\">{{globals.pageTitle}}</a>  <a routerLink=\"/{{globals.pageTitle}}\">{{data?.asset.name}}</a> -->\r\n<div class=\"details-container details-d\" *ngIf=\"layoutType=='details_page_D'\">\r\n  <div class=\"details-primary-title\"><div class=\"breadCrumb\" (click)=\"crumbClick(globals.pageTitleSlug)\">{{globals.pageTitle}}</div> <span class=\"detailsArrow\"><i class=\"fa fa-arrow-right\" aria-hidden=\"true\"></i></span> {{data?.asset.name}} </div>\r\n  <div class=\"details-content flex-grid2\">  <!-- retirei  flex-grid -->\r\n    <div class=\"col-60 details-layout-D-image-banner\" [ngStyle]=\"{'background-color': data?.screen.layout.background.color}\">\r\n      <div style=\"position: relative\"><img class=\"img-responsive\" data-src=\"{{coverImage}}\" (error)=\"setNoImageCover()\">\r\n        <div  class=\"playArrow\" (click)=\"fullBtnClick('play')\"></div>\r\n      </div>\r\n      <!--\r\n      <div *ngIf=\"hasTrailer\" class=\"moviesTrailer\">\r\n        <a>\r\n          <i class=\"fa fa-play\" aria-hidden=\"true\"></i><br>\r\n          {{globals.strings.DETAILS_SCREEN_BUTTON_TRAILER}}\r\n        </a>\r\n      </div>\r\n      -->\r\n    </div>\r\n\r\n    <div class=\"col-40 movie-details-d\">\r\n      <table class=\"movie-info\">\r\n        <tr>\r\n          <td><div class=\"details-title-d\">{{data?.asset.name}}</div></td>\r\n        </tr>\r\n        <tr>\r\n            <td><div [style.display]=\"'inline'\" [innerHtml]=\"buildRating()\"></div><button class=\"rateBtn\" (click)=\"showRatingPopup()\">{{globals.strings.RATE_ASSET_TITLE}}</button></td>\r\n        </tr>\r\n\r\n        <tr>         <!-- Production year | length | genres | age rating -->\r\n          <td>\r\n            {{(data.asset.production_year==undefined || data.asset.production_year=='1900'?'':data.asset.production_year)}}\r\n            {{(data.asset.length==undefined || data.asset.length==0?'':' | ' + minutesToTime(data.asset.length))}}\r\n            {{(getAgeRating()=='N/A'?'':' | ' + getAgeRating())}}\r\n          </td>\r\n        </tr>\r\n\r\n        <tr>\r\n          <td>         <!-- Directors -->\r\n            <div class=\"cast\"  *ngIf=\"data?.asset.cast?.directors && data?.asset.cast?.directors.length > 0\">\r\n              <ul>\r\n                <li class=\"directors\">{{globals.strings.DETAILS_SCREEN_DIRECTORS}}:</li>\r\n                <li class=\"listdirectors\" *ngFor=\"let element of data?.asset.cast.directors\">{{element.name}}</li>\r\n              </ul>\r\n            </div>\r\n          </td>\r\n        </tr>\r\n\r\n        <tr>\r\n          <td>         <!-- Cast -->\r\n            <div class=\"cast\"  *ngIf=\"data?.asset.cast?.actors && data?.asset.cast?.actors.length > 0\">\r\n              <ul>\r\n                <li class=\"actors\">{{globals.strings.DETAILS_SCREEN_ACTORS}}:</li>\r\n                <li class=\"listactors\" *ngFor=\"let element of data?.asset.cast.actors\">{{element.name}}</li>\r\n              </ul>\r\n            </div>\r\n          </td>\r\n        </tr>\r\n\r\n        <tr>\r\n          <td>         <!-- Movie long description -->\r\n            <div class=\"details-info\">\r\n              {{data?.asset.long_description}}\r\n            </div>\r\n          </td>\r\n        </tr>\r\n      </table>\r\n\r\n\r\n      <div class=\"movie-all-buttons\">\r\n        <table>\r\n          <tr *ngIf=\"data.screen.layout.show_video_provider\">\r\n            <img class=\"img-provider\" [src]=\"providerImage\" (error)=\"setNoImageProv()\">\r\n          </tr>\r\n          <tr>\r\n            <td colspan=\"4\" class=\"icon_buttons_col\">\r\n              <button class=\"icon_button\"\r\n                      *ngFor=\"let btn of data?.screen.layout.buttons_positioning.icon_button\"\r\n                      (click)=\"iconBtnClick(btn.action)\"\r\n                      [innerHtml]= 'btn.action==\"favorite\" && isFavourite ?  btn.on_image : btn.off_image'\r\n                      [ngClass]=\"{'favourite': btn.action=='favorite' && isFavourite}\">\r\n              </button>\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td class=\"full_icon_buttons_col\">\r\n              <!-- {{data?.screen.layout.buttons_positioning.full_button | json}}<br><br><br><br>  -->\r\n              <div style=\"display: inline-block\" *ngFor=\"let btn of data?.screen.layout.buttons_positioning.full_button\">\r\n                <button class=\"full_button\"\r\n                        *ngIf=\"showFullButtons(entitlementsReady,btn.action)\"\r\n                        innerHtml={{buildFullBtnHtml(btn.on_image,btn.name)}}\r\n                        (click)=\"fullBtnClick(btn.action)\">\r\n                  {{btn.name}}\r\n                </button>\r\n              </div>\r\n            </td>\r\n          </tr>\r\n        </table>\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n\r\n<!-- {{data.screen.blocks[0].widgets[0].layout.show_playlist_title}} -->\r\n  <h4 *ngIf=\"hasSeasons && data.screen.blocks[0].widgets[0].layout.show_playlist_title == 1\">{{globals.strings.ASSET_TYPE_SEASONS}}</h4>\r\n<!-- {{data.layout.move_after_behaviour}} -->\r\n  <div class=\"seasonsWrapper season_text\" *ngIf=\"hasSeasons && seasonLayoutType==='season_title'\">\r\n    <app-carousel [data]=\"seasonsList\" [isSeasons]=\"true\"></app-carousel>\r\n    <div *ngIf=\"!this.hasEpisodes\" class=\"noEpisodes\">{{(this.globals.strings.SEASON_EMPTY!=undefined?this.globals.strings.SEASON_EMPTY:'Hardcoded:No available season episodes')}}</div>\r\n  </div>\r\n\r\n  <div class=\"seasonsWrapper season_text\" *ngIf=\"hasSeasons && seasonLayoutType==='season_number'\">\r\n    <table class=\"seasonNumberTbl\">\r\n      <td>{{globals.strings.SEASON_NUMBER_TITLE}}</td>\r\n      <td><app-carousel [data]=\"seasonsList\" [isSeasons]=\"true\"></app-carousel></td> <!-- removed [typeCarousel]=\"seasonstypeCarousel\" (parentCallback)=\"detailsCallback($event[0],$event[1])\" -->\r\n    </table>\r\n    <div *ngIf=\"!this.hasEpisodes\" class=\"noEpisodes\">{{(this.globals.strings.SEASON_EMPTY!=undefined?this.globals.strings.SEASON_EMPTY:'Hardcoded:No available season episodes')}}</div>\r\n  </div>\r\n\r\n  <div class=\"seasonsWrapper season_image\" *ngIf=\"hasSeasons && seasonLayoutType==='playlist'\">\r\n    <app-carousel [data]=\"seasonsList\" [isSeasons]=\"true\" ></app-carousel> <!-- (parentCallback)=\"detailsCallback($event[0],$event[1])\" -->\r\n    <div *ngIf=\"!this.hasEpisodes\" class=\"noEpisodes\">{{(this.globals.strings.SEASON_EMPTY!=undefined?this.globals.strings.SEASON_EMPTY:'Hardcoded:No available season episodes')}}</div>\r\n  </div>\r\n\r\n  <table *ngIf=\"hasSeasons && hasEpisodes\" class=\"seasonsEpisodesTbl\">\r\n    <tr  *ngFor=\"let episode of episodesList.playlist.contents\">\r\n        <!-- Call back functions -->\r\n        <td class=\"episodeImage\">\r\n          <img [src]=\"episodeImg(episode.image.url)\" (error)=\"episode.image.url=globals.API.slice(0,-4)+'uploads/placeholder/placeholder.png'\">\r\n          <div  class=\"playArrow\" (click)=\"playClicked(episode.id,episode.video.streams.url)\"></div>\r\n        </td>\r\n        <td class=\"seasonsEpisodesCol\">\r\n          {{episode.name}}<br>\r\n          {{episode.short_description}}\r\n        </td>\r\n        <td class=\"episode-share-icon\">\r\n          <!-- <i class=\"fa fa-share-alt\"></i>  -->\r\n          <button class=\"icon_button\"\r\n                  (click)=\"iconBtnClick('share')\"\r\n                  [innerHtml]= \"isShared ?  data?.screen.layout.buttons_positioning.icon_button[0].on_image : data?.screen.layout.buttons_positioning.icon_button[0].off_image\">\r\n          </button>\r\n        </td>\r\n    </tr>\r\n  </table><br>\r\n\r\n  <div class=\"relatedWrapper\" *ngIf=\"hasRelated\">\r\n    <div class=\"relatedTitle\">{{globals.strings.ASSET_RELATED_TITLE}}</div>\r\n    <div class=\"carousel-container\">\r\n      <app-carousel class=\"detailsRelatedCarousel\" [data]=\"relatedList\"></app-carousel>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n\r\n\r\n\r\n<!-- LAYOUT Z :P -->\r\n<div class=\"details-container details-b\" *ngIf=\"layoutType=='details_page_Z'\">\r\n  <div class=\"details\">\r\n    <div class=\"details-content\">\r\n      <div class=\"details-image\">\r\n        <img data-src=\"{{data?.asset.images.poster.url}}\">\r\n      </div>\r\n      <div class=\"details-info\">\r\n        <h1>{{data?.asset.name}}</h1>\r\n        <p>{{data?.asset.long_description}}</p>\r\n        <a routerLink=\"play\" class=\"play-button\"><button>Play</button></a>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<!-- TODO: LAYOUT C -->\r\n\r\n<!-- TODO: LAYOUT D -->\r\n\r\n\r\n<!-- Fallback - No layout coming from API :S -->\r\n<div class=\"details-container details-b\" *ngIf=\"layoutType==''\">\r\n  <div class=\"details\">\r\n    <div class=\"details-content\">\r\n      <div class=\"details-image\">\r\n        <img data-src=\"{{data?.asset.images.poster.url}}\">\r\n      </div>\r\n      <div class=\"details-info\">\r\n        <h1>{{data?.asset.name}}</h1>\r\n        <p>{{data?.asset.long_description}}</p>\r\n        <a routerLink=\"play\" class=\"play-button\"><button>Play</button></a>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n\r\n\r\n<!-- RATING MODAL -->\r\n<div *ngIf=\"ratingPopUpVisible\" class=\"popup-container\">\r\n  <div class=\"popup-close\" (click)=\"ratingPopUpVisible=false\"></div>\r\n  <div class=\"popup-content\">\r\n    <div id=\"ratingContent\">\r\n      <span class=\"close-button\" (click)=\"ratingPopUpVisible=false\"></span>\r\n\r\n      <h3 class=\"popup-title\">{{globals.strings.RATE_ASSET_TITLE}}</h3>\r\n\r\n      <div class=\"popup-body\">\r\n\r\n        <div *ngIf=\"data?.asset.rating===0\">\r\n          <p>{{globals.strings.FIRST_TO_RATE_PROMPT}}</p>\r\n        </div>\r\n\r\n        <div class=\"ratingWrapper\">\r\n          <fieldset class=\"rating\">\r\n            <input type=\"radio\"\r\n                   value=\"5\"\r\n                   [name]=\"ratingStar\"\r\n                   [checked]=\"rating===5\" /><!-- [checked]=\"rating===5\" />  -->\r\n            <label title=\"Rocks!\" (click)='starClick(5)'>5 stars</label>\r\n\r\n            <input type=\"radio\"\r\n                   value=\"4\"\r\n                   [name]=\"ratingStar\"\r\n                   [checked]=\"rating===4\" />\r\n            <label title=\"Pretty good\" (click)='starClick(4)'>4 stars</label>\r\n\r\n            <input type=\"radio\"\r\n                   value=\"3\"\r\n                   [name]=\"ratingStar\"\r\n                   [checked]=\"rating===3\" />\r\n            <label title=\"Meh\" (click)='starClick(3)'>3 stars</label>\r\n\r\n            <input type=\"radio\"\r\n                   value=\"2\"\r\n                   [name]=\"ratingStar\"\r\n                   [checked]=\"rating===2\" />\r\n            <label title=\"Kinda bad\" (click)='starClick(2)'>2 stars</label>\r\n\r\n            <input type=\"radio\"\r\n                   value=\"1\"\r\n                   [name]=\"ratingStar\"\r\n                   [checked]=\"rating===1\" />\r\n            <label title=\"Really bad\" (click)='starClick(1)'>1 star</label>\r\n          </fieldset>\r\n        </div>\r\n        <button class=\"pressBtn\" (click)=\"rateAsset()\">{{globals.strings.RATE_ASSET_TITLE}}</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n"

/***/ }),

/***/ "./src/app/details/details.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DetailsComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__details_service__ = __webpack_require__("./src/app/details/details.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__globals_service__ = __webpack_require__("./src/app/globals.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__loading_loading_service__ = __webpack_require__("./src/app/loading/loading.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_sweetalert2__ = __webpack_require__("./node_modules/sweetalert2/dist/sweetalert2.all.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_sweetalert2___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_sweetalert2__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_slick_carousel_slick_slick__ = __webpack_require__("./node_modules/slick-carousel/slick/slick.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_slick_carousel_slick_slick___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_slick_carousel_slick_slick__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__utils_service__ = __webpack_require__("./src/app/utils.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__login_login_service__ = __webpack_require__("./src/app/login/login.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








 // Incomplete as of 2018-2-1
var DetailsComponent = /** @class */ (function () {
    function DetailsComponent(service, router, route, globals, loading, utils, login) {
        this.service = service;
        this.router = router;
        this.route = route;
        this.globals = globals;
        this.loading = loading;
        this.utils = utils;
        this.login = login;
        this.ratingPopUpVisible = false;
        this.rating = 0; // Holds the number of stars clicked
        this.hasTrailer = false; // Whether to show "Play" (trailer) on top of the asset's image or not
        this.hasRelated = false; // Whether to show the related list or not
        this.hasSeasons = false; // Whether to show a series's list of seasons or not
        this.hasEpisodes = false; // Whether we have a season's episode list or not
        this.isFavourite = false; // If this asset is a favorite
        this.isShared = false; // This item is shared
        this.assetRating = 0; // Rating of the asset, if user is logged in then this is the rating of the user
        this.RuiTeste = false;
        // Hack to make a broken heart (aka unfavourite :P )
        this.unFavouriteHtml = '<span class="fa-stack broken-heart">' +
            '<i class="fa fa-heart fa-stack-1x"></i>' +
            '<i class="fa fa-bolt fa-stack-1x fa-inverse"></i>' +
            '</span>';
        /* This determines what buttons are available to the user on the view  */
        this.userIsEntitled = false;
        this.entitlementsReady = false; // Whether the entitlements have been read
    }
    DetailsComponent.prototype.ngOnInit = function () {
        var _this = this;
        // Initialize data in case we're refreshing in order to avoid double "everything" :P
        this.data = [];
        // Subscribe to asset's entitlements
        this.service.entitlements.subscribe(function (value) {
            _this.entitlementsReady = true;
            if (value.length > 0)
                _this.userIsEntitled = true;
        });
        // Subscribe to is favorite check
        this.service.isFavourite.subscribe(function (value) {
            _this.isFavourite = value;
        });
        this.route.params
            .subscribe(function (params) {
            _this.assetSlug = params.id;
            _this.getDetails(_this.assetSlug);
        });
        //    this.login.finishedLogin.subscribe(()=>{
        //      this.globals.
        //    })
        this.service.asset
            .subscribe(function (response) {
            _this.data = response;
            // Check if the user rated this asset
            _this.rateSubscription = _this.service.assetUserRate.subscribe(function (val) {
                // Have been given the indication that the rating is between 0 and 100
                _this.assetRating = Math.round(val.data.rating / 20);
            });
            if (_this.globals.userLoggedIn)
                _this.service.getmyRateAsset(_this.data.asset.id);
            else
                _this.assetRating = Math.round(_this.data.asset.rating / 20);
            ;
            // If user logs in then get asset rating
            _this.login.finishedLogin.subscribe(function () { _this.service.getmyRateAsset(_this.data.asset.id); });
            _this.layoutType = response.screen.layout.screen_type;
            _this.assetType = response.asset.type;
            _this.assetId = _this.data.asset.id;
            // get entitlements for this asset (see notes on the service's function)
            if (_this.globals.accountProfileToken !== '' && _this.globals.accountProfileToken !== null)
                _this.service.getEntitlements(_this.assetId);
            else
                _this.entitlementsReady = true; // This is needed to trigger the showFullButton function
            /**
             * Check if this asset is already a favorite.
             * User must be logged in as this depends on the current profile.
             */
            if (_this.globals.userLoggedIn) {
                _this.service.getFavorite(_this.data.asset.id);
            }
            // Determine the cover image to use
            _this.imageTemplate = _this.data.screen.layout.background.image_template;
            _this.aspectRatio = _this.data.screen.layout.image.aspect_ratio;
            if (_this.data.asset.images[_this.imageTemplate] != undefined) {
                _this.coverImage = _this.data.asset.images[_this.imageTemplate].url;
            }
            _this.providerImage = _this.data.asset.video_provider.image_logo.url;
            //  Take care of image resizing
            //let resizeType = this.data.screen.blocks[0].widgets[0].layout.image_resize_type;
            //let formatRatio = this.data.screen.blocks[0].widgets[0].layout.assets_format_ratio;
            //this.coverImage = this.resizeImage(this.coverImage, 1320, formatRatio, resizeType);
            //this.coverImage = this.utils.resizeImage(this.coverImage,1320,1, 'fit');
            _this.loading.set(false);
            // How to display the seasons and their episodes
            _this.seasonLayoutType = _this.data.screen.layout.season_selection_type;
            if (_this.RuiTeste)
                _this.seasonLayoutType = 'season_number'; // RuiTESTING: season_number, playlist or season_title
            // Set the details title
            switch (_this.assetType) {
                case 'movies':
                    _this.detailsTitle = _this.globals.strings.DETAILS_SCREEN_MOVIE_DETAILS;
                    /**
                     * Related content for Movies
                     * test the existence (length) of blocks, widgets and contents first
                     */
                    if (_this.data.screen.blocks.length > 0) {
                        if (_this.data.screen.blocks[0].widgets.length > 0) {
                            if (_this.data.screen.blocks[0].widgets[0].playlist.contents.length > 0) {
                                _this.hasRelated = true;
                                _this.relatedList = _this.data.screen.blocks[0].widgets[0];
                                _this.relatedListPresentationOrder = _this.relatedList.layout.presentation_order;
                                if (_this.relatedListPresentationOrder === '' || _this.relatedListPresentationOrder === null)
                                    _this.relatedListPresentationOrder = 'LTR'; // default
                            }
                        }
                    }
                    break;
                case 'episodes':
                    _this.detailsTitle = _this.globals.strings.DETAILS_SCREEN_EPISODE_DETAILS;
                    break;
                case 'series':
                    _this.detailsTitle = _this.globals.strings.DETAILS_SCREEN_SERIES_DETAILS;
                    /**
                     * Related content for series
                     * block[0] - list of seasons
                     * block[1] - list of episodes for season 1
                     * block[2] - (optional) Related content
                     */
                    for (var _i = 0, _a = _this.data.screen.blocks; _i < _a.length; _i++) {
                        var block = _a[_i];
                        // CHECKME: Only one widget per block (or so I've been told...)
                        switch (block.widgets[0].playlist.type) {
                            case 'seasons':
                                _this.hasSeasons = true;
                                _this.seasonsList = block.widgets[0];
                                _this.expandSeasonListContent(_this.seasonsList.playlist.contents, _this.seasonLayoutType);
                                break;
                            case 'episodes':
                                _this.hasEpisodes = true;
                                _this.episodesList = block.widgets[0];
                                break;
                            case 'related':
                                _this.hasRelated = true;
                                _this.relatedList = block.widgets[0];
                                _this.relatedListPresentationOrder = _this.relatedList.layout.presentation_order;
                                if (_this.relatedListPresentationOrder === '' || _this.relatedListPresentationOrder === null)
                                    _this.relatedListPresentationOrder = 'LTR'; // default
                                break;
                        }
                    }
                    _this.verifySeasonEpisodes();
                    break;
                case 'seasons':
                    _this.detailsTitle = _this.globals.strings.DETAILS_SCREEN_SEASON_DETAILS;
                    break;
                default:
                    // FIXME: hardcoded string
                    _this.detailsTitle = "Details";
                    break;
            }
            // @Notes: Trailer isn't available in series/episodes yet.
            if (_this.data.asset.hasOwnProperty('video') && _this.data.asset.video.trailer) {
                // Show trailer ?
                if (_this.data.asset.video.trailer.slug !== null)
                    _this.hasTrailer = true;
                else
                    _this.hasTrailer = false;
            }
        });
        // Subscribe to view Episodes of selected Season
        this.service.Season.subscribe(function (res) {
            _this.episodesList.playlist.contents = res.data;
            _this.verifySeasonEpisodes();
        });
        // Subscribe to favorites addition
        this.service.favoriteAdded.subscribe(function (val) {
            if (val === true) {
                __WEBPACK_IMPORTED_MODULE_5_sweetalert2___default()({
                    type: 'success',
                    title: '<span style="color: #fff;" class="title">' + _this.globals.strings.DETAILS_SCREEN_BUTTON_FAVOURITE + '</span>',
                    html: '<span style="color: #fff;">' + _this.globals.strings.FAVORITE_ADD_SUCCESS + '</span>',
                    background: '#2a292a'
                });
            }
            else {
                // Failure to add favorite
                __WEBPACK_IMPORTED_MODULE_5_sweetalert2___default()({
                    type: 'error',
                    title: '<span style="color: #fff;" class="title">' + _this.globals.strings.SCREEN_ERROR_TITLE + '</span>',
                    html: '<span style="color: #fff;">' + _this.globals.strings.GENERAL_ERROR + '</span>',
                    background: '#2a292a'
                });
            }
        });
    };
    DetailsComponent.prototype.ngOnDestroy = function () {
        //this.service.asset.unsubscribe(); // this raises an error?!
        this.rateSubscription.unsubscribe(); // must passhandle of subscription
    };
    /**
     * Get an asset's details
     * @param {string} id
     */
    DetailsComponent.prototype.getDetails = function (id) {
        this.loading.set(true);
        this.service.getAsset(id);
    };
    /**
     * Handle click on one of the "icon" buttons (favorite, share, ...)
     * @param {string} action
     */
    DetailsComponent.prototype.iconBtnClick = function (action) {
        // User must be logged in first in order to perform these ops
        if (!this.globals.userLoggedIn) {
            __WEBPACK_IMPORTED_MODULE_5_sweetalert2___default()({
                type: 'warning',
                title: '<span style="color: #fff;" class="title">' + this.globals.strings.POPUP_SIGN_IN_REQUIRED_TITLE + '</span>',
                html: '<span style="color: #fff;">' + this.globals.strings.POPUP_SIGN_IN_REQUIRED_BODY + '</span>',
                background: '#2a292a'
            });
            return;
        }
        switch (action) {
            case 'favorite':
                // Ok ... bit shady approach ... but ... if it's already a favourite ... *un*favourite it :P
                if (!this.isFavourite)
                    this.service.setFavorite(this.assetId); // *Must* be ID. Slug not supported.
                else
                    this.service.unsetFavourite(this.assetId);
                break;
            case 'share':
                break;
        }
    };
    /**
     * Handle clicking on one of the "full" buttons (play, subscribe, share...)
     * @param {string} action
     */
    DetailsComponent.prototype.fullBtnClick = function (action) {
        // No matter what action user must be logged in first
        if (!this.globals.userLoggedIn && action != 'more_info') {
            __WEBPACK_IMPORTED_MODULE_5_sweetalert2___default()({
                type: 'warning',
                title: '<span style="color: #fff;" class="title">' + this.globals.strings.POPUP_SIGN_IN_REQUIRED_TITLE + '</span>',
                html: '<span style="color: #fff;">' + this.globals.strings.POPUP_SIGN_IN_REQUIRED_BODY + '</span>',
                background: '#2a292a'
            });
            return;
        }
        switch (action) {
            case 'share':
                // TODO
                break;
            case 'favorite':
                // TODO
                break;
            case 'play':
                if (this.hasSeasons) {
                    // Play first episode first season
                    this.playClicked(this.data.screen.blocks[1].widgets[0].playlist.contents[0].id, this.data.screen.blocks[1].widgets[0].playlist.contents[0].video.streams.url);
                }
                else
                    this.playClicked(this.data.asset.id, this.data.asset.video.streams.url);
                //          this.router.navigate(['/play', this.data.asset.id]);
                break;
            case 'subscribe':
                // TODO
                break;
            case 'more_info':
                // TODO
                break;
        }
    };
    /**
     * Convert minutes to Hh Mm
     * @param {string} minutes
     * @returns {string}
     */
    DetailsComponent.prototype.minutesToTime = function (minutes) {
        var time = "";
        if (minutes == undefined)
            return time;
        var min = Number(minutes);
        var hours = Math.floor(min / 60);
        min = Math.floor(min % 60);
        if (hours > 0)
            time = String(hours) + 'h ';
        time += String(min) + 'm';
        return time;
    };
    /**
     * Get the country code for the age rating.
     * @Notes: First check if the user is logged in.
     * If so:
     *      from the currProfile->parental_controls->setting->country_code
     * If not:
     *      from globals->settings->default_age_rating_country_code
     * @returns {string}
     */
    DetailsComponent.prototype.getAgeRatingCC = function () {
        var countryCode = "";
        if (this.globals.currProfile != null)
            countryCode = this.globals.currProfile.parental_controls.setting.country_code;
        else
            countryCode = this.globals.settings.default_age_rating_country_code;
        return countryCode;
    };
    /**
     * Get the asset's PGR
     * @Notes: uses country code to do so
     * @returns {string}
     */
    DetailsComponent.prototype.getAgeRating = function () {
        var countryCode = this.getAgeRatingCC();
        var ageRating = "N/A";
        if (Array.isArray(this.data.asset.age_rating)) {
            for (var _i = 0, _a = this.data.asset.age_rating; _i < _a.length; _i++) {
                var entry = _a[_i];
                if (entry.country_code == countryCode) {
                    ageRating = entry.description;
                    break;
                }
            }
        }
        return ageRating;
    };
    /**
     * Get the asset's rating in the form of stars (1-5)
     * @returns {string}
     */
    DetailsComponent.prototype.buildRating = function () {
        //console.log("Rui in buildRating: assetRating="+this.assetRating);
        var stars = "";
        for (var i = 1; i <= 5; i++) {
            if (this.assetRating >= i)
                stars += '<i class="fa fa-star" aria-hidden="true"></i>';
            else
                stars += '<i class="fa fa-star-o" aria-hidden="true"></i>';
        }
        //this.refresh=false;
        return stars;
    };
    /**
     * Concatenate the full buttons' html with their text
     * @param {string} html
     * @param {string} btn_text
     * @returns {string}
     */
    DetailsComponent.prototype.buildFullBtnHtml = function (html, btn_text) {
        return html + '   <span>' + btn_text + '</span>';
    };
    /**
     * Bring up a rating popup for the current asset
     */
    DetailsComponent.prototype.showRatingPopup = function () {
        // Make sure the user is logged in
        if (this.globals.accountProfileToken) {
            this.ratingPopUpVisible = true;
            this.rating = 0;
        }
        else {
            // Show a warning dialog
            __WEBPACK_IMPORTED_MODULE_5_sweetalert2___default()({
                type: 'warning',
                title: '<span style="color: #fff;" class="title">' + this.globals.strings.POPUP_SIGN_IN_REQUIRED_TITLE + '</span>',
                html: '<span style="color: #fff;">' + this.globals.strings.POPUP_SIGN_IN_REQUIRED_BODY + '</span>',
                background: '#2a292a'
            });
        }
    };
    /**
     * Rate an asset based on the number of given stars
     * @param {number} rating
     *
     * @Notes: the endpoint ONLY accepts IDs. No slugs!
     */
    DetailsComponent.prototype.rateAsset = function () {
        // Make sure the user is logged in
        this.ratingPopUpVisible = false;
        if (this.globals.accountProfileToken) {
            this.service.rateAsset(this.data.asset.id, 20 * this.rating);
        }
        else {
            // Show a warning dialog
            __WEBPACK_IMPORTED_MODULE_5_sweetalert2___default()({
                type: 'warning',
                title: '<span style="color: #fff;" class="title">' + this.globals.strings.POPUP_SIGN_IN_REQUIRED_TITLE + '</span>',
                html: '<span style="color: #fff;">' + this.globals.strings.POPUP_SIGN_IN_REQUIRED_BODY + '</span>',
                background: '#2a292a'
            });
        }
    };
    DetailsComponent.prototype.starClick = function (nbrStars) {
        this.rating = nbrStars;
    };
    /**
     * Used on the ngFor directive for tracking purposes
     * @param index
     * @param element
     * @returns {number}
     */
    DetailsComponent.prototype.trackByContent = function (index, element) {
        return element.id;
    };
    /**
     * Resizes an image according to a set width and it's height ratio
     * @param url
     * @param width
     * @param ratio
     * @param resizeType - "fit" || "crop"
     * @returns {string}
     */
    DetailsComponent.prototype.resizeImage = function (url, width, ratio, resizeType) {
        if (url == undefined)
            return;
        // FIXME: forcing "crop" at this time. Modify whenever content comes with the right resizeType
        resizeType = "crop";
        var string = url.split('.');
        // FIXME: Also not observing aspect ratio coming from the api
        //string[string.length-2] += '-h'+Math.round(width*ratio)+'_w'+width + '_' + resizeType;
        string[string.length - 2] += '-h317' + '_w' + width + '_' + resizeType;
        return string.join('.');
    };
    DetailsComponent.prototype.expandSeasonListContent = function (itemsList, type) {
        var _this = this;
        var typeCarousel;
        var displayText;
        var i = 0;
        var iniSlide;
        itemsList.forEach(function (element) {
            switch (type) {
                case 'season_title':
                    typeCarousel = 'text';
                    //displayText=this.globals.strings.SEASON_NUMBER_TITLE +' '+this.data.screen.blocks[0].widgets[0].playlist.contents[i].season_number;
                    displayText = _this.data.screen.blocks[0].widgets[0].playlist.contents[i].name;
                    break;
                case 'season_number':
                    typeCarousel = 'text';
                    displayText = _this.data.screen.blocks[0].widgets[0].playlist.contents[i].season_number;
                    break;
                case 'playlist':
                    typeCarousel = 'image';
                    displayText = _this.globals.strings.SEASON_NUMBER_TITLE + ' ' + _this.data.screen.blocks[0].widgets[0].playlist.contents[i].season_number;
                    break;
            }
            iniSlide = false;
            if (i == 0)
                iniSlide = true;
            // the 'view' element is constructed according to comments in carousel.components.ts
            element["view"] = { type: typeCarousel, text: displayText, selected: iniSlide, callback: _this.detailsCallback.bind(_this), param: "Nada a declarar" };
            i++;
        });
    };
    DetailsComponent.prototype.verifySeasonEpisodes = function () {
        if (this.episodesList.playlist.contents.length == 0) {
            this.hasEpisodes = false;
        }
        else {
            this.hasEpisodes = true;
        }
    };
    DetailsComponent.prototype.detailsCallback = function (userVal, assetId) {
        console.log(userVal);
        this.service.getSeason(assetId);
    };
    DetailsComponent.prototype.playClicked = function (playId, playUrl) {
        if (!this.globals.userLoggedIn) {
            __WEBPACK_IMPORTED_MODULE_5_sweetalert2___default()({
                type: 'warning',
                title: '<span style="color: #fff;" class="title">' + this.globals.strings.POPUP_SIGN_IN_REQUIRED_TITLE + '</span>',
                html: '<span style="color: #fff;">' + this.globals.strings.POPUP_SIGN_IN_REQUIRED_BODY + '</span>',
                background: '#2a292a'
            });
            return;
        }
        // Going to check video_provider
        if (this.data.asset.video_provider.player_type == 'website' || this.data.asset.video_provider.player_type == 'deeplinking') {
            //window.location.href=playUrl;
            window.open(playUrl, '_blank');
        }
        else
            this.router.navigate(['/play', playId]);
    };
    DetailsComponent.prototype.setNoImageCover = function () {
        this.coverImage = this.globals.API.slice(0, -4) + 'uploads/placeholder/placeholder.png';
    };
    DetailsComponent.prototype.setNoImageProv = function () {
        this.providerImage = this.globals.API.slice(0, -4) + 'uploads/placeholder/placeholder.png';
    };
    DetailsComponent.prototype.episodeImg = function (imgUrl) {
        return imgUrl;
        //return this.utils.resizeImage(imgUrl,100,1, 'fit');  // resizing is now done in CSS
    };
    DetailsComponent.prototype.crumbClick = function (waytoGo) {
        this.router.navigate([waytoGo]);
    };
    DetailsComponent.prototype.showFullButtons = function (entitleReady, action) {
        if (!entitleReady)
            return false;
        if (!this.userIsEntitled)
            return true;
        if (this.userIsEntitled && action == 'play')
            return true;
        return false;
    };
    DetailsComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["n" /* Component */])({
            selector: 'app-details',
            template: __webpack_require__("./src/app/details/details.component.html")
        })
        /*
        @Directive({
          selector: 'img[src]',
          host: {
            '[src]': 'checkPath(src)',
            '(error)': 'onError()'
          }
        })
        */
        ,
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__details_service__["a" /* DetailsService */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["f" /* Router */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_3__globals_service__["a" /* GlobalsService */],
            __WEBPACK_IMPORTED_MODULE_4__loading_loading_service__["a" /* LoadingService */],
            __WEBPACK_IMPORTED_MODULE_7__utils_service__["a" /* UtilsService */],
            __WEBPACK_IMPORTED_MODULE_8__login_login_service__["a" /* LoginService */]])
    ], DetailsComponent);
    return DetailsComponent;
}());



/***/ }),

/***/ "./src/app/details/details.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DetailsModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common__ = __webpack_require__("./node_modules/@angular/common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__details_component__ = __webpack_require__("./src/app/details/details.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__details_service__ = __webpack_require__("./src/app/details/details.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__details_resolve__ = __webpack_require__("./src/app/details/details.resolve.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__carousel_carousel_module__ = __webpack_require__("./src/app/carousel/carousel.module.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};






var DetailsModule = /** @class */ (function () {
    function DetailsModule() {
    }
    DetailsModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["I" /* NgModule */])({
            imports: [
                __WEBPACK_IMPORTED_MODULE_1__angular_common__["b" /* CommonModule */],
                __WEBPACK_IMPORTED_MODULE_5__carousel_carousel_module__["a" /* CarouselModule */]
            ],
            declarations: [
                __WEBPACK_IMPORTED_MODULE_2__details_component__["a" /* DetailsComponent */]
            ],
            exports: [
                __WEBPACK_IMPORTED_MODULE_2__details_component__["a" /* DetailsComponent */]
            ],
            providers: [
                __WEBPACK_IMPORTED_MODULE_3__details_service__["a" /* DetailsService */],
                __WEBPACK_IMPORTED_MODULE_4__details_resolve__["a" /* DetailsResolve */]
            ]
        })
    ], DetailsModule);
    return DetailsModule;
}());



/***/ }),

/***/ "./src/app/details/details.resolve.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DetailsResolve; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__details_service__ = __webpack_require__("./src/app/details/details.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var DetailsResolve = /** @class */ (function () {
    function DetailsResolve(service) {
        this.service = service;
    }
    DetailsResolve.prototype.resolve = function (route) {
        return this.service.getAsset(route.params['id']);
    };
    DetailsResolve = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["A" /* Injectable */])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__details_service__["a" /* DetailsService */]])
    ], DetailsResolve);
    return DetailsResolve;
}());



/***/ }),

/***/ "./src/app/details/details.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DetailsService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common_http__ = __webpack_require__("./node_modules/@angular/common/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__globals_service__ = __webpack_require__("./src/app/globals.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_Subject__ = __webpack_require__("./node_modules/rxjs/_esm5/Subject.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_sweetalert2__ = __webpack_require__("./node_modules/sweetalert2/dist/sweetalert2.all.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_sweetalert2___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_sweetalert2__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__loading_loading_service__ = __webpack_require__("./src/app/loading/loading.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var DetailsService = /** @class */ (function () {
    function DetailsService(http, globals, loading) {
        this.http = http;
        this.globals = globals;
        this.loading = loading;
        this.asset = new __WEBPACK_IMPORTED_MODULE_3_rxjs_Subject__["b" /* Subject */]();
        this.assetUserRate = new __WEBPACK_IMPORTED_MODULE_3_rxjs_Subject__["b" /* Subject */]();
        this.related = new __WEBPACK_IMPORTED_MODULE_3_rxjs_Subject__["b" /* Subject */]();
        this.favoriteAdded = new __WEBPACK_IMPORTED_MODULE_3_rxjs_Subject__["b" /* Subject */]();
        this.isFavourite = new __WEBPACK_IMPORTED_MODULE_3_rxjs_Subject__["b" /* Subject */]();
        this.entitlements = new __WEBPACK_IMPORTED_MODULE_3_rxjs_Subject__["b" /* Subject */]();
        this.Season = new __WEBPACK_IMPORTED_MODULE_3_rxjs_Subject__["b" /* Subject */]();
    }
    /**
     * Get an asset's details
     * @param {string} id
     * @param {boolean} tvShow
     * @param {number} seasonId
     *
     * @Notes The layout type is already included in the returned response
     *        This determines which layout to show in the view (template)
     */
    DetailsService.prototype.getAsset = function (id, tvShow, seasonId) {
        var _this = this;
        if (tvShow === void 0) { tvShow = false; }
        if (seasonId === void 0) { seasonId = null; }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["c" /* HttpHeaders */]()
            .set('Accept-Language', this.globals.settings.default_language);
        var params = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["d" /* HttpParams */]()
            .set('device_type', 'web')
            .set('device_layout', 'web');
        /*
          As per the API documentation:
          In case a tvshow is being requested, set here the season that API should reply with season episodes
         */
        if (tvShow === true && seasonId !== null)
            params.set('season_id', String(seasonId));
        this.http.get(this.globals.endpoints.assets + '/' + id, { headers: headers, params: params })
            .toPromise()
            .then(function (res) {
            _this.asset.next(res.data);
            _this._asset = res.data;
            _this.loading.set(false);
        })
            .catch(function (error) {
            console.error(error);
        });
    };
    /**
     * Get an asset's related list of movies
     * @param {string} id
     *
     * @Notes No idea what this endpoint is good for as the asset's response
     *        from the API already returns a list of related content under
     *        'playlist->contents' ... :S
     */
    DetailsService.prototype.getRelated = function (id) {
        var _this = this;
        // we must replace the asset Id in the path
        var endPoint = this.globals.endpoints.assetsRelated.replace('{asset_id}', id);
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["c" /* HttpHeaders */]()
            .set('Accept-Language', this.globals.settings.default_language);
        var params = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["d" /* HttpParams */]()
            .set('device', 'web')
            .set('device_type', 'web')
            .set('device_layout', 'web')
            .set('layout_id', String(this._asset.screen.layout.id));
        this.http.get(endPoint, { headers: headers, params: params })
            .toPromise()
            .then(function (res) {
            _this.related.next(res.data);
        })
            .catch(function (error) {
            console.error(error);
        });
    };
    /**
     * Set an asset as a favorite for the current account's profile
     * @param {string} id
     */
    DetailsService.prototype.setFavorite = function (id) {
        var _this = this;
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["c" /* HttpHeaders */]()
            .set('Accept-Language', this.globals.settings.default_language)
            .set('Authorization', 'Bearer ' + this.globals.authToken);
        var params = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["d" /* HttpParams */]()
            .set('device_type', 'web');
        var endpoint = this.globals.endpoints.assetsFavorite
            .replace('{profile_token}', this.globals.accountProfileToken)
            .replace('{asset_id}', id);
        this.http.post(endpoint, null, { headers: headers, params: params })
            .toPromise()
            .then(function (res) {
            _this.favoriteAdded.next(true);
            _this.isFavourite.next(true);
        })
            .catch(function (reason) {
            console.error('Failure to add favorite - ' + reason);
            _this.favoriteAdded.next(false);
        });
    };
    /**
     * Remove an asset from the favourites list
     * @param {string} id
     */
    DetailsService.prototype.unsetFavourite = function (id) {
        var _this = this;
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["c" /* HttpHeaders */]()
            .set('Accept-Language', this.globals.settings.default_language)
            .set('Authorization', 'Bearer ' + this.globals.authToken);
        var params = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["d" /* HttpParams */]()
            .set('device_type', 'web');
        var endpoint = this.globals.endpoints.assetsFavorite
            .replace('{profile_token}', this.globals.accountProfileToken)
            .replace('{asset_id}', id);
        this.http.delete(endpoint, { headers: headers, params: params })
            .toPromise()
            .then(function (res) {
            _this.isFavourite.next(false);
            __WEBPACK_IMPORTED_MODULE_4_sweetalert2___default()({
                type: 'success',
                title: '<span style="color: #fff;" class="title">' + _this.globals.strings.CONTENT_GROUP_BTN_FAVOURITES + '</span>',
                html: '<span style="color: #fff;">' + _this.globals.strings.FAVORITE_REMOVE_SUCCESS + '</span>',
                background: '#2a292a'
            });
        })
            .catch(function (reason) {
            console.error('Failure to remove favorite - ' + reason);
            _this.isFavourite.next(false);
        });
    };
    /**
     * Check if the asset is a favorite
     * @param {string} id
     */
    DetailsService.prototype.getFavorite = function (id) {
        var _this = this;
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["c" /* HttpHeaders */]()
            .set('Accept-Language', this.globals.settings.default_language)
            .set('Authorization', 'Bearer ' + this.globals.authToken);
        var params = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["d" /* HttpParams */]()
            .set('device_type', 'web');
        var endpoint = this.globals.endpoints.assetsFavorite
            .replace('{profile_token}', this.globals.accountProfileToken)
            .replace('{asset_id}', id);
        this.http.get(endpoint, { headers: headers, params: params })
            .toPromise()
            .then(function (res) {
            if (res.data.favourite == true)
                _this.isFavourite.next(true);
            else
                _this.isFavourite.next(false);
        })
            .catch(function (reason) {
            console.error('Failure to add favorite - ' + reason);
            _this.isFavourite.next(false);
        });
    };
    /**
     * GET my rate of an asset with 1 to 5 stars
     * @param {string} id
     * @param {number} rating
     */
    DetailsService.prototype.getmyRateAsset = function (id) {
        var _this = this;
        // replace the current profile token in the path
        var firstPass = this.globals.endpoints.assetsRate.replace('{profile_token}', this.globals.accountProfileToken);
        // replace the asset Id in the path
        var endPoint = firstPass.replace('{asset_id}', id);
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["c" /* HttpHeaders */]()
            .set('Accept-Language', this.globals.settings.default_language)
            .set('Authorization', 'Bearer ' + this.globals.authToken);
        var params = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["d" /* HttpParams */]()
            .set('device_type', 'web');
        this.http.get(endPoint, { headers: headers, params: params })
            .toPromise()
            .then(function (res) {
            // return rating
            _this.assetUserRate.next(res);
        })
            .catch(function (error) {
            console.error(error);
        });
    };
    /**
     * Rate an asset with 1 to 5 stars
     * @param {string} id
     * @param {number} rating
     */
    DetailsService.prototype.rateAsset = function (id, rating) {
        var _this = this;
        // replace the current profile token in the path
        var firstPass = this.globals.endpoints.assetsRate.replace('{profile_token}', this.globals.accountProfileToken);
        // replace the asset Id in the path
        var endPoint = firstPass.replace('{asset_id}', id);
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["c" /* HttpHeaders */]()
            .set('Accept-Language', this.globals.settings.default_language)
            .set('Authorization', 'Bearer ' + this.globals.authToken);
        var params = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["d" /* HttpParams */]()
            .set('device_type', 'web');
        this.http.post(endPoint, { rating: rating }, { headers: headers, params: params })
            .toPromise()
            .then(function (res) {
            // just show a success dialog
            __WEBPACK_IMPORTED_MODULE_4_sweetalert2___default()({
                type: 'success',
                title: '<span style="color: #fff;" class="title">' + _this.globals.strings.GENERIC_THANK_YOU + '</span>',
                html: '<span style="color: #fff;">' + _this.globals.strings.DETAILS_RATING_SUCCESS + '</span>',
                background: '#2a292a'
            });
            _this.assetUserRate.next({ data: { rating: rating } });
        })
            .catch(function (error) {
            console.error(error);
            __WEBPACK_IMPORTED_MODULE_4_sweetalert2___default()({
                type: 'error',
                title: '<span style="color: #fff;" class="title">' + this.globals.strings.SCREEN_ERROR_TITLE + '</span>',
                html: '<span style="color: #fff;">' + this.globals.strings.GENERAL_ERROR + '</span>',
                background: '#2a292a'
            });
        });
    };
    /**
     * Get the entitlements for an asset, for a given profile
     * @Notes: the response might change for a finer grain type of control.
     *         For now just assuming that a user can play an asset and don't show
     *         any additional buttons on the asset's details page
     * @param {string} assetId - only accepts numerical id. no slugs allowed (@2018-03-01)
     */
    DetailsService.prototype.getEntitlements = function (assetId) {
        var _this = this;
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["c" /* HttpHeaders */]()
            .set('Accept-Language', this.globals.settings.default_language)
            .set('Authorization', 'Bearer ' + this.globals.authToken);
        var params = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["d" /* HttpParams */]()
            .set('device_type', 'web');
        /* Path "vars" */
        var endpoint = this.globals.endpoints.entitlements
            .replace('{profile_token}', this.globals.accountProfileToken)
            .replace('{asset_id}', assetId);
        this.http.get(endpoint, { headers: headers, params: params })
            .toPromise()
            .then(function (res) {
            _this.entitlements.next(res.data);
        })
            .catch(function (error) {
            console.error(error);
            _this.entitlements.next([]);
        });
    };
    /**
     * GET /tvshow/{tvshow_id}/season/{season_id}/episodes
     * @param {string} id
     * @param {boolean} tvShow
     * @param {number} seasonId
     */
    DetailsService.prototype.getSeason = function (seasonId, showId, layoutId) {
        var _this = this;
        this.loading.set(true);
        // Are now going to suppose that the asset has been read and that this.asset will give showId and layoutId
        var showId2 = this._asset.asset.id;
        var layoutId2 = this._asset.screen.blocks[1].widgets[0].layout.id.toString();
        //console.log('getseason '+ seasonId);
        //API path
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["c" /* HttpHeaders */]()
            .set('Accept-Language', this.globals.settings.default_language);
        //API query
        var params = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["d" /* HttpParams */]()
            .set('device_type', 'web')
            .set('device_layout', 'web')
            .set('layout_id', layoutId2); // seasonId vem no SeasData.screen.blocks[1].widgets[0].layout.id
        //API path
        var endpoint = this.globals.endpoints.seasonsEpisodes
            .replace('{tvshow_id}', showId2)
            .replace('{season_id}', seasonId);
        this.http.get(endpoint, { headers: headers, params: params })
            .toPromise()
            .then(function (res) {
            _this.Season.next(res);
            _this.loading.set(false);
        })
            .catch(function (error) {
            console.error(error);
            this.loading.set(false);
        });
    };
    DetailsService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["A" /* Injectable */])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_common_http__["a" /* HttpClient */],
            __WEBPACK_IMPORTED_MODULE_2__globals_service__["a" /* GlobalsService */],
            __WEBPACK_IMPORTED_MODULE_5__loading_loading_service__["a" /* LoadingService */]])
    ], DetailsService);
    return DetailsService;
}());



/***/ }),

/***/ "./src/app/footer/footer.component.html":
/***/ (function(module, exports) {

module.exports = "<div id=\"footer-first\">\r\n  <div id=\"footer-menu\">\r\n    <a *ngIf=\"hasSubscriptions\" routerLink=\"pricing\" (click)=\"onClick()\">{{globals.strings.SUBSCRIPTIONS_PLAN_TITLE || \"Subscription Plans\"}}</a>\r\n    <a *ngIf=\"hasTermsConditions\" routerLink=\"settings/terms-conditions\" (click)=\"onClick()\">{{globals.strings.SETTINGS_TERMS_AND_CONDITIONS}}</a>\r\n    <a *ngIf=\"hasHelp\" routerLink=\"help\" (click)=\"onClick()\">{{globals.strings.SETTINGS_SCREEN_HELP}}</a>\r\n    <a *ngIf=\"hasFaq\" routerLink=\"faq\" (click)=\"onClick()\">{{globals.strings.SETTINGS_SCREEN_FAQ}}</a>\r\n    <!--<a>Item5</a>-->\r\n  </div>\r\n  <div id=\"footer-logo\"><img src=\"{{globals.settings.logo_image.url}}\"></div>\r\n</div>\r\n<div style=\"clear: both\"></div>\r\n<div id=\"copyright\">Copyright 2018 - TVAPP agency.com</div>\r\n"

/***/ }),

/***/ "./src/app/footer/footer.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FooterComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__globals_service__ = __webpack_require__("./src/app/globals.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__settings_settings_service__ = __webpack_require__("./src/app/settings/settings.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var FooterComponent = /** @class */ (function () {
    function FooterComponent(globals, settingService) {
        this.globals = globals;
        this.settingService = settingService;
        this.hasSubscriptions = false;
        this.hasTermsConditions = false;
        this.hasHelp = false;
        this.hasFaq = false;
    }
    FooterComponent.prototype.ngOnInit = function () {
        if (this.globals.subscriptions !== undefined) {
            this.hasSubscriptions = true;
        }
        if (this.globals.settings.hasOwnProperty('terms_conditions_slug') && this.globals.settings.terms_conditions_slug !== '') {
            this.hasTermsConditions = true;
        }
        if (this.globals.settings.hasOwnProperty('help_slug') && this.globals.settings.help_slug !== '') {
            this.hasHelp = true;
        }
        if (this.globals.settings.hasOwnProperty('faq_slug') && this.globals.settings.faq_slug !== '') {
            this.hasFaq = true;
        }
    };
    FooterComponent.prototype.onClick = function () {
        this.settingService.setBreadCrums(false);
    };
    FooterComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["n" /* Component */])({
            selector: 'app-footer',
            template: __webpack_require__("./src/app/footer/footer.component.html")
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__globals_service__["a" /* GlobalsService */], __WEBPACK_IMPORTED_MODULE_2__settings_settings_service__["a" /* SettingsService */]])
    ], FooterComponent);
    return FooterComponent;
}());



/***/ }),

/***/ "./src/app/footer/footer.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FooterModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common__ = __webpack_require__("./node_modules/@angular/common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__footer_component__ = __webpack_require__("./src/app/footer/footer.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__footer_service__ = __webpack_require__("./src/app/footer/footer.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};





var FooterModule = /** @class */ (function () {
    function FooterModule() {
    }
    FooterModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["I" /* NgModule */])({
            imports: [
                __WEBPACK_IMPORTED_MODULE_1__angular_common__["b" /* CommonModule */],
                __WEBPACK_IMPORTED_MODULE_4__angular_router__["g" /* RouterModule */]
            ],
            declarations: [
                __WEBPACK_IMPORTED_MODULE_2__footer_component__["a" /* FooterComponent */]
            ],
            exports: [
                __WEBPACK_IMPORTED_MODULE_2__footer_component__["a" /* FooterComponent */]
            ],
            providers: [
                __WEBPACK_IMPORTED_MODULE_3__footer_service__["a" /* FooterService */]
            ]
        })
    ], FooterModule);
    return FooterModule;
}());



/***/ }),

/***/ "./src/app/footer/footer.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FooterService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("./node_modules/@angular/http/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_Observable__ = __webpack_require__("./node_modules/rxjs/_esm5/Observable.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_add_operator_catch__ = __webpack_require__("./node_modules/rxjs/_esm5/add/operator/catch.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_add_operator_map__ = __webpack_require__("./node_modules/rxjs/_esm5/add/operator/map.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var FooterService = /** @class */ (function () {
    function FooterService(http) {
        this.http = http;
    }
    FooterService.prototype.extractData = function (res) {
        var body = res.json();
        if (body) {
            return body.data || body;
        }
        else {
            return {};
        }
    };
    FooterService.prototype.handleError = function (error) {
        var errMsg = (error.message) ? error.message :
            error.status ? error.status + " - " + error.statusText : 'Server error';
        console.error(errMsg);
        return __WEBPACK_IMPORTED_MODULE_2_rxjs_Observable__["a" /* Observable */].throw(errMsg);
    };
    FooterService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["A" /* Injectable */])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Http */]])
    ], FooterService);
    return FooterService;
}());



/***/ }),

/***/ "./src/app/globals.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return GlobalsService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__environments_environment__ = __webpack_require__("./src/environments/environment.ts");
/*
Contains global variables used throughout the website
 */
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


var GlobalsService = /** @class */ (function () {
    function GlobalsService() {
        // API: string = 'http://stripestaging.tvacms.com/api/';       // NO CACHE
        this.API = 'http://stagingapi.tvacms.com/api/'; // NO CACHE
        /* FACEBOOK LOGIN PARAMS */
        this.fbParams = __WEBPACK_IMPORTED_MODULE_1__environments_environment__["a" /* environment */].fbParams;
        /* LOGIN AND USER RELATED */
        this.userLoggedIn = false; // Whether the user successfully logged in or not
        this.localStorageKeyPrefix = 'tvapptemp-2.0-'; // WARNING: changing this on version updates also logs out users!
        this.accountToken = null; // Holds the account token
        this.authToken = null; // Holds the authentication token, necessary to other API calls
        this.tempAuthToken = null; // Holds the temporary auth token (when all sessions have been spent)
        this.authTokenExpiration = 0; // Unix timestamp (0 == doesn't expire) -- seems to default to 1 week
        this.accountProfileToken = null; // Holds the current profile token
        this.userProfiles = []; // List of user profiles
        this.currProfile = null;
        this.defaultAvatar = 'assets/ic-default-avatar.png'; // The default avatar in user area after logout
        this.currAvatar = 'assets/ic-default-avatar.png'; // User current avatar
        this.hasActiveSubscription = false; // Quick check flag for subscription status ...
        this.nbrOfLoginProviders = 1; // Determined upon getting settings from the API
        /* PAYMENTS RELATED */
        this.stripePubKey = __WEBPACK_IMPORTED_MODULE_1__environments_environment__["a" /* environment */].stripePubKey; // It's set to the test or real keys depending on the environment
        // ( see /environments/environment*.ts )
        this.endpoints = {
            settings: this.API + 'settings',
            languages: this.API + 'languages',
            strings: this.API + 'languages/strings',
            menus: this.API + 'menus',
            menuId: this.API + 'menus/' + this.menuId,
            menuDefault: this.API + 'menus/default',
            //menuOption: this.API + 'menus/' + this.menuId + '/option/' + this.optionId, // Old way
            menuOption: this.API + 'menus/{menu_id}/option/{option_id}',
            register: this.API + 'account/register',
            login: this.API + 'account/login',
            socialLogin: this.API + 'account/social_login',
            logout: this.API + 'account/' + this.accountToken + '/logout',
            liveSessions: this.API + 'account/{account_token}/live_sessions',
            profiles: this.API + 'account/{account_token}/profiles',
            profile: this.API + 'account/',
            profileAvatars: this.API + 'profile_avatars',
            assets: this.API + 'assets',
            assetsRelated: this.API + '{asset_id}/related',
            assetsRate: this.API + 'account/{profile_token}/rate/{asset_id}',
            assetsFavorite: this.API + 'account/{profile_token}/favourites/{asset_id}',
            // (GET) check if the asset is a favorite
            // (DELETE) remove the asset from the favourites list
            assetsStream: this.API + 'assets/{asset_id}/streams/{stream_id}',
            seasonsEpisodes: this.API + 'tvshow/{tvshow_id}/season/{season_id}/episodes',
            /* Parental control related */
            setParentalControl: this.API + 'account/{profile_token}/parental_control',
            // AND set parental pin
            ageRatings: this.API + 'age_ratings/{country_code}',
            verifyParentalPin: this.API + 'account/{profile_token}/parentalpin',
            recoverParentalPin: this.API + 'account/{profile_token}/recover_parentalpin',
            changeParentalPin: this.API + 'account/{profile_token}/parentalpin',
            /* Subscriptions and payments related */
            subscriptions: this.API + 'subscriptions',
            profileSubscriptions: this.API + 'account/{profile_token}/subscriptions',
            profilePaymentMethods: this.API + 'account/{profile_token}/{payment_gateway}/payment_methods',
            // @Notes: currently available gateways: ['stripe', 'voucher']
            purchase: this.API + 'account/{profile_token}/purchase',
            cancelSubscription: this.API + 'account/{profile_token}/subscriptions',
            /* Entitlements */
            entitlements: this.API + 'account/{profile_token}/entitlements/{asset_id}',
            pairingCode: this.API + 'account/{profile_token}/pairing_code',
            /* Password related */
            changePassword: this.API + 'account/{profile_token}/password',
            /* User session related */
            sessionStatus: this.API + 'account/{profile_token}/status_session',
        };
        /* Enable or disable functionality here for specific customers */
        this.rules = {
            register: false,
            multipleProfiles: false,
            subscriptions: false,
            socialMediaFB: true,
            socialMediaTwitter: true,
            socialMediaInstagram: true,
            facebookLogin: false,
            purchasePin: false,
            manageCreditCard: false
        };
        // TVCable rules:
        this.tvcableGroup_asset_types = 0;
        this.tvcableAsset_types = 'movies,series,channels';
        this.tvcableSearchQuery = '&device_type=web&device_layout=web&asset_types=' + this.tvcableAsset_types + '&group_asset_types=' + this.tvcableGroup_asset_types;
        //tvcableSearchQuery= 'device_type=web&device_layout=web&asset_types='+this.tvcableAsset_types;
    }
    GlobalsService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["A" /* Injectable */])()
    ], GlobalsService);
    return GlobalsService;
}());

;
;
;


/***/ }),

/***/ "./src/app/guide/guide.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"genre-selection genre-selection-epg\" *ngIf=\"layout.show_genres\">\r\n  <ul>\r\n    <li (click)=\"changeGenre()\" [class.selected]=\"currentGenre == undefined\">\r\n      All Channels\r\n    </li>\r\n    <li *ngFor=\"let el of genres\" (click)=\"changeGenre(el.slug)\" [class.selected]=\"currentGenre == el.slug\">\r\n      {{el.name}}\r\n    </li>\r\n  </ul>\r\n</div>\r\n\r\n\r\n<!-- STANDARD GUIDE DESIGN -->\r\n<div class=\"guide-container\">\r\n  <div class=\"days-container\">\r\n    <ul class=\"days\">\r\n      <li *ngFor=\"let el of days\" (click)=\"selectDay(el.id)\" [ngClass]=\"{focus : el.id == day}\">\r\n        {{el.name}}\r\n      </li>\r\n    </ul>\r\n  </div>\r\n\r\n  <div class=\"current-epg\" *ngIf=\"layout.show_selected_program_info=='top'\">\r\n    <div class=\"current-epg-container\">\r\n      <div class=\"epg-info\">\r\n        <h3 class=\"epg-current-channel\">\r\n          <p>{{currentChannel.name}}</p>\r\n          <p class=\"now-playing-time\">\r\n            {{currentShow.isPlaying ? 'ON NOW&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;' : ''}}{{currentShow.start_time_string}}\r\n            - {{currentShow.end_time_string}}\r\n          </p>\r\n        </h3>\r\n        <h3 class=\"epg-current-show\">{{currentShow.name}}</h3>\r\n        <div class=\"epg-description\">{{currentShow.description}}</div>\r\n      </div>\r\n\r\n      <!-- PLAYER -->\r\n      <div class=\"epgPlayerContainer\" *ngIf=\"layout.show_preview!='none'\">\r\n        <video class=\"video-js\" controls preload=\"auto\" data-setup=\"{}\" id=\"epgPlayer\" *ngIf=\"layout.show_preview=='video'\"></video>\r\n\r\n        <img src=\"{{currentShow.image.url}}\" *ngIf=\"layout.show_preview=='image'\">\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"smaller-epg\" *ngIf=\"smallScreen\" [ngClass]=\"{epgOpacity : epgOpacity}\">\r\n    <div class=\"smaller-epg-container\">\r\n      <div class=\"channels\">\r\n        <div class=\"channels-small-inner\"\r\n             [ngStyle]=\"{'transform': 'translate3d(' + this.channelsPosition + 'px, 0, 0)'}\">\r\n          <div class=\"channel-logo\" *ngFor=\"let el of data\"\r\n               [ngClass]=\"{selected: currentChannel.channel_number == el.channel_number}\"\r\n               (click)=\"selectChannel(el)\">\r\n            <img src=\"{{el.image.url}}\">\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"selected-channel\">\r\n      <div *ngFor=\"let el of currentChannel.scheduling\" class=\"selected-channel-program\"\r\n           [ngClass]=\"{selected: el.id == currentShow.id}\">\r\n\r\n        <div class=\"info-container\" (click)=\"selectShow(el)\">\r\n          <div class=\"now-playing-time\">\r\n            <div class=\"on-now-tag\" *ngIf=\"el.isPlaying\">ON NOW</div>\r\n            <p class=\"now-playing-time\">{{el.start_time_string}} - {{el.end_time_string}}</p>\r\n          </div>\r\n          <div class=\"title\">{{el.name}}</div>\r\n          <!--TODO get real \"no descrption\" message -->\r\n          <div class=\"description\">{{el.description || 'No description available'}}</div>\r\n        </div>\r\n\r\n        <div class=\"options\">\r\n          <div *ngIf=\"el.isPlaying\">\r\n            <a>\r\n              <img src=\"assets/ic_epg_play.png\">\r\n              <p>Watch live</p>\r\n            </a>\r\n          </div>\r\n          <div class=\"borders\">\r\n            <a ui-sref=\"info\">\r\n              <img src=\"assets/ic_epg_info.png\">\r\n              <p>Info</p>\r\n            </a>\r\n          </div>\r\n        </div>\r\n        <div class=\"bottom-border\"></div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"standard-epg\" ng-show=\"!smallScreen\" [ngClass]=\"{epgOpacity : epgOpacity}\">\r\n    <div class=\"time\">\r\n      <div class=\"time-inner\" [ngStyle]=\"{'transform' : 'translate3d(' + this.epgPosition + 'px, 0, 0)'}\">\r\n        <div *ngFor=\"let el of time; let i = index\" [ngStyle]=\"{'left' : i * 120 + 'px'}\"\r\n             [hidden]=\"-epgPosition > i*120 - 18 || (containerWidth - epgPosition) < ((i * 120 - 18) + 136)\">\r\n          {{el}}\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div id=\"standard-epg-container\" [ngStyle]=\"{'height': epgHeight}\">\r\n      <div class=\"epg-control-right\" (click)=\"moveEpg(1)\"></div>\r\n      <div class=\"epg-control-left\" (click)=\"moveEpg(2)\"></div>\r\n      <div *ngFor=\"let el of data\" class=\"channels\">\r\n        <div class=\"channel-logo\" (click)='selectChannel(el)'>\r\n          <img src=\"{{el.image.url}}\">\r\n        </div>\r\n        <div class=\"shows\">\r\n          <div class=\"shows-inner\" [ngStyle]=\"{'transform' : 'translate3d(' + this.epgPosition + 'px, 0, 0)'}\">\r\n            <div *ngFor=\"let show of el.scheduling\" (click)=\"selectShow(show, el)\" class=\"element\"\r\n                 [ngStyle]=\"{'width' : show.width + 'px', 'left' : show.left + 'px'}\">\r\n              <div class=\"show-title-big\"\r\n                   [ngClass]=\"{selected: currentShow.id == show.id, playing: show.isPlaying}\"\r\n                   [ngStyle]=\"{'width' : (show.width - 15) + 'px'}\">\r\n                <span [ngStyle]=\"getTextPosition(show)\">{{show.name}}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n</div>\r\n\r\n<div *ngIf=\"popup\" class=\"popup-container\">\r\n  <div class=\"popup-close\" (click)=\"popup=false\"></div>\r\n  <div class=\"popup-content epg-popup\">\r\n    <h1>{{currentShow.name}}</h1>\r\n    <h2>{{currentShow.start_time_string}} - {{currentShow.end_time_string}}</h2>\r\n    <p>{{currentShow.description}}</p>\r\n    <div class=\"epg-popup-options\">\r\n      <button>WATCH</button>\r\n      <button *ngIf=\"(currentShow.start_time * 1000) > nowMs\">REMINDER</button>\r\n    </div>\r\n    </div>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/guide/guide.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return GuideComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__guide_service__ = __webpack_require__("./src/app/guide/guide.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__globals_service__ = __webpack_require__("./src/app/globals.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__loading_loading_service__ = __webpack_require__("./src/app/loading/loading.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__models_epg_layout__ = __webpack_require__("./src/app/models/epg-layout.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__models_epg_channel__ = __webpack_require__("./src/app/models/epg-channel.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__models_scheduling__ = __webpack_require__("./src/app/models/scheduling.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_moment__ = __webpack_require__("./node_modules/moment/moment.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8_moment__);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};









var GuideComponent = /** @class */ (function () {
    // epgDragDistance: number = 70;
    function GuideComponent(service, globals, router, loading) {
        this.service = service;
        this.globals = globals;
        this.router = router;
        this.loading = loading;
        this.genres = [];
        this.layout = new __WEBPACK_IMPORTED_MODULE_5__models_epg_layout__["a" /* EpgLayout */]();
        this.currentShow = new __WEBPACK_IMPORTED_MODULE_7__models_scheduling__["a" /* Scheduling */]();
        this.selectedChannel = 0;
        this.currentChannel = new __WEBPACK_IMPORTED_MODULE_6__models_epg_channel__["a" /* EpgChannel */]();
        this.days = [];
        this.day = 0;
        this.epgOpacity = false;
        this.smallScreen = window.innerWidth < 768;
        this.epgPosition = 0;
        this.containerWidth = 0;
        this.screenWidth = 0;
        this.channelsPosition = 0;
        this.showingOptions = '';
        this.time = [];
        this.currentGenre = undefined;
        this.popup = false;
    }
    GuideComponent_1 = GuideComponent;
    GuideComponent.prototype.ngOnInit = function () {
        this.globals.pageTitle = 'Live TV Guide';
        this.createTimeMarkers();
        //Gets the milliseconds since midnight so we know where the EPG starts
        var d = new Date();
        var e = new Date(d);
        this.epgPosition = -(+e - d.setHours(0, 0, 0, 0)) / 1000 / 60 * 4;
        //Little visual fix so that if EPG is too soon or too late
        //we prevent it leaving white space on one of the sides
        if (this.epgPosition < -438) {
            this.epgPosition += 438;
        }
        if (this.epgPosition > -438) {
            this.epgPosition = 0;
        }
        if (this.epgPosition < -4580) {
            this.epgPosition = -4580;
        }
        var today = new Date();
        today.setHours(0, 0, 0, 0);
        this.todayMs = today.getTime();
        this.nowMs = new Date().getTime();
        this.getGuide(this.todayMs, this.currentGenre);
    };
    /**
     * Callback for when the user resizes the window, which manages the EPG width
     */
    GuideComponent.prototype.onResize = function () {
        var oldWidth = this.screenWidth;
        this.screenWidth = window.innerWidth;
        this.smallScreen = this.screenWidth < 768;
        this.containerWidth = document.getElementById('standard-epg-container').offsetWidth;
        if (this.screenWidth > oldWidth && this.epgPosition <= -4580) {
            this.epgPosition -= oldWidth - this.screenWidth;
        }
    };
    /**
     * Gets the EPG data and sets up the next necessary steps when a new batch of data is requested
     * @param {number} startTime
     * @param {genre} Genre of the channels
     */
    GuideComponent.prototype.getGuide = function (startTime, genre) {
        var _this = this;
        this.loading.set(true);
        this.epgOpacity = true;
        //Start comes in ms but the API wants seconds, hence the / 1000
        this.service.getGuide(startTime / 1000, genre)
            .subscribe(function (response) {
            _this.data = response.blocks[0].widgets[0].playlist.contents;
            if (!_this.genres.length) {
                _this.genres = response.blocks[0].widgets[0].playlist.genres;
            }
            _this.layout = response.blocks[0].widgets[0].layout;
        }, function (error) { return _this.errorMessage = error; }, function () {
            if (!_this.days.length) {
                _this.createDays(_this.layout.number_days_backward, _this.layout.number_days_forward);
            }
            _this.containerWidth = document.getElementById('standard-epg-container').offsetWidth;
            _this.epgHeight = (_this.data.length * 44) - 4 + 'px';
            _this.epgOpacity = false;
            _this.parseData();
            _this.currentChannel = _this.data[0];
            _this.getSelected();
            //Gets the show that is currently playing
            for (var i = 0; i < _this.data[_this.selectedChannel].scheduling.length; i++) {
                if (_this.data[_this.selectedChannel].scheduling[i].isPlaying) {
                    _this.currentShow = _this.data[_this.selectedChannel].scheduling[i];
                    break;
                }
            }
            _this.loading.set(false);
        });
    };
    /**
     * Converts a timestamp to human readable time
     * @param value
     * @returns {string}
     */
    GuideComponent.dateToTime = function (value) {
        value = new Date(value);
        var minutes = value.getMinutes();
        var hours = value.getHours();
        return ('0' + hours).slice(-2) + ':' + ('0' + minutes).slice(-2);
    };
    /**
     * Parses the EPG data into a format the layout can use
     */
    GuideComponent.prototype.parseData = function () {
        var _this = this;
        var timeNow = new Date().getTime() * 1000;
        this.data.forEach(function (value) {
            value.scheduling.forEach(function (value) {
                var start = new Date(value.start_time * 1000);
                var end = new Date(value.end_time * 1000);
                value.duration = end.getTime() - start.getTime();
                value.start_time_string = GuideComponent_1.dateToTime(start);
                value.end_time_string = GuideComponent_1.dateToTime(end);
                value.width = value.duration / 1000 / 60 * 4;
                value.left = ((value.start_time * 1000) - _this.todayMs) / 1000 / 60 * 4;
                if (value.start_time * 1000 < timeNow && value.end_time * 1000 > timeNow) {
                    value.isPlaying = true;
                }
            });
        });
    };
    /**
     * Created the days list that the EPG can have
     * @param {number} forward
     * @param {number} backward
     */
    GuideComponent.prototype.createDays = function (backward, forward) {
        var daysBackward = [], daysForward = [];
        //First we create the days before the present day
        for (var i = backward; i > 0; i--) {
            var dayObj = {};
            dayObj.id = -i;
            dayObj.day = __WEBPACK_IMPORTED_MODULE_8_moment__().add(-i, 'days').format("D");
            dayObj.weekday = __WEBPACK_IMPORTED_MODULE_8_moment__().add(-i, 'days').format("ddd");
            dayObj.name = dayObj.weekday + ' ' + dayObj.day;
            dayObj.date = __WEBPACK_IMPORTED_MODULE_8_moment__().add(-i, 'days').format("x");
            daysBackward.push(dayObj);
        }
        //Then we create the days from today up until the maximum allowed days
        for (var i = 0; i < forward; i++) {
            var dayObj = {};
            dayObj.id = i;
            dayObj.day = __WEBPACK_IMPORTED_MODULE_8_moment__().add(i, 'days').format("D");
            dayObj.weekday = __WEBPACK_IMPORTED_MODULE_8_moment__().add(i, 'days').format("ddd");
            dayObj.name = dayObj.weekday + ' ' + dayObj.day;
            dayObj.date = __WEBPACK_IMPORTED_MODULE_8_moment__().add(i, 'days').format("x");
            daysForward.push(dayObj);
        }
        daysBackward[daysBackward.length - 1].name = 'Yesterday';
        daysForward[0].name = 'Today';
        daysForward[1].name = 'Tomorrow';
        this.days = daysBackward.concat(daysForward);
    };
    /**
     * Creates the time markers above the EPG
     */
    GuideComponent.prototype.createTimeMarkers = function () {
        for (var i = 0; i < 24; i++) {
            this.time.push((i < 10 ? '0' + i : i) + ':' + '00');
            this.time.push((i < 10 ? '0' + i : i) + ':' + '30');
        }
    };
    /**
     * Changes the currently selected day
     * @param {number} day
     */
    GuideComponent.prototype.selectDay = function (day) {
        this.day = day;
        //Get today's date
        var start = new Date();
        //Add the number of days we need (if we choose today, this variable comes as 0)
        start.setDate(start.getDate() + day);
        //Get the beginning and end of the day
        start.setHours(0, 0, 0, 0);
        //Get the timestamp
        var startMs = start.getTime();
        this.todayMs = startMs;
        //Get the EPG data for the new day
        this.getGuide(startMs, this.currentGenre);
    };
    /**
     * Sets the currently selected show and its respective channel
     * @param {Object} show
     * @param {Object} channel
     */
    GuideComponent.prototype.selectShow = function (show, channel) {
        if (channel && channel.channel_number !== this.currentChannel.channel_number) {
            this.currentChannel = channel;
        }
        if (this.layout.show_selected_program_info == 'popup') {
            this.popup = true;
        }
        this.currentShow = show;
        this.showingOptions = show.id == this.showingOptions ? '' : show.id;
    };
    /**
     * Changes the currently selected channel
     * @param {Object} channel
     */
    GuideComponent.prototype.selectChannel = function (channel) {
        this.currentChannel = channel;
        //Gets the show that is currently playing
        for (var i = 0; i < this.currentChannel.scheduling.length; i++) {
            if (this.currentChannel.scheduling[i].isPlaying) {
                this.selectShow(this.currentChannel.scheduling[i], undefined);
                break;
            }
        }
    };
    /**
     * Verifies which show is currently playing in a given channel
     */
    GuideComponent.prototype.getSelected = function () {
        if (this.day == 0) {
            var timeNow_1 = new Date().getTime() / 1000;
            //Loop the channels
            this.data.forEach(function (channel) {
                for (var i in channel.scheduling) {
                    channel.scheduling[i].isPlaying = false;
                    if (channel.scheduling[i].start_time < timeNow_1 && channel.scheduling[i].end_time > timeNow_1) {
                        channel.scheduling[i].isPlaying = true;
                        channel.nowPlaying = channel.scheduling[i];
                        break;
                    }
                }
            });
        }
    };
    /**
     * Defines the length of the inner span of each element
     * so that the text is never outside the user view
     * @param {Object} show
     * @returns {Object} styles
     */
    GuideComponent.prototype.getTextPosition = function (show) {
        if (-show.left > this.epgPosition && -show.left < this.epgPosition + 1280) {
            var newLeft = -this.epgPosition - show.left;
            return {
                transform: 'translate3d(' + newLeft + 'px, 0, 0)',
                width: show.width - newLeft - 24 + 'px'
            };
        }
    };
    /**
     * Moves the EPG according to the navigation button that was pressed
     * @param {number} direction
     */
    GuideComponent.prototype.moveEpg = function (direction) {
        var maxMove = 4580;
        if (this.containerWidth < 1280 && this.epgPosition <= -4580) {
            maxMove += 1280 - this.containerWidth;
        }
        switch (direction) {
            case 1:
                this.epgPosition - 229 > -maxMove ? this.epgPosition -= 229 : this.epgPosition = -maxMove;
                break;
            case 2:
                this.epgPosition + 229 < 0 ? this.epgPosition += 229 : this.epgPosition = 0;
                break;
        }
    };
    /**
     * Filters the EPG according to a specific genre
     * @param genre
     */
    GuideComponent.prototype.changeGenre = function (genre) {
        if (genre != this.currentGenre) {
            this.currentGenre = genre;
            this.getGuide(this.todayMs, genre);
        }
    };
    GuideComponent = GuideComponent_1 = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["n" /* Component */])({
            selector: 'app-guide',
            template: __webpack_require__("./src/app/guide/guide.component.html"),
            host: {
                '(window:resize)': 'onResize()'
            }
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__guide_service__["a" /* GuideService */],
            __WEBPACK_IMPORTED_MODULE_2__globals_service__["a" /* GlobalsService */],
            __WEBPACK_IMPORTED_MODULE_3__angular_router__["f" /* Router */],
            __WEBPACK_IMPORTED_MODULE_4__loading_loading_service__["a" /* LoadingService */]])
    ], GuideComponent);
    return GuideComponent;
    var GuideComponent_1;
}());



/***/ }),

/***/ "./src/app/guide/guide.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return GuideModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common__ = __webpack_require__("./node_modules/@angular/common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__guide_component__ = __webpack_require__("./src/app/guide/guide.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__guide_service__ = __webpack_require__("./src/app/guide/guide.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};




var GuideModule = /** @class */ (function () {
    function GuideModule() {
    }
    GuideModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["I" /* NgModule */])({
            imports: [
                __WEBPACK_IMPORTED_MODULE_1__angular_common__["b" /* CommonModule */]
            ],
            declarations: [
                __WEBPACK_IMPORTED_MODULE_2__guide_component__["a" /* GuideComponent */]
            ],
            exports: [
                __WEBPACK_IMPORTED_MODULE_2__guide_component__["a" /* GuideComponent */]
            ],
            providers: [
                __WEBPACK_IMPORTED_MODULE_3__guide_service__["a" /* GuideService */],
            ]
        })
    ], GuideModule);
    return GuideModule;
}());



/***/ }),

/***/ "./src/app/guide/guide.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return GuideService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("./node_modules/@angular/http/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__globals_service__ = __webpack_require__("./src/app/globals.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_Observable__ = __webpack_require__("./node_modules/rxjs/_esm5/Observable.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_add_operator_catch__ = __webpack_require__("./node_modules/rxjs/_esm5/add/operator/catch.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_add_operator_map__ = __webpack_require__("./node_modules/rxjs/_esm5/add/operator/map.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var GuideService = /** @class */ (function () {
    function GuideService(http, globals) {
        this.http = http;
        this.globals = globals;
    }
    GuideService.prototype.extractData = function (res) {
        var body = res.json();
        if (body) {
            return body.data || body;
        }
        else {
            return {};
        }
    };
    GuideService.prototype.handleError = function (error) {
        var errMsg = (error.message) ? error.message :
            error.status ? error.status + " - " + error.statusText : 'Server error';
        console.error(errMsg);
        return __WEBPACK_IMPORTED_MODULE_3_rxjs_Observable__["a" /* Observable */].throw(errMsg);
    };
    GuideService.prototype.getGuide = function (start, genre) {
        var url = this.globals.API + ("epg?device_type=web&device_layout=web&datetimestamp=" + start);
        if (genre != undefined) {
            url += "&genre_id=" + genre;
        }
        return this.http
            .get(url)
            .map(this.extractData)
            .catch(this.handleError);
    };
    GuideService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["A" /* Injectable */])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Http */],
            __WEBPACK_IMPORTED_MODULE_2__globals_service__["a" /* GlobalsService */]])
    ], GuideService);
    return GuideService;
}());



/***/ }),

/***/ "./src/app/listing/listing.component.html":
/***/ (function(module, exports) {

module.exports = "<div\r\n  class=\"listing-container\"\r\n  [style.opacity]=\"showCarousel ? 1 : 0\"\r\n  dir=\"{{data.layout.presentation_order == 'RTL' ? 'RTL' : 'LTR'}}\">\r\n  <app-playlist-element *ngFor=\"let el of data.playlist.contents; trackBy: trackByContent\"\r\n                        [data]=\"el\"\r\n                        [layout]=\"data.layout\"\r\n                        [style.width]=\"colSize\"\r\n                        class=\"listing-item\">\r\n  </app-playlist-element>\r\n<!-- <div>ruiteste</div>  -->\r\n    <div *ngIf=\"isLoading\" class=\"wait\">\r\n      <div class=\"bounce1\"></div>\r\n      <div class=\"bounce2\"></div>\r\n      <div class=\"bounce3\"></div>\r\n    </div>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/listing/listing.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ListingComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__models_playlist_service__ = __webpack_require__("./src/app/models/playlist.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_jquery__ = __webpack_require__("./node_modules/jquery/dist/jquery.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_jquery___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_jquery__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__globals_service__ = __webpack_require__("./src/app/globals.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__listing_service__ = __webpack_require__("./src/app/listing/listing.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var ListingComponent = /** @class */ (function () {
    function ListingComponent(service, elem, globals, listingService) {
        this.service = service;
        this.elem = elem;
        this.globals = globals;
        this.listingService = listingService;
        this.responsiveOptions = [];
        this.showCarousel = false;
    }
    ListingComponent.prototype.trackByContent = function (index, element) { return element.id; };
    ListingComponent.prototype.onResize = function (event) {
        this.getElementWidth(event.target.innerWidth);
    };
    ListingComponent.prototype.ngAfterViewInit = function () {
        var _this = this;
        setTimeout(function () {
            _this.showCarousel = true;
        }, 300);
    };
    ListingComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.breakpoints = [5000, 1280, 768, 500];
        this.step = Math.floor(this.data.layout.columns * 0.25);
        for (var i = 0; i < this.breakpoints.length; i++) {
            var obj = {};
            var currentStep = this.data.layout.columns - i * this.step;
            obj.breakpoint = this.breakpoints[i];
            obj.settings = {
                slidesToShow: currentStep,
                slidesToScroll: currentStep
            };
            this.responsiveOptions.push(obj);
        }
        this.getElementWidth(window.innerWidth);
        //$('.endpageDiv').on('click',(e1,e2)=>{this.display_Cache()});
        //document.getElementById('endpageDivId').addEventListener("click", this.display_Cache.bind(this));
        var pageUrl = '';
        var allLoaded = true;
        if (this.data.playlist.pagination.url.next != null) {
            pageUrl = this.data.playlist.pagination.url.next.slice(0, this.data.playlist.pagination.url.next.length - 1);
            allLoaded = false;
        }
        // check if data has been extended(cached):
        if (this.data.hasOwnProperty('extended'))
            this.listingService.setState(pageUrl, this.data.extended.pageloaded, this.data.extended.pagerequested, this.data.extended.allloaded, this.data.playlist.pagination.limit, this.data.layout.number_max_elements);
        else
            this.listingService.setState(pageUrl, 2, 3, allLoaded, this.data.playlist.pagination.limit, this.data.layout.number_max_elements);
        this.listingService.nextData.subscribe(function (val) { _this.addSlides(val); });
        // Subscribe to the loading status of pageloading
        this.listingService.loading.subscribe((function (value) {
            _this.isLoading = value;
        }));
    };
    ListingComponent.prototype.ngOnDestroy = function () {
        // Since data is cached, on reentering this component we will need to know the sate of the cached data
        if (!this.data.hasOwnProperty('extended')) {
            this.data["extended"] = { pagesloaded: this.listingService.getState_pageLoaded(), pagerequested: this.listingService.getState_pageRequested(), allloaded: this.listingService.getState_allLoaded() };
        }
        else {
            this.data.extended.pageloaded = this.listingService.getState_pageLoaded();
            this.data.extended.pagerequested = this.listingService.getState_pageRequested();
            this.data.extended.allloaded = this.listingService.getState_allLoaded();
        }
    };
    ListingComponent.prototype.getElementWidth = function (width) {
        for (var i = this.responsiveOptions.length - 1; i >= 0; i--) {
            if (width <= this.responsiveOptions[i].breakpoint) {
                this.colSize = 100 / this.responsiveOptions[i].settings.slidesToShow + '%';
                break;
            }
        }
    };
    ListingComponent.prototype.addSlides = function (newSlides) {
        for (var i in newSlides) {
            this.data.playlist.contents.push(newSlides[i]);
            __WEBPACK_IMPORTED_MODULE_2_jquery__(this.id).slick('slickAdd', newSlides[i].id);
        }
        console.log("adding....");
    };
    ListingComponent.prototype.onScroll = function () {
        if ((window.innerHeight + window.scrollY) >= document.body.offsetHeight) {
            // you're at the bottom of the page
            if (!this.isLoading)
                this.listingService.getNextPage();
        }
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["D" /* Input */])(),
        __metadata("design:type", Object)
    ], ListingComponent.prototype, "data", void 0);
    ListingComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["n" /* Component */])({
            selector: 'app-listing',
            template: __webpack_require__("./src/app/listing/listing.component.html"),
            host: {
                '(window:resize)': 'onResize($event)',
                '(window:scroll)': 'onScroll($event)',
            }
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__models_playlist_service__["a" /* PlaylistService */],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["t" /* ElementRef */],
            __WEBPACK_IMPORTED_MODULE_3__globals_service__["a" /* GlobalsService */],
            __WEBPACK_IMPORTED_MODULE_4__listing_service__["a" /* ListingService */]])
    ], ListingComponent);
    return ListingComponent;
}());



/***/ }),

/***/ "./src/app/listing/listing.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ListingModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common__ = __webpack_require__("./node_modules/@angular/common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__listing_component__ = __webpack_require__("./src/app/listing/listing.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__playlist_element_playlist_element_module__ = __webpack_require__("./src/app/playlist-element/playlist-element.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__listing_service__ = __webpack_require__("./src/app/listing/listing.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__loading_loading_service__ = __webpack_require__("./src/app/loading/loading.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};






var ListingModule = /** @class */ (function () {
    function ListingModule() {
    }
    ListingModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["I" /* NgModule */])({
            imports: [
                __WEBPACK_IMPORTED_MODULE_1__angular_common__["b" /* CommonModule */],
                __WEBPACK_IMPORTED_MODULE_3__playlist_element_playlist_element_module__["a" /* PlaylistElementModule */]
            ],
            declarations: [
                __WEBPACK_IMPORTED_MODULE_2__listing_component__["a" /* ListingComponent */]
            ],
            exports: [
                __WEBPACK_IMPORTED_MODULE_2__listing_component__["a" /* ListingComponent */]
            ],
            providers: [
                __WEBPACK_IMPORTED_MODULE_4__listing_service__["a" /* ListingService */],
                __WEBPACK_IMPORTED_MODULE_5__loading_loading_service__["a" /* LoadingService */]
            ]
        })
    ], ListingModule);
    return ListingModule;
}());



/***/ }),

/***/ "./src/app/listing/listing.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ListingService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common_http__ = __webpack_require__("./node_modules/@angular/common/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__globals_service__ = __webpack_require__("./src/app/globals.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_Subject__ = __webpack_require__("./node_modules/rxjs/_esm5/Subject.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var ListingService = /** @class */ (function () {
    function ListingService(http, globals) {
        this.http = http;
        this.globals = globals;
        this.nextData = new __WEBPACK_IMPORTED_MODULE_3_rxjs_Subject__["b" /* Subject */]();
        this.loading = new __WEBPACK_IMPORTED_MODULE_3_rxjs_Subject__["b" /* Subject */]();
    }
    ListingService.prototype.getNextPage = function () {
        var _this = this;
        if (this.allLoaded || this.pageRequested != this.pagesLoaded + 1)
            return;
        console.log("Going to load page:" + this.pageUrl + this.pagesLoaded);
        this.loading.next(true);
        this.pageRequested++;
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["c" /* HttpHeaders */]()
            .set('Accept-Language', this.globals.settings.default_language);
        this.http.get(this.pageUrl + this.pagesLoaded, { headers: headers })
            .toPromise()
            .then(function (res) {
            _this.nextData.next(res.data);
            if (res.data.length == 0 || (_this.pagesLoaded * _this.pageLimit >= _this.number_max_elements)) {
                _this.allLoaded = true;
                _this.loading.next(false);
                console.log("Finnished....");
            }
            _this.pagesLoaded++;
        })
            .catch(function (error) {
            this.loading.next(false);
            console.error(error);
        });
    };
    ListingService.prototype.setState = function (pageUrl, pagesLoaded, pagesRequested, allLoaded, pageLimit, numMaxElements) {
        this.allLoaded = allLoaded;
        this.pageUrl = pageUrl;
        this.pagesLoaded = pagesLoaded;
        this.pageRequested = pagesRequested;
        this.pageLimit = pageLimit;
        this.number_max_elements = numMaxElements;
    };
    ListingService.prototype.getState_pageLoaded = function () {
        return this.pagesLoaded;
    };
    ListingService.prototype.getState_pageRequested = function () {
        return this.pageRequested;
    };
    ListingService.prototype.getState_allLoaded = function () {
        return this.allLoaded;
    };
    ListingService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["A" /* Injectable */])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_common_http__["a" /* HttpClient */], __WEBPACK_IMPORTED_MODULE_2__globals_service__["a" /* GlobalsService */]])
    ], ListingService);
    return ListingService;
}());



/***/ }),

/***/ "./src/app/live-tv-preview/live-tv-preview.component.css":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/live-tv-preview/live-tv-preview.component.html":
/***/ (function(module, exports) {

module.exports = "<div  class=\"clearfix live-tv\" *ngIf=\"block\">\r\n    <div class=\"col-sm-6 text-center\" style=\"padding: 0;\" [ngClass]=\"{'player-style': (playerService.streamError$ | async)}\">\r\n        <app-player *ngIf=\"assetId && !(playerService.streamError$ | async)\" [assetId]=\"assetId\"></app-player>\r\n        <div  *ngIf=\"(playerService.streamError$ | async)\">\r\n            <img [src]=\"url\" *ngIf=\"url && (playerService.streamError$ | async)\" alt=\"\">\r\n            <img src=\"http://via.placeholder.com/264x220/000?text={{assetId}}\" alt=\"\" *ngIf=\"!url\">\r\n        </div>\r\n    </div>\r\n    <div class=\"col-sm-6 hidden-xs\"  style=\"padding: 25px 0 0\">\r\n        <ng-container  *ngFor=\"let program of scheduling; let i =index\">\r\n            <div *ngIf=\"i < 2\">\r\n                <h2>{{ i == 0 ? 'ON now' : \"What's next\"}}</h2>\r\n                <p style=\"font-weight: normal;font-size: medium\">{{program.name}}</p>\r\n                <p><strong> {{ program.start_time*1000 | date:'hh:mm a'}} - {{program.end_time*1000 | date:'hh:mm a'}}</strong></p>\r\n                <p style=\"font-weight: normal;font-size: medium\" >{{program.description}}</p>\r\n            </div>\r\n        </ng-container>\r\n    </div>\r\n</div>\r\n\r\n<div *ngIf=\"block\" class=\"live-tv-carousel\">\r\n    <div *ngFor=\"let widget of block.widgets; let i = index\" [attr.data-index]=\"i\"\r\n         class=\"layout-container\">\r\n        <app-carousel [data]=\"widget\" [clickFn]=\"thumbClick.bind(this)\"\r\n        ></app-carousel>\r\n    </div>\r\n</div>\r\n\r\n<div class=\"hidden-md hidden-lg hidden-sm\"  style=\"padding: 10px 0 0\">\r\n    <ng-container  *ngFor=\"let program of scheduling; let i =index\">\r\n        <div *ngIf=\"i < 2\">\r\n            <h2>{{ i == 0 ? 'ON now' : 'Whats next'}}</h2>\r\n            <p style=\"font-weight: normal;font-size: medium\">{{program.name}}</p>\r\n            <p><strong> {{ program.start_time*1000 | date:'hh:mm a'}} - {{program.end_time*1000 | date:'hh:mm a'}}</strong></p>\r\n            <p style=\"font-weight: normal;font-size: medium\" >{{program.description}}</p>\r\n        </div>\r\n    </ng-container>\r\n</div>"

/***/ }),

/***/ "./src/app/live-tv-preview/live-tv-preview.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LiveTvPreviewComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__loading_loading_service__ = __webpack_require__("./src/app/loading/loading.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__live_tv_preview_service__ = __webpack_require__("./src/app/live-tv-preview/live-tv-preview.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__player_player_service__ = __webpack_require__("./src/app/player/player.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var LiveTvPreviewComponent = /** @class */ (function () {
    function LiveTvPreviewComponent(loading, liveTVService, playerService) {
        this.loading = loading;
        this.liveTVService = liveTVService;
        this.playerService = playerService;
    }
    LiveTvPreviewComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.liveTVService.getChannels().subscribe(function (res) {
            res.blocks[0].widgets.forEach(function (data) {
                data.layout.columns = 5;
                data.layout.show_elements_favorite = 'none';
                data.layout.show_elements_rating = 'none';
                data.layout.pagination_indicator = 'none';
                data.layout.element_horizontal_spacing = 15;
                data.layout.element_vertical_spacing = 15;
                data.layout.assets_format_ratio = 1.2;
                data.layout.presentation_order = 'LTR';
                data.layout.show_elements_title = 'none';
            });
            _this.block = res.blocks[0];
            _this.scheduling = _this.block.widgets[0].playlist.contents[0].scheduling;
            _this.url = _this.block.widgets[0].playlist.contents[0].image.url;
            _this.assetId = _this.block.widgets[0].playlist.contents[0].id;
            if (!_this.scheduling.length) {
                _this.thumbClick(_this.assetId, _this.url);
            }
            _this.loading.set(false);
        });
    };
    LiveTvPreviewComponent.prototype.thumbClick = function (id, url) {
        var _this = this;
        this.assetId = id;
        this.url = url;
        this.liveTVService.getChannelDetails(id).subscribe(function (prog) { return _this.scheduling = prog.slice(0, 2); });
    };
    LiveTvPreviewComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["n" /* Component */])({
            selector: 'app-live-tv-preview',
            template: __webpack_require__("./src/app/live-tv-preview/live-tv-preview.component.html"),
            styles: [__webpack_require__("./src/app/live-tv-preview/live-tv-preview.component.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__loading_loading_service__["a" /* LoadingService */],
            __WEBPACK_IMPORTED_MODULE_2__live_tv_preview_service__["a" /* LiveTvPreviewService */],
            __WEBPACK_IMPORTED_MODULE_3__player_player_service__["a" /* PlayerService */]])
    ], LiveTvPreviewComponent);
    return LiveTvPreviewComponent;
}());



/***/ }),

/***/ "./src/app/live-tv-preview/live-tv-preview.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LiveTvPreviewModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common__ = __webpack_require__("./node_modules/@angular/common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__live_tv_preview_component__ = __webpack_require__("./src/app/live-tv-preview/live-tv-preview.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__live_tv_preview_service__ = __webpack_require__("./src/app/live-tv-preview/live-tv-preview.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__carousel_carousel_module__ = __webpack_require__("./src/app/carousel/carousel.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__listing_listing_module__ = __webpack_require__("./src/app/listing/listing.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__player_player_module__ = __webpack_require__("./src/app/player/player.module.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};







var LiveTvPreviewModule = /** @class */ (function () {
    function LiveTvPreviewModule() {
    }
    LiveTvPreviewModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["I" /* NgModule */])({
            imports: [
                __WEBPACK_IMPORTED_MODULE_1__angular_common__["b" /* CommonModule */],
                __WEBPACK_IMPORTED_MODULE_4__carousel_carousel_module__["a" /* CarouselModule */],
                __WEBPACK_IMPORTED_MODULE_5__listing_listing_module__["a" /* ListingModule */],
                __WEBPACK_IMPORTED_MODULE_6__player_player_module__["a" /* PlayerModule */]
            ],
            declarations: [
                __WEBPACK_IMPORTED_MODULE_2__live_tv_preview_component__["a" /* LiveTvPreviewComponent */]
            ],
            exports: [
                __WEBPACK_IMPORTED_MODULE_2__live_tv_preview_component__["a" /* LiveTvPreviewComponent */]
            ],
            providers: [
                __WEBPACK_IMPORTED_MODULE_3__live_tv_preview_service__["a" /* LiveTvPreviewService */]
            ]
        })
    ], LiveTvPreviewModule);
    return LiveTvPreviewModule;
}());



/***/ }),

/***/ "./src/app/live-tv-preview/live-tv-preview.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LiveTvPreviewService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_rxjs_Observable__ = __webpack_require__("./node_modules/rxjs/_esm5/Observable.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__globals_service__ = __webpack_require__("./src/app/globals.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_http__ = __webpack_require__("./node_modules/@angular/http/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_add_operator_map__ = __webpack_require__("./node_modules/rxjs/_esm5/add/operator/map.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var LiveTvPreviewService = /** @class */ (function () {
    function LiveTvPreviewService(http, globals) {
        this.http = http;
        this.globals = globals;
    }
    LiveTvPreviewService.prototype.extractData = function (res) {
        var body = res.json();
        if (body) {
            return body.data || body;
        }
        else {
            return {};
        }
    };
    LiveTvPreviewService.prototype.handleError = function (error) {
        var errMsg = (error.message) ? error.message :
            error.status ? error.status + " - " + error.statusText : 'Server error';
        console.error(errMsg);
        return __WEBPACK_IMPORTED_MODULE_1_rxjs_Observable__["a" /* Observable */].throw(errMsg);
    };
    LiveTvPreviewService.prototype.getChannels = function () {
        var url = this.globals.API + ("onnow?device_type=web&device_layout=web&page=1&limit=100&datetimestamp=" + (new Date().getTime() + new Date().getTimezoneOffset() * 60 * 1000) / 1000);
        return this.http
            .get(url)
            .map(this.extractData)
            .catch(this.handleError);
    };
    LiveTvPreviewService.prototype.getChannelDetails = function (id) {
        var url = this.globals.API + ("channels/" + id + "/scheduling?device_type=web&device_layout=web&datetimestamp=" + (new Date().getTime() + new Date().getTimezoneOffset() * 60 * 1000) / 1000);
        return this.http
            .get(url)
            .map(this.extractData)
            .catch(this.handleError);
    };
    LiveTvPreviewService.prototype.getProgramDetails = function (id, progID) {
        var url = this.globals.API + ("channels/" + id + "/scheduling/" + progID + "?device_type=web&device_layout=web");
        return this.http
            .get(url)
            .map(this.extractData)
            .catch(this.handleError);
    };
    LiveTvPreviewService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["A" /* Injectable */])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_3__angular_http__["a" /* Http */],
            __WEBPACK_IMPORTED_MODULE_2__globals_service__["a" /* GlobalsService */]])
    ], LiveTvPreviewService);
    return LiveTvPreviewService;
}());



/***/ }),

/***/ "./src/app/loading/loading.component.html":
/***/ (function(module, exports) {

module.exports = "<div id=\"loadingContainer\" [class.loading]=\"loading\">\r\n  <div class=\"spinner\">\r\n    <div class=\"bounce1\"></div>\r\n    <div class=\"bounce2\"></div>\r\n    <div class=\"bounce3\"></div>\r\n  </div>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/loading/loading.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LoadingComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__loading_service__ = __webpack_require__("./src/app/loading/loading.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var LoadingComponent = /** @class */ (function () {
    function LoadingComponent(service) {
        this.service = service;
    }
    LoadingComponent.prototype.ngAfterViewInit = function () {
    };
    LoadingComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.service.loadingUpdated.subscribe(function (loading) {
            _this.loading = _this.service.get();
        });
    };
    LoadingComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["n" /* Component */])({
            selector: 'app-loading',
            template: __webpack_require__("./src/app/loading/loading.component.html")
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__loading_service__["a" /* LoadingService */]])
    ], LoadingComponent);
    return LoadingComponent;
}());



/***/ }),

/***/ "./src/app/loading/loading.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LoadingModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common__ = __webpack_require__("./node_modules/@angular/common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__loading_component__ = __webpack_require__("./src/app/loading/loading.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__loading_service__ = __webpack_require__("./src/app/loading/loading.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};




var LoadingModule = /** @class */ (function () {
    function LoadingModule() {
    }
    LoadingModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["I" /* NgModule */])({
            imports: [
                __WEBPACK_IMPORTED_MODULE_1__angular_common__["b" /* CommonModule */]
            ],
            declarations: [
                __WEBPACK_IMPORTED_MODULE_2__loading_component__["a" /* LoadingComponent */]
            ],
            exports: [
                __WEBPACK_IMPORTED_MODULE_2__loading_component__["a" /* LoadingComponent */]
            ],
            providers: [
                __WEBPACK_IMPORTED_MODULE_3__loading_service__["a" /* LoadingService */]
            ]
        })
    ], LoadingModule);
    return LoadingModule;
}());



/***/ }),

/***/ "./src/app/loading/loading.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LoadingService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");

var LoadingService = /** @class */ (function () {
    function LoadingService() {
        this.loadingUpdated = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["v" /* EventEmitter */]();
    }
    LoadingService.prototype.set = function (loading) {
        this.loading = loading;
        this.loadingUpdated.emit(this.loading);
    };
    LoadingService.prototype.get = function () {
        return this.loading;
    };
    return LoadingService;
}());



/***/ }),

/***/ "./src/app/login/login-popup.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LoginPopupService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_rxjs_Rx__ = __webpack_require__("./node_modules/rxjs/_esm5/Rx.js");

var LoginPopupService = /** @class */ (function () {
    function LoginPopupService() {
        this.show = new __WEBPACK_IMPORTED_MODULE_0_rxjs_Rx__["a" /* Subject */]();
    }
    return LoginPopupService;
}());



/***/ }),

/***/ "./src/app/login/login.component.html":
/***/ (function(module, exports) {

module.exports = "<div *ngIf=\"isVisible\" class=\"popup-container\">\r\n  <div class=\"popup-close\" (click)=\"isVisible=false\"></div>\r\n  <div class=\"popup-content\">\r\n    <div id=\"loginContent\">\r\n      <span class=\"close-button\" (click)=\"isVisible=false\"></span>\r\n        <button *ngIf=\"globals.rules.facebookLogin\" class=\"facebook_login_btn\" (click)=\"facebookLogin()\">{{globals.strings.LOGIN_SCREEN_LOGIN_WITH_FACEBOOK}}</button>\r\n\r\n      <div *ngIf=\"globals.nbrOfLoginProviders > 1\" class=\"styled-select semi-square\">\r\n\r\n        <select>\r\n          <option *ngFor=\"let provider of globals.settings.user_configurations.authentication_providers\">{{provider.provider}}</option>\r\n        </select>\r\n\r\n      </div>\r\n\r\n        <p class=\"popup-title\">{{globals.strings.LOGIN_SCREEN_ENTER_YOUR_CREDENTIALS}}</p>\r\n\r\n      <form id=\"loginFrm\">\r\n        <input [(ngModel)]=\"email\" type=\"email\" name=\"email\" id=\"email\" placeholder=\"{{globals.strings.LOGIN_SCREEN_USERNAME}}\">\r\n        <div class=\"loginPassword\">\r\n          <span class=\"fa\" [ngClass]=\"{'fa-eye-slash': showPassword, 'fa-eye': !showPassword}\" (click)=\"toggleEye()\"></span>\r\n          <input [(ngModel)]=\"password\" type=\"{{showPassword ? 'text' : 'password'}}\" name=\"password\" id=\"password\" placeholder=\"{{globals.strings.LOGIN_SCREEN_PASSWORD}}\">\r\n        </div>\r\n        <label id=\"id3-keepSigned\" for=\"keepSignedOption\"><input type=\"checkbox\" class=\"keepSignedCheckBox\" name=\"keepSignedOption\" id=\"keepSignedOption\"  aria-labelledby=\"id3-keepSigned\" aria-describedby=\"id3\" (click)=\"keepLoginData=!keepLoginData\"><span>{{globals.strings.LOGIN_SCREEN_KEEP_ME_SIGNED_IN}}</span></label>\r\n        <div class=\"actionBtnWrapper\">\r\n          <button (click)=\"providerLogin()\" class=\"pressBtn\">{{globals.strings.LOGIN_SCREEN_LOGIN}}</button>\r\n        </div>\r\n      </form>\r\n\r\n      <div class=\"actionBtnWrapper\">\r\n          <button *ngIf=\"globals.rules.register\" class=\"pressBtn\" (click)=\"showRegister()\" [disabled]=\"false\">{{globals.strings.SETTINGS_SCREEN_REGISTER}}</button>\r\n      </div>\r\n\r\n      <div>\r\n        <p><a id=\"forgotPassword\" (click)=\"forgotPassword()\">{{globals.strings.LOGIN_SCREEN_FORGOT_PASSWORD}}</a></p>\r\n        <p><a id=\"registerNewUser\" (click)=\"registerNewUser()\">{{globals.strings.LOGIN_SCREEN_DONT_HAVE_ACCOUNT}}</a></p>\r\n      </div>\r\n\r\n      <div *ngIf=\"errorMsg!==null\" class=\"errorMsgs\" @fadeInAnimation>{{errorMsg}}</div>\r\n\r\n      </div>\r\n    </div>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/login/login.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LoginComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__globals_service__ = __webpack_require__("./src/app/globals.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__login_popup_service__ = __webpack_require__("./src/app/login/login-popup.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_common_http__ = __webpack_require__("./node_modules/@angular/common/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__app_sessions_sessions_service__ = __webpack_require__("./src/app/sessions/sessions.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__animations_index__ = __webpack_require__("./src/app/_animations/index.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__login_service__ = __webpack_require__("./src/app/login/login.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_sweetalert2__ = __webpack_require__("./node_modules/sweetalert2/dist/sweetalert2.all.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_sweetalert2___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_sweetalert2__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__subscriptions_subscriptions_service__ = __webpack_require__("./src/app/subscriptions/subscriptions.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__register_register_popup_service__ = __webpack_require__("./src/app/register/register-popup.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



/*import {FacebookService, LoginResponse} from "ngx-facebook";*/


// import fade in animation






var LoginComponent = /** @class */ (function () {
    function LoginComponent(http, globals, loginService, popup, 
    /*private fb: FacebookService,*/
    router, subscriptionsService, register, sessions) {
        var _this = this;
        this.http = http;
        this.globals = globals;
        this.loginService = loginService;
        this.popup = popup;
        this.router = router;
        this.subscriptionsService = subscriptionsService;
        this.register = register;
        this.sessions = sessions;
        this.isVisible = false;
        this.showPassword = false;
        this.errorMsg = null;
        this.keepLoginData = false;
        this.finishedLogIn = false; // Flag indicating whether the login process fully finished
        /*fb.init(this.globals.fbParams);*/
        popup.show.subscribe(function (val) { return _this.showPopup(); });
        // Subscribe to the service's subjects
        this.loginService.finishedLogin.subscribe(function (value) {
            _this.finishedLogIn = value;
            // If we're done with the login process, close the modal!
            if (_this.finishedLogIn === true) {
                _this.isVisible = false;
                // Save the login into local storage if required
                if (_this.keepLoginData) {
                    _this.saveLogin();
                }
                // Get the current profile's subscriptions
                // @MOD (2018-03-19) check if the rules allow for subscriptions
                if (_this.globals.rules.subscriptions)
                    _this.subscriptionsService.getProfileSubscriptions();
            }
        });
        /* Subscribe to error messages coming from the login service */
        this.loginService.errorMsg.subscribe(function (value) {
            //this.errorMsg = value.message; // TEMPLATE
            _this.errorMsg = value.error.description; // TVCABLE
            // Check if the number of sessions has already been used up
            //if (value.status === 428) { // TEMPLATE
            if (value.status === 428) { // TVCABLE
                // Get the short lived auth token
                _this.globals.tempAuthToken = value.error.auth_token;
                _this.globals.accountToken = value.error.account_token;
                _this.globals.currUsername = _this.email;
                _this.globals.currPassword = _this.password;
                // Hide the login modal first
                _this.isVisible = false;
                __WEBPACK_IMPORTED_MODULE_7_sweetalert2___default()({
                    title: '<span style="color: #fff;">' + _this.globals.strings.LOGIN_FAILED_REMOVE_DEVICE + '</span>',
                    type: 'error',
                    showCancelButton: true,
                    confirmButtonText: _this.globals.strings.BUTTON_REMOVE,
                    cancelButtonText: _this.globals.strings.BUTTON_CANCEL,
                    background: '#2a292a'
                }).then(function (result) {
                    if (result.value) {
                        _this.router.navigate(['sessions']);
                    }
                });
            }
        });
        /* Subscribe to the profile's subscriptions coming from the subscriptions service */
        this.subscriptionsService.profileSubscriptions.subscribe(function (value) {
            _this.profileSubscriptions = value;
            var hasSubscriptions = false;
            if (_this.profileSubscriptions.hasOwnProperty('subscriptions')) {
                if (_this.profileSubscriptions.subscriptions.length > 0) {
                    hasSubscriptions = true;
                    _this.globals.hasActiveSubscription = true;
                }
            }
            if (!hasSubscriptions) {
                _this.globals.hasActiveSubscription = false;
                __WEBPACK_IMPORTED_MODULE_7_sweetalert2___default()({
                    html: '<span style="color: #fff;">' + _this.globals.strings.PROFILE_NO_ACTIVE_SUBSCRIPTIONS + '</span>',
                    type: 'warning',
                    confirmButtonText: _this.globals.strings.BTN_SUBSCRIBE,
                    background: '#2a292a'
                }).then(function (result) {
                    if (result.value) {
                        _this.router.navigate(['subscribe']);
                    }
                });
            }
        });
    }
    LoginComponent.prototype.ngOnInit = function () {
    };
    LoginComponent.prototype.ngAfterViewInit = function () {
        $('.selectpicker').selectpicker();
    };
    LoginComponent.prototype.showPopup = function () {
        this.isVisible = true;
        this.errorMsg = null;
    };
    LoginComponent.prototype.toggleEye = function () {
        this.showPassword = !this.showPassword;
    };
    /**
     * Regular login using user email and password
     */
    LoginComponent.prototype.login = function () {
        // Remember to clear the temporary token upon login...
        this.globals.tempAuthToken = null;
        // Clear error message div
        this.errorMsg = null;
        this.loginService.login(this.email, this.password);
    };
    /**
     * Provider login using the ID number of the user
     */
    LoginComponent.prototype.providerLogin = function () {
        // Remember to clear the temporary token upon login...
        this.globals.tempAuthToken = null;
        // Clear error message div
        this.errorMsg = null;
        // this.loginService.provider_login("tvcable",this.globals.endpoints.socialLogin,this.email,this.password,null,null);
        this.loginService.provider_login("tvacms", this.globals.endpoints.login, this.email, this.password, null, null);
    };
    /**
     Save login data (account token)
     */
    LoginComponent.prototype.saveLogin = function () {
        if (this.globals.accountToken !== null) {
            localStorage.setItem(this.globals.localStorageKeyPrefix + 'ACCTKN', this.globals.accountToken);
        }
    };
    LoginComponent.prototype.facebookLogin = function () {
        /*    this.fb.login()
              .then((response: LoginResponse) => {
                console.log('Logged in to facebook', response);
                // TODO: call api with facebook's token (/account/social_login)
                // Note: disregard email, password and token_secret (the latter only being used with twitter)
              })
              .catch(e => console.error('Error logging in'));*/
    };
    /*
     Log/Signout functionality to be implemented in a different place... (in profiles drawer)
     */
    LoginComponent.prototype.forgotPassword = function () {
        //window.location.href='https://www.mitvcable.com/recuperar';
        window.open('https://www.mitvcable.com/recuperar', '_blank');
    };
    LoginComponent.prototype.registerNewUser = function () {
        //window.location.href='https://www.mitvcable.com/registro';
        window.open('https://www.mitvcable.com/registro', '_blank');
    };
    LoginComponent.prototype.showRegister = function () {
        this.register.show.next(true);
    };
    LoginComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["n" /* Component */])({
            selector: 'app-login',
            template: __webpack_require__("./src/app/login/login.component.html"),
            // make fade in animation available to this component
            animations: [__WEBPACK_IMPORTED_MODULE_5__animations_index__["a" /* fadeInAnimation */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_3__angular_common_http__["a" /* HttpClient */],
            __WEBPACK_IMPORTED_MODULE_1__globals_service__["a" /* GlobalsService */],
            __WEBPACK_IMPORTED_MODULE_6__login_service__["a" /* LoginService */],
            __WEBPACK_IMPORTED_MODULE_2__login_popup_service__["a" /* LoginPopupService */],
            __WEBPACK_IMPORTED_MODULE_8__angular_router__["f" /* Router */],
            __WEBPACK_IMPORTED_MODULE_9__subscriptions_subscriptions_service__["a" /* SubscriptionsService */],
            __WEBPACK_IMPORTED_MODULE_10__register_register_popup_service__["a" /* RegisterPopupService */],
            __WEBPACK_IMPORTED_MODULE_4__app_sessions_sessions_service__["a" /* SessionsService */]])
    ], LoginComponent);
    return LoginComponent;
}());



/***/ }),

/***/ "./src/app/login/login.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LoginModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common__ = __webpack_require__("./node_modules/@angular/common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__login_component__ = __webpack_require__("./src/app/login/login.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__login_service__ = __webpack_require__("./src/app/login/login.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__subscriptions_subscriptions_service__ = __webpack_require__("./src/app/subscriptions/subscriptions.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};





/*import { FacebookService } from 'ngx-facebook';*/


var LoginModule = /** @class */ (function () {
    function LoginModule() {
    }
    LoginModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["I" /* NgModule */])({
            imports: [
                __WEBPACK_IMPORTED_MODULE_1__angular_common__["b" /* CommonModule */],
                __WEBPACK_IMPORTED_MODULE_4__angular_router__["g" /* RouterModule */],
                __WEBPACK_IMPORTED_MODULE_6__angular_forms__["a" /* FormsModule */]
            ],
            declarations: [
                __WEBPACK_IMPORTED_MODULE_2__login_component__["a" /* LoginComponent */]
            ],
            exports: [
                __WEBPACK_IMPORTED_MODULE_2__login_component__["a" /* LoginComponent */]
            ],
            providers: [
                __WEBPACK_IMPORTED_MODULE_3__login_service__["a" /* LoginService */],
                /*FacebookService,*/
                __WEBPACK_IMPORTED_MODULE_5__subscriptions_subscriptions_service__["a" /* SubscriptionsService */]
            ]
        })
    ], LoginModule);
    return LoginModule;
}());



/***/ }),

/***/ "./src/app/login/login.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LoginService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__globals_service__ = __webpack_require__("./src/app/globals.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_add_operator_catch__ = __webpack_require__("./node_modules/rxjs/_esm5/add/operator/catch.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_add_operator_map__ = __webpack_require__("./node_modules/rxjs/_esm5/add/operator/map.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_Subject__ = __webpack_require__("./node_modules/rxjs/_esm5/Subject.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__angular_common_http__ = __webpack_require__("./node_modules/@angular/common/esm5/http.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var LoginService = /** @class */ (function () {
    function LoginService(http, globals) {
        this.http = http;
        this.globals = globals;
        this.finishedLogin = new __WEBPACK_IMPORTED_MODULE_4_rxjs_Subject__["b" /* Subject */]();
        this.finishedLogout = new __WEBPACK_IMPORTED_MODULE_4_rxjs_Subject__["b" /* Subject */]();
        this.errorMsg = new __WEBPACK_IMPORTED_MODULE_4_rxjs_Subject__["b" /* Subject */]();
        // Initialize Subjects to default values
        this.finishedLogin.next(false);
        this.errorMsg.next(null);
    }
    /**
     * Login using providers
     * @Notes: first stage only tvcable, with regular username/password login
     *
     * @param {string} grant_type - type of social login (twitter_token/facebook_token/tvcable)
     * @param {string} auth_endpoint
     * @param {string} username
     * @param {string} password
     * @param {string} social_token
     * @param {string} token_secret - secret token need twitter login
     */
    LoginService.prototype.provider_login = function (grant_type, auth_endpoint, username, password, social_token, token_secret) {
        var _this = this;
        // check if a DUID is already in local storage. If not generate a new one and store it.
        var duid = localStorage.getItem(this.globals.localStorageKeyPrefix + 'DUID');
        if (duid === '' || duid === null) {
            duid = this.generateDUID();
            localStorage.setItem(this.globals.localStorageKeyPrefix + 'DUID', duid);
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_5__angular_common_http__["c" /* HttpHeaders */]()
            .set('Accept-Language', this.globals.settings.default_language);
        var body = {
            email: username,
            password: password,
            grant_type: grant_type,
            social_token: social_token,
            token_secret: token_secret,
            username: username,
            device_type: 'web',
            duid: duid
        };
        this.http.post(auth_endpoint, body, { headers: headers })
            .toPromise()
            .then(function (res) {
            _this.globals.userLoggedIn = true;
            _this.globals.accountToken = res.account_token;
            _this.globals.authToken = res.auth_token;
            _this.globals.authTokenExpiration = res.auth_expires;
            _this.errorMsg = null;
            // Store the auth_token in local storage for future use (i.e. recover session after refresh or
            // auto-login between sessions)
            localStorage.setItem(_this.globals.localStorageKeyPrefix + 'AUTHTOKEN', res.auth_token);
            // Also store the account token (needed by a number of API calls)
            localStorage.setItem(_this.globals.localStorageKeyPrefix + 'ACCTOKEN', res.account_token);
            // Step 2: Get the profiles
            var headers = new __WEBPACK_IMPORTED_MODULE_5__angular_common_http__["c" /* HttpHeaders */]()
                .set('Accept-Language', _this.globals.settings.default_language)
                .set('Authorization', 'bearer ' + _this.globals.authToken);
            var params = new __WEBPACK_IMPORTED_MODULE_5__angular_common_http__["d" /* HttpParams */]()
                .set('account_token', _this.globals.accountToken)
                .set('device_type', 'web');
            var endpoint = _this.globals.endpoints.profiles.replace('{account_token}', _this.globals.accountToken);
            _this.http.get(endpoint, { headers: headers, params: params })
                .toPromise()
                .then(function (res) {
                _this.globals.userProfiles = res.data;
                // Check if the user has already chosen a profile
                var currProfileToken = localStorage.getItem(_this.globals.localStorageKeyPrefix + 'CURRPROF');
                if (currProfileToken !== '' && currProfileToken !== null) {
                    // Go through the profiles list and get the current one's token
                    var found_1 = false;
                    _this.globals.userProfiles.forEach(function (element) {
                        if (element.token === currProfileToken) {
                            found_1 = true;
                            _this.globals.accountProfileToken = currProfileToken;
                            // Step 3: With the profile token get the user's details
                            _this.getProfile(currProfileToken);
                        }
                    });
                    // No match was found for the profile token in local storage; default to first
                    if (!found_1) {
                        currProfileToken = _this.globals.userProfiles[0].token;
                        _this.globals.accountProfileToken = currProfileToken;
                        // Store the 1st one as the current profile
                        localStorage.setItem(_this.globals.localStorageKeyPrefix + 'CURRPROF', currProfileToken);
                        // Step 3: With the profile token get the user's details
                        _this.getProfile(currProfileToken);
                    }
                }
                else {
                    currProfileToken = _this.globals.userProfiles[0].token;
                    _this.globals.accountProfileToken = currProfileToken;
                    // Store the 1st one as the current profile
                    localStorage.setItem(_this.globals.localStorageKeyPrefix + 'CURRPROF', currProfileToken);
                    // Step 3: With the profile token get the user's details
                    _this.getProfile(currProfileToken);
                }
                // Emit finished login to close the login modal and perform other tasks
                _this.finishedLogin.next(true);
            })
                .catch(function (error) {
                console.error(error);
            });
        })
            .catch(function (result) {
            console.error(result);
            _this.errorMsg.next(result);
        });
    };
    /**
     * Regular login using email and password
     */
    LoginService.prototype.login = function (email, password) {
        var _this = this;
        // check if a DUID is already in local storage. If not generate a new one and store it.
        var duid = localStorage.getItem(this.globals.localStorageKeyPrefix + 'DUID');
        if (duid === '' || duid === null) {
            duid = this.generateDUID();
            localStorage.setItem(this.globals.localStorageKeyPrefix + 'DUID', duid);
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_5__angular_common_http__["c" /* HttpHeaders */]()
            .set('Accept-Language', this.globals.settings.default_language);
        var params = {
            device_type: 'web',
            username: email,
            email: email,
            password: password,
            duid: duid
        };
        // Login the user and get his/her profiles
        // Damn this is thick ... 3 calls until we get the user's details ...
        // Step 1: Login
        this.http.post(this.globals.endpoints.login, params, { headers: headers })
            .toPromise()
            .then(function (res) {
            //console.log(res);
            _this.globals.userLoggedIn = true;
            _this.globals.accountToken = res.account_token;
            _this.globals.authToken = res.auth_token;
            _this.globals.authTokenExpiration = res.auth_expires;
            _this.errorMsg = null;
            // Store the auth_token in local storage for future use (i.e. recover session after refresh or
            // auto-login between sessions)
            localStorage.setItem(_this.globals.localStorageKeyPrefix + 'AUTHTOKEN', res.auth_token);
            // Also store the account token (needed by a number of API calls)
            localStorage.setItem(_this.globals.localStorageKeyPrefix + 'ACCTOKEN', res.account_token);
            // Step 2: Get the profiles
            var headers = new __WEBPACK_IMPORTED_MODULE_5__angular_common_http__["c" /* HttpHeaders */]()
                .set('Accept-Language', _this.globals.settings.default_language)
                .set('Authorization', 'bearer ' + _this.globals.authToken);
            var params = new __WEBPACK_IMPORTED_MODULE_5__angular_common_http__["d" /* HttpParams */]()
                .set('account_token', _this.globals.accountToken)
                .set('device_type', 'web');
            var endpoint = _this.globals.endpoints.profiles.replace('{account_token}', _this.globals.accountToken);
            _this.http.get(endpoint, { headers: headers, params: params })
                .toPromise()
                .then(function (res) {
                _this.globals.userProfiles = res.data;
                // Check if the user has already chosen a profile
                var currProfileToken = localStorage.getItem(_this.globals.localStorageKeyPrefix + 'CURRPROF');
                if (currProfileToken !== '' && currProfileToken !== null) {
                    // Go through the profiles list and get the current one's token
                    var found_2 = false;
                    _this.globals.userProfiles.forEach(function (element) {
                        if (element.token === currProfileToken) {
                            found_2 = true;
                            _this.globals.accountProfileToken = currProfileToken;
                            // Step 3: With the profile token get the user's details
                            _this.getProfile(currProfileToken);
                        }
                    });
                    // No match was found for the profile token in local storage; default to first
                    if (!found_2) {
                        currProfileToken = _this.globals.userProfiles[0].token;
                        _this.globals.accountProfileToken = currProfileToken;
                        // Store the 1st one as the current profile
                        localStorage.setItem(_this.globals.localStorageKeyPrefix + 'CURRPROF', currProfileToken);
                        // Step 3: With the profile token get the user's details
                        _this.getProfile(currProfileToken);
                    }
                }
                else {
                    currProfileToken = _this.globals.userProfiles[0].token;
                    _this.globals.accountProfileToken = currProfileToken;
                    // Store the 1st one as the current profile
                    localStorage.setItem(_this.globals.localStorageKeyPrefix + 'CURRPROF', currProfileToken);
                    // Step 3: With the profile token get the user's details
                    _this.getProfile(currProfileToken);
                }
                // Emit finished login to close the login modal and perform other tasks
                _this.finishedLogin.next(true);
            })
                .catch(function (error) {
                console.error(error);
            });
        })
            .catch(function (result) {
            console.error(result.message);
            _this.errorMsg.next(result);
        });
    };
    /**
     * Logout a user.
     * This also serves for terminating a session on a different device (by using its Authorization token )
     * @Notes: account token is already in the path. (see globals.service.ts)
     */
    LoginService.prototype.logout = function () {
        var _this = this;
        var headers = new __WEBPACK_IMPORTED_MODULE_5__angular_common_http__["c" /* HttpHeaders */]()
            .set('Authorization', 'Bearer ' + this.globals.authToken);
        var params = new __WEBPACK_IMPORTED_MODULE_5__angular_common_http__["d" /* HttpParams */]()
            .set('device_type', 'web');
        this.http.delete(this.globals.endpoints.logout, { headers: headers, params: params })
            .toPromise()
            .then(function (res) {
            _this.finishedLogout.next(true);
            _this.globals.currAvatar = _this.globals.defaultAvatar;
            localStorage.removeItem(_this.globals.localStorageKeyPrefix + 'CURRPROF');
            localStorage.removeItem(_this.globals.localStorageKeyPrefix + 'AUTHTOKEN');
            localStorage.removeItem(_this.globals.localStorageKeyPrefix + 'ACCTOKEN');
            _this.globals.currAvatar = 'assets/ic-default-avatar.png'; // default avatar
            _this.globals.defaultAvatar = 'assets/ic-default-avatar.png';
        })
            .catch(function (error) {
            console.error(error);
        });
    };
    /**
     * Get a profile's details
     * @param {string} token
     * @returns {boolean}
     */
    LoginService.prototype.getProfile = function (token) {
        var _this = this;
        var success = false;
        var headers = new __WEBPACK_IMPORTED_MODULE_5__angular_common_http__["c" /* HttpHeaders */]()
            .set('Authorization', 'bearer ' + this.globals.authToken);
        var params = new __WEBPACK_IMPORTED_MODULE_5__angular_common_http__["d" /* HttpParams */]()
            .set('device_type', 'web');
        this.http.get(this.globals.endpoints.profile + token, { headers: headers, params: params })
            .toPromise()
            .then(function (res) {
            _this.globals.currProfile = res.data;
            // Instantly update the user's current avatar on screen
            if (_this.globals.currProfile.profile_picture.url !== '')
                _this.globals.currAvatar = _this.globals.currProfile.profile_picture.url;
            success = true;
        })
            .catch(function (error) {
            console.error(error);
        });
        return success;
    };
    /**
     * Generate Device Unique Id
     * @returns {string} - '00000000-0000-0000-0000-000000000000'
     */
    LoginService.prototype.generateDUID = function () {
        function _p8(s) {
            var p = (Math.random().toString(16) + "000000000").substr(2, 8);
            return s ? "-" + p.substr(0, 4) + "-" + p.substr(4, 4) : p;
        }
        return _p8(false) + _p8(true) + _p8(true) + _p8(false);
    };
    LoginService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["A" /* Injectable */])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_5__angular_common_http__["a" /* HttpClient */],
            __WEBPACK_IMPORTED_MODULE_1__globals_service__["a" /* GlobalsService */]])
    ], LoginService);
    return LoginService;
}());



/***/ }),

/***/ "./src/app/menu-item/menu-item.component.html":
/***/ (function(module, exports) {

module.exports = "<app-screen *ngIf=\"data?.menu_option.option_type=='screen'\" [data]=\"data\"></app-screen>\r\n\r\n<app-guide *ngIf=\"data?.menu_option.option_type=='epg'\"></app-guide>\r\n\r\n<app-settings *ngIf=\"data?.menu_option.option_type=='custom' && data?.menu_option.custom_value=='settings'\"></app-settings>\r\n\r\n<app-live-tv-preview *ngIf=\"data?.menu_option.option_type=='liveTV'\"></app-live-tv-preview>\r\n\r\n\r\n<div *ngIf=\"globals.userLoggedIn && data?.menu_option.option_type=='my_stuff' && data?.menu_option.name==globals.strings.CONTENT_GROUP_BTN_FAVOURITES\">\r\n    <h1>FAVOURITES CUSTOM MENU TYPE</h1>\r\n</div>\r\n\r\n\r\n<!-- <app-live-tv-preview *ngIf=\"data?.menu_option.option_type=='livetv ' && data?.menu_option.custom_value=='preview '\"></app-live-tv-preview> -->"

/***/ }),

/***/ "./src/app/menu-item/menu-item.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MenuItemComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__menu_item_service__ = __webpack_require__("./src/app/menu-item/menu-item.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__globals_service__ = __webpack_require__("./src/app/globals.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var MenuItemComponent = /** @class */ (function () {
    function MenuItemComponent(service, route, globals) {
        var _this = this;
        this.service = service;
        this.route = route;
        this.globals = globals;
        // Ensure that menuitems data automatically updates
        this.service.menuItem.subscribe(function (value) {
            _this.data = value;
            _this.getMenuItem();
        });
        // Update menuItem
        this.route.params.subscribe(function (params) {
            try {
                _this.service.getMenuItemById(_this.route.snapshot.params['id'] || _this.globals.menu[0].id);
            }
            catch (_a) { }
        });
    }
    MenuItemComponent.prototype.ngOnInit = function () { };
    MenuItemComponent.prototype.getMenuItem = function () {
        var menuItem = this.data;
        this.globals.pageTitle = this.data.menu_option.name;
        this.globals.pageTitleSlug = this.data.menu_option.slug;
        if (this.data.menu_option.option_type == 'screen') {
            for (var i in menuItem.screen.blocks) {
                menuItem.screen.blocks[i].selected = menuItem.screen.blocks[i].block_type != 'tab' && menuItem.screen.blocks[i].block_type != 'combobox';
            }
            this.data = menuItem;
        }
    };
    MenuItemComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["n" /* Component */])({
            selector: 'app-menu-item',
            template: __webpack_require__("./src/app/menu-item/menu-item.component.html")
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__menu_item_service__["a" /* MenuItemService */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_3__globals_service__["a" /* GlobalsService */]])
    ], MenuItemComponent);
    return MenuItemComponent;
}());



/***/ }),

/***/ "./src/app/menu-item/menu-item.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MenuItemModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common__ = __webpack_require__("./node_modules/@angular/common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__menu_item_component__ = __webpack_require__("./src/app/menu-item/menu-item.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__menu_item_service__ = __webpack_require__("./src/app/menu-item/menu-item.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__menu_item_resolve__ = __webpack_require__("./src/app/menu-item/menu-item.resolve.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__carousel_carousel_module__ = __webpack_require__("./src/app/carousel/carousel.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__listing_listing_module__ = __webpack_require__("./src/app/listing/listing.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__guide_guide_module__ = __webpack_require__("./src/app/guide/guide.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__screen_screen_module__ = __webpack_require__("./src/app/screen/screen.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__settings_settings_module__ = __webpack_require__("./src/app/settings/settings.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__live_tv_preview_live_tv_preview_module__ = __webpack_require__("./src/app/live-tv-preview/live-tv-preview.module.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};











var MenuItemModule = /** @class */ (function () {
    function MenuItemModule() {
    }
    MenuItemModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["I" /* NgModule */])({
            imports: [
                __WEBPACK_IMPORTED_MODULE_1__angular_common__["b" /* CommonModule */],
                __WEBPACK_IMPORTED_MODULE_5__carousel_carousel_module__["a" /* CarouselModule */],
                __WEBPACK_IMPORTED_MODULE_6__listing_listing_module__["a" /* ListingModule */],
                __WEBPACK_IMPORTED_MODULE_7__guide_guide_module__["a" /* GuideModule */],
                __WEBPACK_IMPORTED_MODULE_8__screen_screen_module__["a" /* ScreenModule */],
                __WEBPACK_IMPORTED_MODULE_9__settings_settings_module__["a" /* SettingsModule */],
                __WEBPACK_IMPORTED_MODULE_10__live_tv_preview_live_tv_preview_module__["a" /* LiveTvPreviewModule */]
            ],
            declarations: [
                __WEBPACK_IMPORTED_MODULE_2__menu_item_component__["a" /* MenuItemComponent */]
            ],
            exports: [
                __WEBPACK_IMPORTED_MODULE_2__menu_item_component__["a" /* MenuItemComponent */]
            ],
            providers: [
                __WEBPACK_IMPORTED_MODULE_3__menu_item_service__["a" /* MenuItemService */],
                __WEBPACK_IMPORTED_MODULE_4__menu_item_resolve__["a" /* MenuItemResolve */]
            ]
        })
    ], MenuItemModule);
    return MenuItemModule;
}());



/***/ }),

/***/ "./src/app/menu-item/menu-item.resolve.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MenuItemResolve; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__menu_item_service__ = __webpack_require__("./src/app/menu-item/menu-item.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var MenuItemResolve = /** @class */ (function () {
    function MenuItemResolve(service) {
        this.service = service;
    }
    MenuItemResolve.prototype.resolve = function (route) {
        return this.service.getMenuItemById(route.params['id']);
    };
    MenuItemResolve = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["A" /* Injectable */])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__menu_item_service__["a" /* MenuItemService */]])
    ], MenuItemResolve);
    return MenuItemResolve;
}());



/***/ }),

/***/ "./src/app/menu-item/menu-item.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MenuItemService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__globals_service__ = __webpack_require__("./src/app/globals.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_common_http__ = __webpack_require__("./node_modules/@angular/common/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_Subject__ = __webpack_require__("./node_modules/rxjs/_esm5/Subject.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


//import 'rxjs/add/operator/catch';
//import 'rxjs/add/operator/map';


var MenuItemService = /** @class */ (function () {
    function MenuItemService(http, globals) {
        this.http = http;
        this.globals = globals;
        this.menuItem = new __WEBPACK_IMPORTED_MODULE_3_rxjs_Subject__["b" /* Subject */]();
    }
    MenuItemService.prototype.getMenuItemById = function (optionId) {
        var _this = this;
        //API path
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_common_http__["c" /* HttpHeaders */]()
            .set('Accept-Language', this.globals.settings.default_language);
        //API query
        var params = new __WEBPACK_IMPORTED_MODULE_2__angular_common_http__["d" /* HttpParams */]()
            .set('device_type', 'web')
            .set('device_layout', 'web');
        //API path
        var endpoint = this.globals.endpoints.menuOption
            .replace('{menu_id}', this.globals.menuId)
            .replace('{option_id}', optionId);
        return this.http.get(endpoint, { headers: headers, params: params })
            .toPromise()
            .then(function (res) {
            _this.menuItem.next(res.data);
        })
            .catch(function (error) {
            console.error(error);
        });
    };
    MenuItemService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["A" /* Injectable */])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__angular_common_http__["a" /* HttpClient */],
            __WEBPACK_IMPORTED_MODULE_1__globals_service__["a" /* GlobalsService */]])
    ], MenuItemService);
    return MenuItemService;
}());



/***/ }),

/***/ "./src/app/menu/menu.component.html":
/***/ (function(module, exports) {

module.exports = "<!-- MOBILE DESIGN -->\r\n<div id=\"responsive-header\" [class.open]=\"menuOpen\">\r\n  <p>{{globals.pageTitle}}</p>\r\n</div>\r\n<!-- DESKTOP VERSION TEMPLATE -->\r\n<div *ngIf=\"!menuCustom\" id=\"header\">\r\n  <div id=\"menu-container\">\r\n\r\n    <div id=\"menu\" [class.open]=\"menuOpen\">\r\n\r\n      <a routerLink=\"\" class=\"logo-big\"><img src=\"{{globals.settings.logo_image.url}}\"></a>\r\n\r\n      <div id=\"hamburger-icon\" (click)=\"toggleMenu()\">\r\n        <div id=\"nav-icon3\">\r\n          <span></span>\r\n          <span></span>\r\n          <span></span>\r\n          <span></span>\r\n        </div>\r\n      </div>\r\n\r\n      <nav>\r\n        <ul>\r\n          <li *ngFor=\"let el of data\" [class.selected]=\"isFocused(el.name)\">\r\n            <a routerLink=\"/{{el.slug}}\" (click)=\"toggleMenu()\"><img src=\"{{el.image.url}}\" *ngIf=\"el.image.url\">{{el.name}}</a>\r\n          </li>\r\n        </ul>\r\n      </nav>\r\n\r\n      <a routerLink=\"\" class=\"logo-small\"><img src=\"assets/logo.png\"></a>\r\n\r\n      <div class=\"user-area\">\r\n        <a id=\"user-avatar\"><img src=\"{{globals.currAvatar}}\"></a>\r\n        <!-- Show login and register buttons if user not logged in -->\r\n        <a *ngIf=\"!globals.userLoggedIn\" id=\"loginBtn\" (click)=\"showLogin()\">{{globals.strings.LOGIN_SCREEN_LOGIN}}</a>\r\n        <a *ngIf=\"!globals.userLoggedIn\" id=\"registerBtn\" (click)=\"showRegister()\">{{globals.strings.SETTINGS_SCREEN_REGISTER}}</a>\r\n        <!-- Show user name and email if user logged in and profile info successfully retrieved -->\r\n        <div id=\"userDetails\" *ngIf=\"globals.accountProfileToken!==null\" (click)=\"toggleProfilesDrawer()\">\r\n          <span id=\"userName\">{{globals.currProfile?.name}}</span>\r\n          <span id=\"userEmail\">\r\n            {{globals.currProfile?.email}}<li *ngIf=\"globals.userProfiles?.length > 1\" id=\"profilesCaret\" class=\"fa fa-caret-down\" aria-hidden=\"true\" #profilesCaret></li>\r\n          </span>\r\n\r\n          <profile-drawer></profile-drawer>\r\n\r\n\r\n        </div>\r\n\r\n        <div class=\"searchTools\">\r\n          <form (ngSubmit)=\"search()\">\r\n            <a><span class=\"fa fa-search\"></span></a>\r\n            <input type=\"text\" [(ngModel)]=\"searchTerm\" name=\"searchTerm\">\r\n          </form>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"social-login social\">\r\n        <a id=\"facebookLogin\" class=\"fa fa-facebook\"></a>\r\n        <a id=\"twitterLogin\" class=\"fa fa-twitter\"></a>\r\n        <a id=\"instagramLogin\" class=\"fa fa-instagram\"></a>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<div id=\"cover-content\" *ngIf=\"menuOpen\" (click)=\"toggleMenu()\"></div>\r\n\r\n\r\n\r\n<!-- CUSTOMER SPECIFIC MENU AREA -->\r\n<div  *ngIf=\"menuCustom\" id=\"header-custom\">\r\n  <div id=\"menu-container-custom\">\r\n    <div id=\"menu-custom\" [class.open]=\"menuOpen\">\r\n\r\n\r\n      <!-- menu left area for logo -->\r\n      <div id=\"logo-area-custom\">\r\n        <a routerLink=\"\"><img class=\"img-responsive\" src=\"{{globals.settings.logo_image.url}}\"></a>\r\n      </div>\r\n\r\n\r\n      <!-- For low resolution screens < 768px -->\r\n      <div id=\"hamburger-icon\">\r\n        <a id=\"user-avatar\" (click)=\"showLogin()\"><img [src]=\"this.globals.currAvatar\" (error)=\"avatarImage=globals.API.slice(0,-4)+'uploads/placeholder/placeholder.png'\"></a>\r\n        <div id=\"nav-icon3\"  (click)=\"toggleMenu()\">\r\n          <span></span>\r\n          <span></span>\r\n          <span></span>\r\n          <span></span>\r\n        </div>\r\n      </div>\r\n      <div [style.height]=\"winHeight\" class=\"lowResMenu\" [class.openlowResMenu]=\"menuOpen\">\r\n          <table class=\"lowResMenAvaTbl\">\r\n            <tr>\r\n              <td><a id=\"user-avatar\" (click)=\"showLogin()\"><img [src]=\"this.globals.currAvatar\" (error)=\"avatarImage=globals.API.slice(0,-4)+'uploads/placeholder/placeholder.png'\"></a></td>\r\n              <td>\r\n                <!-- Show user name and email if user logged in and profile info successfully retrieved -->\r\n                <div id=\"userDetails\" *ngIf=\"globals.accountProfileToken!==null\" (click)=\"toggleProfilesDrawer()\">\r\n                  <span id=\"userName\">{{globals.currProfile?.name}}</span><br>\r\n                  <span id=\"userEmail\">\r\n                    {{globals.currProfile?.email}}<li *ngIf=\"globals.userProfiles?.length > 1 && globals.rules.multipleProfiles\" id=\"profilesCaret\" class=\"fa fa-caret-down\" aria-hidden=\"true\" #profilesCaret></li>\r\n                  </span>\r\n                  <profile-drawer></profile-drawer>\r\n                </div>\r\n              </td>\r\n            </tr>\r\n          </table>\r\n        <ng-container *ngFor=\"let el of data\">\r\n          <li *ngIf=\"el.name!=globals.strings.CONTENT_GROUP_BTN_FAVOURITES || globals.userLoggedIn\" [class.selected]=\"isFocused(el.name)\">\r\n            <div class=\"routeItm\" (click)=\"actionMenu(el.slug)\"><img src=\"{{el.image.url}}\" *ngIf=\"el.image.url\">{{el.name}}</div>\r\n          </li>\r\n        </ng-container>\r\n        <div class=\"searchTools\">\r\n            <form (ngSubmit)=\"search()\">\r\n                <a><span class=\"fa fa-search\" (click)=\"search()\"></span></a>\r\n                <input type=\"text\" [(ngModel)]=\"searchTerm\" name=\"searchTerm\">\r\n            </form>\r\n        </div>\r\n        <div class=\"social\">\r\n            <a *ngIf=\"globals.rules.socialMediaFB\" id=\"facebookLogin\" class=\"fa fa-facebook\"></a>&nbsp;\r\n            <a *ngIf=\"globals.rules.socialMediaTwitter\" id=\"twitterLogin\" class=\"fa fa-twitter\"></a>&nbsp;\r\n            <a *ngIf=\"globals.rules.socialMediaInstagram\" id=\"instagramLogin\" class=\"fa fa-instagram\"></a>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- For higher resolution screens >= 768px -->\r\n\r\n      <nav *ngIf=\"winWidth>=768\">\r\n        <ul>\r\n          <ng-container *ngFor=\"let el of data\">\r\n            <li *ngIf=\"el.name!=globals.strings.CONTENT_GROUP_BTN_FAVOURITES || globals.userLoggedIn\" [class.selected]=\"isFocused(el.name)\">\r\n              <div class=\"routeItm\" (click)=\"actionMenu(el.slug)\"><img src=\"{{el.image.url}}\" *ngIf=\"el.image.url\">{{el.name}}</div>\r\n            </li>\r\n          </ng-container>\r\n        </ul>\r\n      </nav>\r\n\r\n<!--\r\n      <table [style.width]=\"'100%'\" class=\"menuTbl\">\r\n      <td></td>\r\n      <td><app-carousel *ngIf=\"winWidth>=768\" [data]=\"menuList\" [isSeasons]=\"false\"></app-carousel></td> <!-- removed [typeCarousel]=\"seasonstypeCarousel\" (parentCallback)=\"detailsCallback($event[0],$event[1])\"\r\n      </table>\r\n-->\r\n\r\n      <div *ngIf=\"winWidth >= 768\" class=\"user-area-custom\">\r\n        <table class=\"TopRightLoginTbl\">\r\n          <tr>\r\n            <td>\r\n            </td>\r\n            <td>\r\n              <a id=\"user-avatar\"><img [src]=\"this.globals.currAvatar\" (error)=\"avatarImage=globals.API.slice(0,-4)+'uploads/placeholder/placeholder.png'\"></a>\r\n              <!-- Show login and register buttons if user not logged in -->\r\n              <a *ngIf=\"!globals.userLoggedIn\" id=\"loginBtn\" (click)=\"showLogin()\">{{globals.strings.LOGIN_SCREEN_LOGIN}}</a>\r\n              <!-- Show user name and email if user logged in and profile info successfully retrieved -->\r\n              <div id=\"userDetails\" *ngIf=\"globals.accountProfileToken!==null\" (click)=\"toggleProfilesDrawer()\">\r\n                <span id=\"userName\">{{globals.currProfile?.name}}</span>\r\n                <span id=\"userEmail\">\r\n                  {{globals.currProfile?.email}}<li *ngIf=\"globals.userProfiles?.length > 1 && globals.rules.multipleProfiles\" id=\"profilesCaret\" class=\"fa fa-caret-down\" aria-hidden=\"true\" #profilesCaret></li>\r\n                </span>\r\n                <profile-drawer></profile-drawer>\r\n              </div>\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td>\r\n              <div class=\"social\">\r\n                <a *ngIf=\"globals.rules.socialMediaFB\" id=\"facebookLogin\" class=\"fa fa-facebook\"></a>&nbsp;\r\n                <a *ngIf=\"globals.rules.socialMediaTwitter\" id=\"twitterLogin\" class=\"fa fa-twitter\"></a>&nbsp;\r\n                <a *ngIf=\"globals.rules.socialMediaInstagram\" id=\"instagramLogin\" class=\"fa fa-instagram\"></a>\r\n              </div>\r\n            </td>\r\n            <td>\r\n              <div class=\"searchTools\">\r\n                <form (ngSubmit)=\"search()\">\r\n                  <a><span class=\"fa fa-search\" (click)=\"search()\"></span></a>\r\n                  <input type=\"text\" [(ngModel)]=\"searchTerm\" name=\"searchTerm\">\r\n                </form>\r\n              </div>\r\n            </td>\r\n          </tr>\r\n        </table>\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/menu/menu.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MenuComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__menu_service__ = __webpack_require__("./src/app/menu/menu.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__globals_service__ = __webpack_require__("./src/app/globals.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__login_login_popup_service__ = __webpack_require__("./src/app/login/login-popup.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__profile_drawer_profile_drawer_service__ = __webpack_require__("./src/app/profile-drawer/profile-drawer.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__loading_loading_service__ = __webpack_require__("./src/app/loading/loading.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var MenuComponent = /** @class */ (function () {
    function MenuComponent(globals, login, router, route, profileDrawerService, menuService, loading) {
        var _this = this;
        this.globals = globals;
        this.login = login;
        this.router = router;
        this.route = route;
        this.profileDrawerService = profileDrawerService;
        this.menuService = menuService;
        this.loading = loading;
        this.menuList = {}; // menuList constructed for the Carousel Component
        this.menuOpen = false; // Defines if the menu drawer is open
        this.menuCustom = true; // If true the css will be specific for a customer (see _menu.scss)
        // Ensure that menu data automatically updates, thus making the view "dirty" and refresh :P
        this.menuSubscriber = this.menuService.data.subscribe(function (value) {
            _this.data = value;
            _this.expandMenuListContent(); // To initialize the carousel menu
        });
    }
    MenuComponent.prototype.onResize = function () {
        // guard against resize before view is rendered
        this.winWidth = window.innerWidth;
        this.winHeight = (window.innerHeight - 110) + 'px';
    };
    MenuComponent.prototype.ngOnInit = function () {
        // Get the default menu, thus filling 'data'
        this.menuService.getDefaultMenu();
        this.winWidth = window.innerWidth;
        this.winHeight = (window.innerHeight - 110) + 'px';
        this.avatarImgUrl = this.globals.currAvatar;
    };
    MenuComponent.prototype.ngOnDestroy = function () {
        // unsubscribe to ensure no memory leaks
        this.menuSubscriber.unsubscribe();
    };
    MenuComponent.prototype.ngAfterViewInit = function () { };
    /**
     * @Notes: refitted the function to have different actions depending on the number
     * of user profiles. If multiple open the drawer else go directly to My Account
     */
    MenuComponent.prototype.toggleProfilesDrawer = function () {
        // Show the profile drawer, indicating that it's still loading the list of profiles
        if (this.globals.userProfiles.length > 1)
            this.profileDrawerService.toggle();
        else
            this.router.navigate(['settings/my-account/edit']);
    };
    MenuComponent.prototype.showLogin = function () {
        if (!this.globals.userLoggedIn)
            this.login.show.next(true);
    };
    /**
     * Opens and closes the menu and removes overflow if menu is open
     */
    MenuComponent.prototype.toggleMenu = function () {
        //First we verify if the hamburger menu is being shown, instead of the top menu.
        //We do this by seeing if the resolution is lower than 768px (tabled width)
        if (this.winWidth < 768) {
            this.menuOpen = !this.menuOpen;
            //If the menu is open, we set the overflow to hidden so it is not possible to scroll the content
            if (this.menuOpen) {
                document.body.style.overflow = 'hidden';
            }
            else {
                document.body.style.overflow = 'auto';
            }
        }
        //Otherwise we just guarantee that the menu is "closed" so that if the
        //user re-sizes the window he won't suddenly have an open menu
        else {
            this.menuOpen = false;
        }
    };
    /**
     *
     */
    MenuComponent.prototype.actionMenu = function (pageSlug) {
        this.toggleMenu();
        if (this.globals.pageTitleSlug != pageSlug) {
            this.globals.pageTitleSlug = pageSlug;
            this.loading.set(true);
            this.router.navigate([pageSlug]);
        }
    };
    /**
     * Verifies if the current page corresponds to the menu item defined in @title
     * @param title
     * @returns {boolean}
     */
    MenuComponent.prototype.isFocused = function (title) {
        return title == this.globals.pageTitle;
    };
    /**
     * Redirects the user to the search results page and clears the search box
     */
    MenuComponent.prototype.search = function () {
        this.toggleMenu();
        this.router.navigate(['search', this.searchTerm])
            .then(function (nav) {
            console.log(nav); // true if navigation is successful
        }, function (err) {
            console.log(err); // when there's an error
        });
    };
    MenuComponent.prototype.expandMenuListContent = function () {
        var _this = this;
        this.menuList["playlist"] = { contents: {} };
        // Each content element will have an extra view element with all that is needed (text, wether selected, callback and parameters )
        // Run over this.data (content) and only include in MenuList those needed:
        this.data.forEach(function (el) {
            if (el.name != _this.globals.strings.CONTENT_GROUP_BTN_FAVOURITES || _this.globals.userLoggedIn) {
                //this.menuList.playlist.push({Rui:'oi'});
                //this.menuList.playlist.contents.push(el);
                //this.menuList.playlist.contents.push({name: el.name, slug: el.slug});
                //this.menuList.playlist.contents["view"];
                //this.menuList.playlist.contents.view.push({type:'text',text:el.name,selected:(el.slug==this.globals.pageTitleSlug?true:false),callback:this.menuCallback.bind(this),param:el.slug});
            }
        });
        this.menuList["layout"] = { columns: 9, move_after_behaviour: 'right',
            assets_format_ratio: 1, image_resize_type: '',
            presentation_order: 'LTR', layout_type: 'noloop',
            animation_transition_speed: 3, pagination_indicator: 'none',
            show_elements_title: '', element_vertical_spacing: 2,
            element_horizontal_spacing: 1, metadata_position: '' };
        this.menuList["id"] = '';
        this.menuList["image"] = { url: '' };
    };
    MenuComponent.prototype.menuCallback = function (userVal, assetId) {
        this.actionMenu(userVal);
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["y" /* HostListener */])('window:resize'),
        __metadata("design:type", Function),
        __metadata("design:paramtypes", []),
        __metadata("design:returntype", void 0)
    ], MenuComponent.prototype, "onResize", null);
    MenuComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["n" /* Component */])({
            selector: 'app-menu',
            template: __webpack_require__("./src/app/menu/menu.component.html")
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__globals_service__["a" /* GlobalsService */],
            __WEBPACK_IMPORTED_MODULE_3__login_login_popup_service__["a" /* LoginPopupService */],
            __WEBPACK_IMPORTED_MODULE_4__angular_router__["f" /* Router */],
            __WEBPACK_IMPORTED_MODULE_4__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_5__profile_drawer_profile_drawer_service__["a" /* ProfileDrawerService */],
            __WEBPACK_IMPORTED_MODULE_1__menu_service__["a" /* MenuService */],
            __WEBPACK_IMPORTED_MODULE_6__loading_loading_service__["a" /* LoadingService */]])
    ], MenuComponent);
    return MenuComponent;
}());



/***/ }),

/***/ "./src/app/menu/menu.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MenuModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common__ = __webpack_require__("./node_modules/@angular/common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__menu_component__ = __webpack_require__("./src/app/menu/menu.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__menu_service__ = __webpack_require__("./src/app/menu/menu.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__profile_drawer_profile_drawer_module__ = __webpack_require__("./src/app/profile-drawer/profile-drawer.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__carousel_carousel_module__ = __webpack_require__("./src/app/carousel/carousel.module.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};








var MenuModule = /** @class */ (function () {
    function MenuModule() {
    }
    MenuModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["I" /* NgModule */])({
            imports: [
                __WEBPACK_IMPORTED_MODULE_1__angular_common__["b" /* CommonModule */],
                __WEBPACK_IMPORTED_MODULE_4__angular_router__["g" /* RouterModule */],
                __WEBPACK_IMPORTED_MODULE_5__angular_forms__["a" /* FormsModule */],
                __WEBPACK_IMPORTED_MODULE_6__profile_drawer_profile_drawer_module__["a" /* ProfileDrawerModule */],
                __WEBPACK_IMPORTED_MODULE_7__carousel_carousel_module__["a" /* CarouselModule */]
            ],
            declarations: [
                __WEBPACK_IMPORTED_MODULE_2__menu_component__["a" /* MenuComponent */]
            ],
            exports: [
                __WEBPACK_IMPORTED_MODULE_2__menu_component__["a" /* MenuComponent */]
            ],
            providers: [
                __WEBPACK_IMPORTED_MODULE_3__menu_service__["a" /* MenuService */]
            ]
        })
    ], MenuModule);
    return MenuModule;
}());



/***/ }),

/***/ "./src/app/menu/menu.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MenuService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common_http__ = __webpack_require__("./node_modules/@angular/common/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__globals_service__ = __webpack_require__("./src/app/globals.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_add_operator_catch__ = __webpack_require__("./node_modules/rxjs/_esm5/add/operator/catch.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_add_operator_map__ = __webpack_require__("./node_modules/rxjs/_esm5/add/operator/map.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__ = __webpack_require__("./node_modules/rxjs/_esm5/Subject.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var MenuService = /** @class */ (function () {
    //public windowSize: Subject<number> = new Subject<number>();
    function MenuService(http, globals, router) {
        this.http = http;
        this.globals = globals;
        this.router = router;
        this.data = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["b" /* Subject */]();
        // will create a eventlistener for windows resizing events
        //document.addEventListener( eventname, eventhandler);
    }
    MenuService.prototype.getDefaultMenu = function () {
        var _this = this;
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["c" /* HttpHeaders */]()
            .set('Accept-Language', this.globals.settings.default_language);
        var params = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["d" /* HttpParams */]()
            .set('device', 'web')
            .set('device_type', 'web')
            .set('device_layout', 'web');
        this.http.get(this.globals.endpoints.menus, { headers: headers, params: params })
            .toPromise()
            .then(function (res) {
            // The first menu on the menus list is the one we use
            _this.globals.menuId = res.data[0].id;
            var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["c" /* HttpHeaders */]()
                .set('Accept-Language', _this.globals.settings.default_language);
            var params = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["d" /* HttpParams */]()
                .set('device', 'web')
                .set('device_type', 'web')
                .set('device_layout', 'web');
            // Then we get the menu items from that menu
            var endpoint = _this.globals.API + 'menus/' + _this.globals.menuId;
            _this.http.get(endpoint, { headers: headers, params: params })
                .toPromise()
                .then(function (res) {
                // And we assign the data we get back, with the menu items, to a global "menu" object
                _this.globals.menu = res.data.options;
                _this.data.next(res.data.options);
                // Navigate directly to the first menu option
                _this.router.navigate([_this.globals.menu[0].slug]);
            })
                .catch(function (error) {
                console.error(error);
            });
        })
            .catch(function (error) {
            console.error(error);
        });
    };
    MenuService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["A" /* Injectable */])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_common_http__["a" /* HttpClient */],
            __WEBPACK_IMPORTED_MODULE_2__globals_service__["a" /* GlobalsService */],
            __WEBPACK_IMPORTED_MODULE_6__angular_router__["f" /* Router */]])
    ], MenuService);
    return MenuService;
}());



/***/ }),

/***/ "./src/app/models/epg-channel.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return EpgChannel; });
var EpgChannel = /** @class */ (function () {
    function EpgChannel() {
    }
    return EpgChannel;
}());



/***/ }),

/***/ "./src/app/models/epg-layout.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return EpgLayout; });
var EpgLayout = /** @class */ (function () {
    function EpgLayout() {
    }
    return EpgLayout;
}());



/***/ }),

/***/ "./src/app/models/layout.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Layout; });
var Layout = /** @class */ (function () {
    function Layout() {
    }
    return Layout;
}());



/***/ }),

/***/ "./src/app/models/playlist.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PlaylistService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("./node_modules/@angular/http/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__globals_service__ = __webpack_require__("./src/app/globals.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_Observable__ = __webpack_require__("./node_modules/rxjs/_esm5/Observable.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_add_operator_catch__ = __webpack_require__("./node_modules/rxjs/_esm5/add/operator/catch.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_add_operator_map__ = __webpack_require__("./node_modules/rxjs/_esm5/add/operator/map.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var PlaylistService = /** @class */ (function () {
    //public playList: Subject<Widget> = new Subject<Widget>();  // Subscribed by the Carousel component to change its content
    function PlaylistService(http, globals) {
        this.http = http;
        this.globals = globals;
    }
    PlaylistService.prototype.extractData = function (res) {
        var body = res.json();
        if (body) {
            return body.data || body;
        }
        else {
            return {};
        }
    };
    PlaylistService.prototype.handleError = function (error) {
        var errMsg = (error.message) ? error.message :
            error.status ? error.status + " - " + error.statusText : 'Server error';
        console.error(errMsg);
        return __WEBPACK_IMPORTED_MODULE_3_rxjs_Observable__["a" /* Observable */].throw(errMsg);
    };
    PlaylistService.prototype.getPlaylist = function (id, limit, page, genre) {
        var url = this.globals.API + ("playlists/" + id + "?limit=" + limit + "&page=" + page + "&device_type=web&device_layout=web");
        if (genre != undefined) {
            url += "&genre_id=" + genre;
        }
        return this.http
            .get(url)
            .map(this.extractData)
            .catch(this.handleError);
    };
    PlaylistService.prototype.getPlaylistPage = function (id, limit, page) {
        return this.http
            .get(this.globals.API + ("playlists/" + id + "/assets?limit=" + limit + "&page=" + page + "&device_type=web&device_layout=web"))
            .map(this.extractData)
            .catch(this.handleError);
    };
    PlaylistService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["A" /* Injectable */])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Http */],
            __WEBPACK_IMPORTED_MODULE_2__globals_service__["a" /* GlobalsService */]])
    ], PlaylistService);
    return PlaylistService;
}());



/***/ }),

/***/ "./src/app/models/scheduling.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Scheduling; });
var Scheduling = /** @class */ (function () {
    function Scheduling() {
    }
    return Scheduling;
}());



/***/ }),

/***/ "./src/app/models/user.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return User; });
var User = /** @class */ (function () {
    function User() {
    }
    return User;
}());



/***/ }),

/***/ "./src/app/payments/payments.component.html":
/***/ (function(module, exports) {

module.exports = "<p class=\"paymentMethodTitle\">{{globals.strings?.PAYMENT_METHOD_SELECT}}</p>\r\n\r\n<div id=\"paymentBtns\">\r\n  <button *ngFor=\"let paymentOption of paymentOptions\"\r\n          (click)=\"onPaymentBtnClick(paymentOption)\" class=\"paymentChoiceBtn\" [ngClass]=\"{'selected': paymentOption.selected==true}\">\r\n    {{paymentOption.label}}\r\n  </button>\r\n</div>\r\n\r\n<!-- Wrapper for the payment options -->\r\n<div class=\"paymentMethods\">\r\n\r\n  <!-- SHOW CREDIT CARD LIST -->\r\n  <div class=\"creditCardList\" *ngIf=\"showCreditCardList\">\r\n    <!-- FIXME: No available mockups for this. Using table based design -->\r\n    <!-- FIXME: No available key string for \"Credit Card List\" -->\r\n    <table class=\"creditCardListTbl\">\r\n      <tr>\r\n        <th>{{globals.strings.CREDIT_CARD_NUMBER || \"Credit Card Number\"}}</th>\r\n        <th colspan=\"2\">{{globals.strings.CREDIT_CARD_VALID_THRU || \"Valid Thru\"}}</th>\r\n      </tr>\r\n      <tr *ngFor=\"let creditCard of profilePaymentMethods\">\r\n        <!-- Credit card number -->\r\n        <td>XXXX XXXX XXXX {{creditCard.credit_card_number}}</td>\r\n        <!-- expiry -->\r\n        <td>{{creditCard.expiration_date}}</td>\r\n        <!-- choose me button -->\r\n        <!-- payment method token uniquely identifies this payment -->\r\n        <td><button (click)=\"payWithThisCC(creditCard.payment_method_token)\">{{globals.strings.CREDIT_CARD_USE_THIS}} ({{payObjectCurrency}}{{payObjectPrice}})</button></td>\r\n      </tr>\r\n    </table>\r\n\r\n  </div>\r\n\r\n  <!-- ADD CREDIT CARD -->\r\n  <div class=\"addCreditCardFrm\" [hidden]=\"showAddCreditCard===false\">\r\n    <p>{{globals.strings?.ADD_CREDIT_CARD_ADD_BUTTON}}</p>\r\n\r\n    <form #addCC=\"ngForm\" (ngSubmit)=\"getStripeToken(addCC)\" class=\"addCCFrm\">\r\n      <div class=\"form-row\">\r\n        <div id=\"card-info\" #cardInfo></div>\r\n\r\n        <div id=\"card-errors\" role=\"alert\" *ngIf=\"error\">{{ error }}</div>\r\n      </div>\r\n\r\n      <button type=\"submit\">{{globals.strings.CREDIT_CARD_PAY || 'Pay'}} ({{payObjectCurrency}}{{payObjectPrice}})</button>\r\n    </form>\r\n\r\n\r\n  </div>\r\n\r\n  <!-- VOUCHER -->\r\n  <div class=\"payWithVoucher\" *ngIf=\"paymentMethod=='voucher'\">\r\n    <p>{{globals.strings.PAYMENT_FORM_VOUCHER_PLACEHOLDER}}</p>\r\n\r\n    <form #voucherFrm=\"ngForm\" (ngSubmit)=\"onVoucherSubmit(voucherFrm)\">\r\n      <div class=\"form-row\">\r\n        <input type=\"text\" class=\"form-control\" id=\"voucher\" name=\"voucher\" ngModel required #voucher=\"ngModel\">\r\n      </div>\r\n      <button type=\"submit\" id=\"voucherSubmitBtn\" class=\"btn btn-default\">{{globals.strings.PAYMENT_FORM_VOUCHER_REDEEM || 'Redeem'}}</button>\r\n    </form>\r\n\r\n\r\n  </div>\r\n\r\n  <!-- TOKEN -->\r\n  <div id=\"payWithToken\" *ngIf=\"paymentMethod=='token'\">\r\n    <p>You have chosen Token</p>\r\n\r\n  </div>\r\n\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/payments/payments.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PaymentsComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__globals_service__ = __webpack_require__("./src/app/globals.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__payments_service__ = __webpack_require__("./src/app/payments/payments.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_sweetalert2__ = __webpack_require__("./node_modules/sweetalert2/dist/sweetalert2.all.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_sweetalert2___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_sweetalert2__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__loading_loading_service__ = __webpack_require__("./src/app/loading/loading.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};






var PaymentsComponent = /** @class */ (function () {
    function PaymentsComponent(router, route, globals, paymentsService, cd, loading) {
        this.router = router;
        this.route = route;
        this.globals = globals;
        this.paymentsService = paymentsService;
        this.cd = cd;
        this.loading = loading;
        this.paySubscription = null; // If the payObject == 'subscription' this will be !== null
        this.payAsset = null; // If the payObject == 'asset' this will be filled !== null
        this.cardName = ''; // Card holder name
        this.showCreditCardList = false; // Show initial credit card list (or on button request)
        /* @Notes: if no credit cards are found proceed directly
                   to the add credit card screen with a descriptive
                   message on top
         */
        this.showAddCreditCard = false; // Show div for adding a credit card
        this.cardHandler = this.onChange.bind(this);
        /* VOUCHER RELATED */
        this.voucher = null; // 2-way bind this in the view
        /* TOKEN RELATED */
        this.showTokenList = false; // Show initial token list (or on button request)
        /**
         * Products:
         *  - Subscriptions
         *  - Tokens
         *  - Assets (buy/rent)
         *
         * @Notes: A user can have a subscribed plan and still buy/rent an
         * asset to which he/she is not entitled to (see API entitlements)
         *
         * Known payment options [Credit Card, Voucher, Token] and associated
         * payment gateways coming from the API:
         *
         * Credit card (stripe):
         *  - Give the possibility of entering a discount coupon
         *
         * Voucher:
         *  - Pays for whatever is being bought (subscription, asset) entirely
         *
         * Token:
         *  - Like an eCoin. User has an eWallet and can spend these on assets
         *    for buying/renting
         *
         */
    }
    PaymentsComponent.prototype.ngOnInit = function () {
        var _this = this;
        /* Subscribe to the parameters being passed via URL */
        this.route.params
            .subscribe(function (params) {
            _this.payObject = params.payObject;
            _this.payObjectId = params.payObjectId;
            // Clear previous pay objects
            _this.paySubscription = null;
            _this.payAsset = null;
            // What are we paying for?
            switch (_this.payObject) {
                case 'subscription':
                    // Make sure we clear previous payment options ... :P
                    _this.paymentOptions = [];
                    // Get the payment gateways for this subscription
                    _this.globals.subscriptions.data.forEach(function (subscription, index) {
                        if (subscription.plan_id == _this.payObjectId) {
                            // This is a subscription. Fill paySubscription object
                            _this.paySubscription = subscription;
                            // Get the price of this subscription
                            _this.payObjectPrice = subscription.price;
                            _this.payObjectCurrency = subscription.currency;
                            subscription.payment_gateways.forEach(function (paymentGateway) {
                                if (paymentGateway.active)
                                    _this.paymentOptions.push({ label: paymentGateway.name, gateway: paymentGateway.gateway, selected: false });
                            });
                        }
                    });
                    break;
                case 'token':
                    // TODO: support token payments
                    // @Notes: tokens should also be identifiable by 'id'
                    break;
                case 'asset':
                    // @Notes: an asset can be bought or rent. Payment can be in tokens
                    // TODO: This is an asset. Fill payAsset object
                    break;
            }
        });
        /* Create stripe object for credit card payments */
        this.stripe = Stripe(this.globals.stripePubKey);
        /* Use the new 'elements' */
        this.elements = this.stripe.elements({
            fonts: [
                {
                    cssSrc: 'https://fonts.googleapis.com/css?family=Quicksand',
                },
            ],
            // Stripe's examples are localized to specific languages, but if
            // you wish to have Elements automatically detect your user's locale,
            // use `locale: 'auto'` instead.
            locale: 'auto',
        });
        /* Define personalized styles for the elements */
        this.elementStyles = {
            base: {
                color: '#fff',
                fontWeight: 600,
                fontFamily: 'Quicksand, Open Sans, Segoe UI, sans-serif',
                fontSize: '16px',
                fontSmoothing: 'antialiased',
                ':focus': {
                    color: '#424770'
                },
                '::placeholder': {
                    color: '#424770',
                },
                ':focus::placeholder': {
                    color: '#004770',
                },
            },
            invalid: {
                color: '#fff',
                ':focus': {
                    color: '#FA755A',
                },
                '::placeholder': {
                    color: '#FFCCA5',
                },
            },
        };
        this.elementClasses = {
            focus: 'focus',
            empty: 'empty',
            invalid: 'invalid',
        };
        // Subscribe to whatever subjects come from the related service
        this.paymentsService.paymentMethods.subscribe(function (val) {
            _this.profilePaymentMethods = val;
            /*
             If we have a list (of a least 1) of credit cards show it
              and let the user use one of them for payment of whatever is being bought
             */
            if (_this.profilePaymentMethods.length > 0) {
                _this.showCreditCardList = true;
            }
            else {
                /* Show add credit card screen */
                _this.showCreditCardList = false; // Don't forget to hide whatever else is on the screen here!
                _this.showAddCreditCard = true;
            }
        });
        this.paymentsService.purchaseResponse.subscribe(function (val) {
            // Stop the loading status in any circumstance (either success or failure)
            _this.loading.set(false);
            if (val.code == "200") {
                // Show a success dialog
                __WEBPACK_IMPORTED_MODULE_4_sweetalert2___default()({
                    type: 'success',
                    html: '<span style="color: #fff;">' + val.description || 'Payment successful' + '</span>',
                    background: '#2a292a'
                }).then(function (result) {
                    if (result.value) {
                        // Hide the credit card add modal
                        _this.showAddCreditCard = false;
                        // redirect to home and let the user enjoy content with his/her active subscription :P
                        _this.router.navigate(['']);
                    }
                });
            }
            else {
                __WEBPACK_IMPORTED_MODULE_4_sweetalert2___default()({
                    type: 'error',
                    title: '<span style="color: #fff;" class="title">' + _this.globals.strings.SCREEN_ERROR_TITLE + '</span>',
                    html: '<span style="color: #fff;">' + val.error.description + '</span>',
                    background: '#2a292a'
                });
            }
        });
    };
    /**
     * Stuff that needs to be run AFTER the view is init'ed
     */
    PaymentsComponent.prototype.ngAfterViewInit = function () {
        this.showAddCreditCard = false;
        this.card = this.elements.create('card', { hidePostalCode: true });
        /*this.card.mount(this.cardNumber.nativeElement);
        this.card.mount(this.cardExpiry.nativeElement);
        this.card.mount(this.cardCvc.nativeElement);*/
        this.card.mount(this.cardInfo.nativeElement);
        this.card.addEventListener('change', this.cardHandler);
    };
    PaymentsComponent.prototype.ngOnDestroy = function () {
        this.card.removeEventListener('change', this.cardHandler);
        this.card.destroy();
    };
    PaymentsComponent.prototype.onChange = function (_a) {
        var error = _a.error;
        if (error) {
            this.error = error.message;
        }
        else {
            this.error = null;
        }
        this.cd.detectChanges();
    };
    /**
     * Process payment choice btn click
     * @param {string} gateway
     */
    PaymentsComponent.prototype.onPaymentBtnClick = function (paymentOption) {
        // Set all 'visibility' flags to false here!
        this.showCreditCardList = false;
        this.showAddCreditCard = false;
        // Get the available payment methods for the current profile
        // FIXME: HARDWIRED! If this ever changes in the API this exclusion is going to fail!
        // @Notes: the .../purchase_methods endpoint doesn't return a list of vouchers
        //         this might change in the future (as per meeting with Bruno and Sobrinho on 2018-03-02)
        if (paymentOption.gateway !== 'voucher')
            this.paymentsService.getProfilePaymentMethods(paymentOption.gateway);
        this.paymentOptions.forEach(function (paymentOption) {
            paymentOption.selected = false;
        });
        this.paymentMethod = paymentOption.gateway;
        paymentOption.selected = true;
    };
    /**
     * Get a token for the currently submitted card
     */
    PaymentsComponent.prototype.getStripeToken = function (form) {
        return __awaiter(this, void 0, void 0, function () {
            var _a, token, error, purchaseType, productId, storeProductId, _i, _b, paymentGateway;
            return __generator(this, function (_c) {
                switch (_c.label) {
                    case 0: return [4 /*yield*/, this.stripe.createToken(this.card)];
                    case 1:
                        _a = _c.sent(), token = _a.token, error = _a.error;
                        if (error) {
                            console.log('Something is wrong:', error);
                        }
                        else {
                            console.log('Success!', token);
                            purchaseType = this.payObject == 'subscription' ? 'SVOD' : 'TVOD';
                            productId = null;
                            storeProductId = null;
                            // If the thing being bought is a subscription get the Ids from paySubscription object
                            if (this.payObject == 'subscription' && this.paySubscription !== null) {
                                productId = this.paySubscription.plan_id;
                                for (_i = 0, _b = this.paySubscription.payment_gateways; _i < _b.length; _i++) {
                                    paymentGateway = _b[_i];
                                    if (paymentGateway.gateway === "stripe") {
                                        storeProductId = paymentGateway.store_product_id;
                                        console.log("store pid: " + paymentGateway.store_product_id);
                                    }
                                }
                            }
                            // TODO: get the Ids from an asset
                            if (this.payObject == 'asset') {
                            }
                            // Ensure we have productId and a storeProductId...
                            if (productId !== null && storeProductId !== null) {
                                this.loading.set(true);
                                this.paymentsService.purchase(productId, purchaseType, 'stripe', storeProductId, token.id);
                            }
                            else {
                                // Something went south ... :S show an error dialog
                                __WEBPACK_IMPORTED_MODULE_4_sweetalert2___default()({
                                    type: 'error',
                                    title: '<span style="color: #fff;" class="title">' + this.globals.strings.SCREEN_ERROR_TITLE + '</span>',
                                    html: '<span style="color: #fff;">' + this.globals.strings.PAYMENT_PROCESSMENT_FAILURE || 'There was a problem processing your request. Please try again later' + '</span>',
                                    background: '#2a292a'
                                });
                            }
                        }
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
     * Handle choosing one the credit cards of the list for payment
     * @param {string} paymentMethodToken
     */
    PaymentsComponent.prototype.payWithThisCC = function (stripeToken) {
        console.info("Credit card token: " + stripeToken);
        // errr.. what were we buying again? :P
        var purchaseType = this.payObject == 'subscription' ? 'SVOD' : 'TVOD';
        var productId = null;
        var storeProductId = null;
        // If the thing being bought is a subscription get the Ids from paySubscription object
        if (this.payObject == 'subscription' && this.paySubscription !== null) {
            productId = this.paySubscription.plan_id;
            for (var _i = 0, _a = this.paySubscription.payment_gateways; _i < _a.length; _i++) {
                var paymentGateway = _a[_i];
                if (paymentGateway.gateway === "stripe") {
                    storeProductId = paymentGateway.store_product_id;
                    console.log("store pid: " + paymentGateway.store_product_id);
                }
            }
        }
        // TODO: get the Ids from an asset
        if (this.payObject == 'asset') {
        }
        // Ensure we have productId and a storeProductId...
        if (productId !== null && storeProductId !== null) {
            this.paymentsService.purchase(productId, purchaseType, 'stripe', storeProductId, stripeToken);
        }
        else {
            // Something went south ... :S show an error dialog
            __WEBPACK_IMPORTED_MODULE_4_sweetalert2___default()({
                type: 'error',
                title: '<span style="color: #fff;" class="title">' + this.globals.strings.SCREEN_ERROR_TITLE + '</span>',
                html: '<span style="color: #fff;">' + this.globals.strings.PAYMENT_PROCESSMENT_FAILURE || 'There was a problem processing your request. Please try again later' + '</span>',
                background: '#2a292a'
            });
        }
    };
    /**
     * Handle the submission of a voucher as a means of payment
     * @param {NgForm} form
     */
    PaymentsComponent.prototype.onVoucherSubmit = function (form) {
        console.log(form);
        console.log('Voucher was: ' + form.value.voucher);
        // errr.. what were we buying again? :P
        var purchaseType = this.payObject == 'subscription' ? 'SVOD' : 'TVOD';
        var productId = null;
        var storeProductId = null;
        // If the thing being bought is a subscription get the Ids from paySubscription object
        if (this.payObject == 'subscription' && this.paySubscription !== null) {
            productId = this.paySubscription.plan_id;
            for (var _i = 0, _a = this.paySubscription.payment_gateways; _i < _a.length; _i++) {
                var paymentGateway = _a[_i];
                if (paymentGateway.gateway === "stripe") {
                    storeProductId = paymentGateway.store_product_id;
                    console.log("store pid: " + paymentGateway.store_product_id);
                }
            }
        }
        // TODO: get the Ids from an asset
        if (this.payObject == 'asset') {
        }
        // Ensure we have productId and a storeProductId...
        if (productId !== null && storeProductId !== null) {
            this.paymentsService.purchase(productId, purchaseType, 'voucher', form.value.voucher, form.value.voucher);
        }
        else {
            // Something went south ... :S show an error dialog
            __WEBPACK_IMPORTED_MODULE_4_sweetalert2___default()({
                type: 'error',
                title: '<span style="color: #fff;" class="title">' + this.globals.strings.SCREEN_ERROR_TITLE + '</span>',
                html: '<span style="color: #fff;">' + this.globals.strings.PAYMENT_PROCESSMENT_FAILURE || 'There was a problem processing your request. Please try again later' + '</span>',
                background: '#2a292a'
            });
        }
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_9" /* ViewChild */])('cardInfo'),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["t" /* ElementRef */])
    ], PaymentsComponent.prototype, "cardInfo", void 0);
    PaymentsComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["n" /* Component */])({
            selector: 'app-payments',
            template: __webpack_require__("./src/app/payments/payments.component.html")
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_router__["f" /* Router */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_2__globals_service__["a" /* GlobalsService */],
            __WEBPACK_IMPORTED_MODULE_3__payments_service__["a" /* PaymentsService */],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["k" /* ChangeDetectorRef */],
            __WEBPACK_IMPORTED_MODULE_5__loading_loading_service__["a" /* LoadingService */]])
    ], PaymentsComponent);
    return PaymentsComponent;
}());



/***/ }),

/***/ "./src/app/payments/payments.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PaymentsModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common__ = __webpack_require__("./node_modules/@angular/common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__payments_component__ = __webpack_require__("./src/app/payments/payments.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__payments_service__ = __webpack_require__("./src/app/payments/payments.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};





var PaymentsModule = /** @class */ (function () {
    function PaymentsModule() {
    }
    PaymentsModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["I" /* NgModule */])({
            imports: [
                __WEBPACK_IMPORTED_MODULE_1__angular_common__["b" /* CommonModule */],
                __WEBPACK_IMPORTED_MODULE_4__angular_forms__["a" /* FormsModule */]
            ],
            exports: [__WEBPACK_IMPORTED_MODULE_2__payments_component__["a" /* PaymentsComponent */]],
            declarations: [__WEBPACK_IMPORTED_MODULE_2__payments_component__["a" /* PaymentsComponent */]],
            providers: [__WEBPACK_IMPORTED_MODULE_3__payments_service__["a" /* PaymentsService */]]
        })
    ], PaymentsModule);
    return PaymentsModule;
}());



/***/ }),

/***/ "./src/app/payments/payments.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PaymentsService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__globals_service__ = __webpack_require__("./src/app/globals.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_common_http__ = __webpack_require__("./node_modules/@angular/common/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_Subject__ = __webpack_require__("./node_modules/rxjs/_esm5/Subject.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var PaymentsService = /** @class */ (function () {
    function PaymentsService(globals, http) {
        this.globals = globals;
        this.http = http;
        this.paymentMethods = new __WEBPACK_IMPORTED_MODULE_3_rxjs_Subject__["b" /* Subject */]();
        this.purchaseResponse = new __WEBPACK_IMPORTED_MODULE_3_rxjs_Subject__["b" /* Subject */]();
    }
    /**
     * Get the current profile's payment methods
     * uses globals.endpoints.profilePaymentMethods
     * @param {string} gateway
     */
    PaymentsService.prototype.getProfilePaymentMethods = function (gateway) {
        var _this = this;
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_common_http__["c" /* HttpHeaders */]()
            .set('Accept-Language', this.globals.settings.default_language)
            .set('Authorization', 'Bearer ' + this.globals.authToken);
        var params = new __WEBPACK_IMPORTED_MODULE_2__angular_common_http__["d" /* HttpParams */]()
            .set('device_type', 'web');
        var endpoint = this.globals.endpoints.profilePaymentMethods
            .replace('{profile_token}', this.globals.accountProfileToken)
            .replace('{payment_gateway}', gateway);
        this.http.get(endpoint, { headers: headers, params: params })
            .toPromise()
            .then(function (res) {
            _this.paymentMethods.next(res.data);
        })
            .catch(function (error) {
            console.error(error);
            _this.paymentMethods.next([]);
        });
    };
    /**
     * Purchase/subscribe a product in a store
     *
     * @param {string} productId (body) - Asset ID in case of TVOD, Plan ID in case of SVOD
     * @param {string} purchaseType (body) - (TVOD / SVOD) SVOD == Subscriptions, TVOD == Assets
     * @param {string} paymentGateway (body) - (stripe, voucher or token)
     * @param {string} storeProductId (body) - (in case of subscription this is the plan id)
     * @param {string} paymentMethodToken (body) - required if the purchase if via stripe (credit card)
     */
    PaymentsService.prototype.purchase = function (productId, purchaseType, paymentGateway, storeProductId, paymentMethodToken) {
        var _this = this;
        if (paymentMethodToken === void 0) { paymentMethodToken = null; }
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_common_http__["c" /* HttpHeaders */]()
            .set('Accept-Language', this.globals.settings.default_language)
            .set('Authorization', 'Bearer ' + this.globals.authToken);
        var params = new __WEBPACK_IMPORTED_MODULE_2__angular_common_http__["d" /* HttpParams */]()
            .set('device_type', 'web');
        /* Path "vars" */
        var endpoint = this.globals.endpoints.purchase
            .replace('{profile_token}', this.globals.accountProfileToken);
        /* Body */
        var body = {
            product_id: productId,
            purchase_type: purchaseType,
            payment_gateway: paymentGateway,
            store_product_id: storeProductId,
            payment_method_token: paymentMethodToken
        };
        this.http.post(endpoint, body, { headers: headers, params: params })
            .toPromise()
            .then(function (res) {
            _this.purchaseResponse.next(res);
        })
            .catch(function (error) {
            _this.purchaseResponse.next(error);
        });
    };
    PaymentsService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["A" /* Injectable */])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__globals_service__["a" /* GlobalsService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_common_http__["a" /* HttpClient */]])
    ], PaymentsService);
    return PaymentsService;
}());



/***/ }),

/***/ "./src/app/player/player.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"player-container\">\r\n\r\n  <video class=\"video-js\"  autoplay controls preload=\"auto\" data-setup=\"{}\" id=\"player\">\r\n  </video>\r\n\r\n  <!-- Only shown if the user moves the mouse over the player -->\r\n  <div id=\"playerTopBar\" [@slideInOut]=\"barsState\">\r\n    <table>\r\n      <tr>\r\n        <td *ngIf=\"!assetId\">\r\n          <button id=\"playerBack\" (click)=\"returnToDetails()\">\r\n            <span class=\"fa-stack\">\r\n              <i class=\"fa fa-circle-thin fa-stack-2x\"></i>\r\n              <i class=\"fa fa-chevron-left\" fa-stack-1x></i>\r\n            </span>\r\n          </button>\r\n        </td>\r\n\r\n        <td>{{data?.asset.name}}</td>\r\n\r\n        <td *ngIf=\"!assetId\">\r\n          <i class=\"fa fa-gear\"></i>\r\n        </td>\r\n      </tr>\r\n    </table>\r\n\r\n  </div>\r\n\r\n  <div id=\"playerBottomBar\" *ngIf=\"showBars\">\r\n\r\n  </div>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/player/player.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PlayerComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__globals_service__ = __webpack_require__("./src/app/globals.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__loading_loading_service__ = __webpack_require__("./src/app/loading/loading.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_video_js_dist_video_min__ = __webpack_require__("./node_modules/video.js/dist/video.min.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_video_js_dist_video_min___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_video_js_dist_video_min__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_videojs_contrib_hls_dist_videojs_contrib_hls_min__ = __webpack_require__("./node_modules/videojs-contrib-hls/dist/videojs-contrib-hls.min.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_videojs_contrib_hls_dist_videojs_contrib_hls_min___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_videojs_contrib_hls_dist_videojs_contrib_hls_min__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__player_service__ = __webpack_require__("./src/app/player/player.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__angular_animations__ = __webpack_require__("./node_modules/@angular/animations/esm5/animations.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var PlayerComponent = /** @class */ (function () {
    function PlayerComponent(service, route, router, globals, loading) {
        this.service = service;
        this.route = route;
        this.router = router;
        this.globals = globals;
        this.loading = loading;
        this.barsState = 'out'; // For the bars animation
    }
    PlayerComponent.prototype.ngOnInit = function () {
        this.assetId || this.init();
    };
    PlayerComponent.prototype.init = function () {
        var _this = this;
        // obtaining route's params should preferably be done here ;)
        this.route.params
            .subscribe(function (params) {
            _this.service.getAssetDetails(_this.assetId || _this.route.snapshot.params['id']);
        });
        // Show we're doing some cool stuff in the background, like handing cookies :P
        this.assetId || this.loading.set(true);
        this.service.asset.take(1)
            .subscribe(function (response) {
            _this.data = response;
            // get the asset's video stream ID
            _this.streamID = _this.data.asset.video.streams.id;
            _this.service.getStream(_this.data.asset.id, _this.streamID);
        });
        // get the stream data
        this.service.stream.subscribe(function (response) {
            _this.streamURL = response.stream.url;
            // FIXME: API Should support this. In the meantime just determine the mimetype :P
            if (response.stream.MIMEType === "") {
                // Check if there are any query params coming with the url first
                var qCheck = _this.streamURL.split('?');
                if (qCheck.length > 1) {
                    _this.streamType = qCheck[0].split('.').pop();
                }
                else {
                    _this.streamType = _this.streamURL.split('.').pop();
                }
                var mime = __webpack_require__("./node_modules/mime-types/index.js");
                _this.mimeType = mime.lookup(_this.streamType);
            }
            else {
                _this.mimeType = response.stream.MIMEType;
            }
            _this.initializePlayer(_this.streamURL, _this.mimeType);
            _this.loading.set(false);
        });
    };
    PlayerComponent.prototype.ngOnDestroy = function () {
        videojs('player').dispose();
        // Don't forget to clear the timers :P
        clearInterval(this.activityCheck);
        clearTimeout(this.inactivityTimeout);
    };
    PlayerComponent.prototype.initializePlayer = function (url, mimetype) {
        var self = this;
        this.player = videojs('player');
        this.player.src({
            src: url,
            type: mimetype,
            textTrackSettings: false,
            autoplay: true
        });
        // Things to do after the current media has finished
        this.player.on('ended', function () {
            self.videoEnd();
        });
        /**
         * Deal with mouse events so that we can show/hide the personalized bars
         * @Notes: check for mouse activity every 250ms and set an inactivity
         * timeout good for 2s
         */
        this.player.on('mousemove', function () {
            self.userActivity = true;
        });
        self.activityCheck = setInterval(function () {
            // Check to see if the mouse has been moved
            if (self.userActivity) {
                // Reset the activity tracker
                self.userActivity = false;
                self.barsState = 'in';
                // If the user state was inactive, set the state to active
                if (self.player.userActive() === false) {
                    self.player.userActive(true);
                }
                // Clear any existing inactivity timeout to start the timer over
                clearTimeout(self.inactivityTimeout);
                // In X seconds, if no more activity has occurred
                // the user will be considered inactive
                self.inactivityTimeout = setTimeout(function () {
                    // Protect against the case where the inactivity timeout can trigger
                    // before the next user activity is picked up  by the
                    // activityCheck loop.
                    if (!self.userActivity) {
                        self.player.userActive(false);
                        self.barsState = 'out';
                    }
                    console.log('inactivityTimeout reached');
                }, 2000);
            }
        }, 250);
    };
    /**
     * Things to do after video has ended:
     * movie - go back to details page
     * series - go to next episode if available. if not back to details
     */
    PlayerComponent.prototype.videoEnd = function () {
        // Movies first (they're easier to deal with :P )
        if (this.data.asset.type == 'movies') {
            this.returnToDetails();
        }
    };
    /**
     * Return to asset details when player 'back' btn is pressed
     */
    PlayerComponent.prototype.returnToDetails = function () {
        this.router.navigate(['movie/', this.route.snapshot.params['id']]);
    };
    PlayerComponent.prototype.ngOnChanges = function (changes) {
        this.init();
    };
    PlayerComponent.prototype.openVideo = function () {
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["D" /* Input */])(),
        __metadata("design:type", Object)
    ], PlayerComponent.prototype, "assetId", void 0);
    PlayerComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["n" /* Component */])({
            selector: 'app-player',
            template: __webpack_require__("./src/app/player/player.component.html"),
            animations: [
                Object(__WEBPACK_IMPORTED_MODULE_7__angular_animations__["j" /* trigger */])('slideInOut', [
                    Object(__WEBPACK_IMPORTED_MODULE_7__angular_animations__["g" /* state */])('in', Object(__WEBPACK_IMPORTED_MODULE_7__angular_animations__["h" /* style */])({
                        //opacity: '1',
                        overflow: 'hidden',
                        height: '*'
                    })),
                    Object(__WEBPACK_IMPORTED_MODULE_7__angular_animations__["g" /* state */])('out', Object(__WEBPACK_IMPORTED_MODULE_7__angular_animations__["h" /* style */])({
                        //opacity: '0',
                        overflow: 'hidden',
                        height: '0px'
                    })),
                    Object(__WEBPACK_IMPORTED_MODULE_7__angular_animations__["i" /* transition */])('in => out', Object(__WEBPACK_IMPORTED_MODULE_7__angular_animations__["e" /* animate */])('400ms ease-in-out')),
                    Object(__WEBPACK_IMPORTED_MODULE_7__angular_animations__["i" /* transition */])('out => in', Object(__WEBPACK_IMPORTED_MODULE_7__angular_animations__["e" /* animate */])('400ms ease-in-out'))
                ])
            ]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_6__player_service__["a" /* PlayerService */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["f" /* Router */],
            __WEBPACK_IMPORTED_MODULE_2__globals_service__["a" /* GlobalsService */],
            __WEBPACK_IMPORTED_MODULE_3__loading_loading_service__["a" /* LoadingService */]])
    ], PlayerComponent);
    return PlayerComponent;
}());



/***/ }),

/***/ "./src/app/player/player.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PlayerModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common__ = __webpack_require__("./node_modules/@angular/common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__player_component__ = __webpack_require__("./src/app/player/player.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__player_service__ = __webpack_require__("./src/app/player/player.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};




var PlayerModule = /** @class */ (function () {
    function PlayerModule() {
    }
    PlayerModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["I" /* NgModule */])({
            imports: [
                __WEBPACK_IMPORTED_MODULE_1__angular_common__["b" /* CommonModule */]
            ],
            declarations: [
                __WEBPACK_IMPORTED_MODULE_2__player_component__["a" /* PlayerComponent */]
            ],
            exports: [
                __WEBPACK_IMPORTED_MODULE_2__player_component__["a" /* PlayerComponent */]
            ],
            providers: [
                __WEBPACK_IMPORTED_MODULE_3__player_service__["a" /* PlayerService */]
            ]
        })
    ], PlayerModule);
    return PlayerModule;
}());



/***/ }),

/***/ "./src/app/player/player.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PlayerService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common_http__ = __webpack_require__("./node_modules/@angular/common/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__globals_service__ = __webpack_require__("./src/app/globals.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_Subject__ = __webpack_require__("./node_modules/rxjs/_esm5/Subject.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_BehaviorSubject__ = __webpack_require__("./node_modules/rxjs/_esm5/BehaviorSubject.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var PlayerService = /** @class */ (function () {
    function PlayerService(http, globals) {
        this.http = http;
        this.globals = globals;
        this.asset = new __WEBPACK_IMPORTED_MODULE_3_rxjs_Subject__["b" /* Subject */]();
        this.stream = new __WEBPACK_IMPORTED_MODULE_3_rxjs_Subject__["b" /* Subject */]();
        this.streamError$ = new __WEBPACK_IMPORTED_MODULE_4_rxjs_BehaviorSubject__["a" /* BehaviorSubject */](false);
    }
    /**
     * Get an asset's details by its ID
     * @Notes also gets the related
     * @param {string} id
     */
    PlayerService.prototype.getAssetDetails = function (id) {
        var _this = this;
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["c" /* HttpHeaders */]()
            .set('Accept-Language', this.globals.settings.default_language);
        var params = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["d" /* HttpParams */]()
            .set('device_type', 'web')
            .set('device_layout', 'web');
        this.http.get(this.globals.endpoints.assets + '/' + id, { headers: headers, params: params })
            .toPromise()
            .then(function (res) {
            _this.asset.next(res.data);
            _this._asset = res.data;
        })
            .catch(function (error) {
            console.error(error);
        });
    };
    /**
     * Get an asset's video stream, given its ID and the stream's
     * @param {string} assetID
     * @param {string} streamID
     */
    PlayerService.prototype.getStream = function (assetID, streamID) {
        var _this = this;
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["c" /* HttpHeaders */]()
            .set('Accept-Language', this.globals.settings.default_language)
            .set('Authorization', 'Bearer ' + this.globals.authToken);
        var params = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["d" /* HttpParams */]()
            .set('device_type', 'web')
            .set('device_layout', 'web');
        // assetsStream: this.API + '/assets/{asset_id}/streams/{stream_id}'
        // replace the current profile token in the path
        var firstPass = this.globals.endpoints.assetsStream.replace('{asset_id}', assetID);
        var endpoint = firstPass.replace('{stream_id}', streamID);
        this.http.get(endpoint, { headers: headers, params: params })
            .toPromise()
            .then(function (res) {
            _this.streamError$.next(false);
            _this.stream.next(res.data);
            _this._stream = res.data;
        })
            .catch(function (err) { return _this.streamError$.next(true); });
    };
    PlayerService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["A" /* Injectable */])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_common_http__["a" /* HttpClient */],
            __WEBPACK_IMPORTED_MODULE_2__globals_service__["a" /* GlobalsService */]])
    ], PlayerService);
    return PlayerService;
}());



/***/ }),

/***/ "./src/app/playlist-element/playlist-element.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"playlist-element\"\r\n  [ngStyle]=\"{'border-width': layout.element_vertical_spacing / 2 + 'px ' + layout.element_horizontal_spacing / 2 + 'px', 'margin-top': (layout.metadata_position==='top' && layout.show_elements_title!='none' ?2:0)+'em'}\">\r\n  <a *ngIf=\"!extraFun && !clickFn\" routerLink=\"/movie/{{data.slug}}\">\r\n    <img src=\"{{placeholder}}\" data-src=\"{{imageUrl}}\" (error)=\"setNoImagePic()\" class=\"item-image\">\r\n    <!-- {{layout.move_after_behaviour}} -->\r\n    <div class=\"rating\"\r\n         *ngIf=\"layout.show_elements_rating!='none'\"\r\n         [class.show-on-hover]=\"layout.show_elements_rating =='focus'\">{{data.rating}} <img\r\n      src=\"assets/star.png\"></div>\r\n    <!--<progress max=\"100\"-->\r\n              <!--value=\"{{data.progress}}\"-->\r\n              <!--*ngIf=\"layout.show_elements_view_progress!='none'\"-->\r\n              <!--[class.show-on-hover]=\"layout.show_elements_view_progress =='focus'\"></progress>-->\r\n  </a>\r\n  <a *ngIf=\"!extraFun && clickFn \" (click)=\"clickFn(data.id, data.image.url)\">\r\n    <img src=\"{{placeholder}}\" data-src=\"{{imageUrl}}\" (error)=\"setNoImagePic()\" class=\"item-image\" *ngIf=\"data.image.url\">\r\n    <img src=\"http://via.placeholder.com/264x220/a9a9a9?text={{data.id}}\" alt=\"\" *ngIf=\"!data.image.url\" class=\"item-image\">\r\n    <!-- {{layout.move_after_behaviour}} -->\r\n    <div class=\"rating\"\r\n         *ngIf=\"layout.show_elements_rating!='none'\"\r\n         [class.show-on-hover]=\"layout.show_elements_rating =='focus'\">{{data.rating}} <img\r\n            src=\"assets/star.png\"></div>\r\n    <!--<progress max=\"100\"-->\r\n    <!--value=\"{{data.progress}}\"-->\r\n    <!--*ngIf=\"layout.show_elements_view_progress!='none'\"-->\r\n    <!--[class.show-on-hover]=\"layout.show_elements_view_progress =='focus'\"></progress>-->\r\n  </a>\r\n  <div *ngIf=\"!extraFun\" [ngStyle]=\"{'height': '0', 'overflow': 'visible'}\" [ngClass]=\"layout.style +' '+(layout.show_elements_title!='none' ?layout.metadata_position:'')\" [class.show-on-hover]=\"layout.show_elements_title =='focus'\">\r\n\r\n    <div *ngIf=\"layout.show_elements_title!='none'\" class=\"playElementTitle\"\r\n        [class.show-on-hover]=\"layout.show_elements_title =='focus'\">\r\n      <b *ngIf=\"layout.show_elements_favorite!='none'\"\r\n         [class.show-on-hover]=\"layout.show_elements_favorite =='focus'\">\r\n        <img src=\"assets/favourite.png\">\r\n      </b>{{data.name}}\r\n    </div>\r\n  </div>\r\n  <div *ngIf=\"extraFun\" class=\"userFormat\" (click)=\"data.view.callback(data.view.param, data.id)\">\r\n    <img *ngIf=\"data.view.type=='image'\" src=\"{{placeholder}}\" data-src=\"{{imageUrl}}\" (error)=\"setNoImagePic()\" class=\"item-image\">\r\n    <div>{{data.view.text}}</div>\r\n  </div>\r\n\r\n</div>\r\n\r\n<div *ngIf=\"showExtraInfo\" class=\"extra-info\">\r\n  <h1>{{data.name}}</h1>\r\n  <p>{{data.short_description}}</p>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/playlist-element/playlist-element.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PlaylistElementComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__models_layout__ = __webpack_require__("./src/app/models/layout.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__utils_service__ = __webpack_require__("./src/app/utils.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__globals_service__ = __webpack_require__("./src/app/globals.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var PlaylistElementComponent = /** @class */ (function () {
    function PlaylistElementComponent(utils, globals) {
        this.utils = utils;
        this.globals = globals;
    }
    PlaylistElementComponent.prototype.ngOnInit = function () {
        this.placeholder = this.utils.resizeImage(this.globals.API.slice(0, -4) + this.layout.element_placeholder_image, Math.round(1320 / this.layout.columns), this.layout.assets_format_ratio, 'fit');
        // New rules from the API dictate that the image may come with a resize type "fit" or "crop"
        this.data.image.url = this.utils.resizeImage(this.data.image.url, Math.round(1320 / this.layout.columns), this.layout.assets_format_ratio, this.layout.image_resize_type);
        this.imageUrl = this.data.image.url;
        this.extraFun = this.data.hasOwnProperty("view");
    };
    PlaylistElementComponent.prototype.setNoImagePic = function () {
        this.imageUrl = this.globals.API.slice(0, -4) + 'uploads/placeholder/placeholder.png';
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["D" /* Input */])(),
        __metadata("design:type", Object)
    ], PlaylistElementComponent.prototype, "data", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["D" /* Input */])(),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1__models_layout__["a" /* Layout */])
    ], PlaylistElementComponent.prototype, "layout", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["D" /* Input */])(),
        __metadata("design:type", Boolean)
    ], PlaylistElementComponent.prototype, "showExtraInfo", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["D" /* Input */])(),
        __metadata("design:type", Object)
    ], PlaylistElementComponent.prototype, "clickFn", void 0);
    PlaylistElementComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["n" /* Component */])({
            selector: 'app-playlist-element',
            template: __webpack_require__("./src/app/playlist-element/playlist-element.component.html")
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__utils_service__["a" /* UtilsService */], __WEBPACK_IMPORTED_MODULE_3__globals_service__["a" /* GlobalsService */]])
    ], PlaylistElementComponent);
    return PlaylistElementComponent;
}());



/***/ }),

/***/ "./src/app/playlist-element/playlist-element.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PlaylistElementModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common__ = __webpack_require__("./node_modules/@angular/common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__playlist_element_component__ = __webpack_require__("./src/app/playlist-element/playlist-element.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};




var PlaylistElementModule = /** @class */ (function () {
    function PlaylistElementModule() {
    }
    PlaylistElementModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["I" /* NgModule */])({
            imports: [
                __WEBPACK_IMPORTED_MODULE_1__angular_common__["b" /* CommonModule */],
                __WEBPACK_IMPORTED_MODULE_3__angular_router__["g" /* RouterModule */]
            ],
            declarations: [
                __WEBPACK_IMPORTED_MODULE_2__playlist_element_component__["a" /* PlaylistElementComponent */]
            ],
            exports: [
                __WEBPACK_IMPORTED_MODULE_2__playlist_element_component__["a" /* PlaylistElementComponent */]
            ],
            providers: []
        })
    ], PlaylistElementModule);
    return PlaylistElementModule;
}());



/***/ }),

/***/ "./src/app/pricing/pricing.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"subscriptionsContentWrapper\">\r\n  <h3 style=\"text-align: center\">{{globals.strings.SUBSCRIPTIONS_PLAN_TITLE || 'Subscription plan(hardcoded)'}}</h3>\r\n  <!-- Show all available subscriptions -->\r\n  <table *ngIf=\"gotSubscriptions\" class=\"subscriptionsTableWrapper\" >\r\n    <tr *ngFor=\"let plan of globals.subscriptions.data; let i = index\">\r\n      <!-- Plan name -->\r\n      <td class=\"subscriptionsPlan\" [ngStyle]=\"{'background-color': colorPlan[i].bkCol,'color': colorPlan[i].textCol}\" > {{plan.plan_name}}</td>\r\n      <!-- Plan description -->\r\n      <td class=\"subscriptionsDetails\" [style.borderColor]=\"colorPlan[i].bkCol\">{{plan?.headline}}</td>\r\n      <!-- <div class=\"subscriptionsDetails\" [ngStyle]=\"{'border-color': colorPlan[i]}\">{{plan.id}}</div> -->\r\n    </tr>\r\n  </table>\r\n</div>\r\n\r\n"

/***/ }),

/***/ "./src/app/pricing/pricing.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PricingComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__subscriptions_subscriptions_service__ = __webpack_require__("./src/app/subscriptions/subscriptions.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__globals_service__ = __webpack_require__("./src/app/globals.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var PricingComponent = /** @class */ (function () {
    function PricingComponent(subscriptionService, globals) {
        this.subscriptionService = subscriptionService;
        this.globals = globals;
        this.gotSubscriptions = false;
        this.colorPlan = [];
    }
    PricingComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.colorPlan.push({ textCol: '#07183e', bkCol: '#ffffff' }, { textCol: '#ffffff', bkCol: '#c39d07' }, { textCol: '#ffffff', bkCol: '#b2b2b2' }, { textCol: '#ffffff', bkCol: '#f37a7a' }, { textCol: '#ffffff', bkCol: '#9cc05e' });
        this.subscriptionService.getAllSubscriptions();
        this.subscriptionService.allSubscriptions.subscribe(function (value) {
            if (value.hasOwnProperty('data') && value.data.length > 0) {
                _this.gotSubscriptions = true;
            }
        });
    };
    PricingComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["n" /* Component */])({
            selector: 'app-pricing',
            template: __webpack_require__("./src/app/pricing/pricing.component.html")
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__subscriptions_subscriptions_service__["a" /* SubscriptionsService */],
            __WEBPACK_IMPORTED_MODULE_2__globals_service__["a" /* GlobalsService */]])
    ], PricingComponent);
    return PricingComponent;
}());



/***/ }),

/***/ "./src/app/pricing/pricing.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PricingModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common__ = __webpack_require__("./node_modules/@angular/common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__pricing_component__ = __webpack_require__("./src/app/pricing/pricing.component.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};



var PricingModule = /** @class */ (function () {
    function PricingModule() {
    }
    PricingModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["I" /* NgModule */])({
            imports: [
                __WEBPACK_IMPORTED_MODULE_1__angular_common__["b" /* CommonModule */]
            ],
            declarations: [__WEBPACK_IMPORTED_MODULE_2__pricing_component__["a" /* PricingComponent */]]
        })
    ], PricingModule);
    return PricingModule;
}());



/***/ }),

/***/ "./src/app/profile-drawer/profile-drawer.component.html":
/***/ (function(module, exports) {

module.exports = "<div id=\"profile-drawer\" *ngIf=\"visible\" @profileDrawerAnimation>\r\n  <div id=\"currProfileDetails\">\r\n    <div id=\"profilesLoading\" *ngIf=\"loading\">\r\n      <div class=\"spinner\">\r\n        <div class=\"bounce1\"></div>\r\n        <div class=\"bounce2\"></div>\r\n        <div class=\"bounce3\"></div>\r\n      </div>\r\n      <span style=\"font-size: 14px; text-align: center;\">{{globals.strings.SELECT_PROFILE_FETCHING}}</span>\r\n    </div>\r\n\r\n    <table class=\"profileDetailsTbl\">\r\n      <tr>\r\n        <td><img style=\"width: 76px; height: 76px;\" src=\"{{globals.currProfile?.profile_picture?.url || globals.currProfile?.avatar.url}}\"></td>\r\n        <td><span style=\"color: #fff; font-size: 18px; font-weight: bold;\">{{globals.currProfile?.name}}</span><br><span style=\"font-size: 12px;\">{{globals.currProfile?.email}}</span></td>\r\n      </tr>\r\n    </table>\r\n\r\n  </div>\r\n\r\n  <div id=\"addProfile\">\r\n    <a (click)=\"addProfile()\"><i id=\"addProfileIcon\" class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i><br/>\r\n    {{globals.strings?.ADD_PROFILE_TITLE}}\r\n    </a>\r\n  </div>\r\n\r\n\r\n  <div id=\"profilesList\">\r\n    <table class=\"profilesListTbl\">\r\n      <tr class=\"profilesListRow\" *ngFor=\"let profile of globals.userProfiles\" (click)=\"selectProfile(profile?.token)\">\r\n        <td class=\"profilesListAvatar\"><img class=\"avatarIcon\" src=\"{{profile?.avatar.url}}\"></td>\r\n        <td class=\"profilesListName\">{{profile?.name}}</td>\r\n        <td class=\"profilesListEditIcon\"><a [attr.data-profile-token]=\"profile?.token\" (click)=\"editProfile(profile?.token)\"><i class=\"fa fa-edit\"></i></a></td>\r\n        <td class=\"profilesListTrashIcon\"><a [attr.data-profile-token]=\"profile?.id\" (click)=\"deleteProfile(profile?.id)\"><i class=\"fa fa-trash-o\" aria-hidden=\"true\"></i></a></td>\r\n      </tr>\r\n    </table>\r\n  </div>\r\n\r\n  <div style=\"text-align: center\">\r\n    <button id=\"signOutBtn\" (click)=\"logout()\">{{globals.strings.SETTINGS_SCREEN_SIGN_OUT}}</button>\r\n  </div>\r\n\r\n</div>\r\n\r\n<div *ngIf=\"addModalVisible\" class=\"popup-container\">\r\n  <div class=\"popup-close\" (click)=\"isVisible=false\"></div>\r\n  <div class=\"popup-content\">\r\n    <div id=\"loginContent\">\r\n      <span class=\"close-button\" (click)=\"isVisible=false\"></span>\r\n\r\n      <form id=\"addProfileFrm\" (ngSubmit)=\"submit()\">\r\n        <div class=\"form-group\">\r\n          <label id=\"id1-AddProfLabel\" for=\"profileNameInp\">{{globals.strings.ADD_PROFILE_NAME_LABEL}}</label>\r\n          <input type=\"text\" class=\"form-control\" id=\"profileNameInp\" name=\"profileNameInp\"  aria-labelledby=\"id1-AddProfLabel\" aria-describedby=\"id1\" aria-required=\"true\"  [(ngModel)]=\"model.profileNameInp\" required>\r\n        </div>\r\n\r\n        <p>{{globals.strings.CREATE_PROFILE_UPLOAD_A_PIC}}</p>\r\n\r\n\r\n        <table>\r\n          <tr>\r\n            <td><img src=\"assets/ic-default-avatar.png\"></td>\r\n            <td>\r\n              <div class=\"form-group\">\r\n                <label id=\"id2-profAvatarFile\" class=\"btn btn-default btn-file\">\r\n                  <input type=\"file\" style=\"display: none;\" id=\"profileAvatarFile\" name=\"profileAvatarFile\"  aria-labelledby=\"id2-profAvatarFile\" aria-describedby=\"id2\" [(ngModel)]=\"model.profileAvatarFile\">\r\n                </label>\r\n              </div>\r\n            </td>\r\n            <td>{{globals.strings.GENERAL_OR}}</td>\r\n          </tr>\r\n        </table>\r\n\r\n        <div class=\"avatarRow\" *ngFor=\"let group of avatarsListGrouped; let i = index\">\r\n          <div class=\"avatarCol\" *ngFor=\"let avatar of avatarsListGrouped[i]\">\r\n            <img src=\"{{avatar.url}}\">\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"form-group\">\r\n          <button type=\"submit\" class=\"btn btn-success\">{{globals.strings.GENERAL_CREATE}}</button>\r\n        </div>\r\n      </form>\r\n\r\n      <div *ngIf=\"opMsgs!==null\" class=\"errorMsgs\" @fadeInAnimation>{{errorMsg}}</div>\r\n\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n"

/***/ }),

/***/ "./src/app/profile-drawer/profile-drawer.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ProfileDrawerComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__globals_service__ = __webpack_require__("./src/app/globals.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__profile_drawer_service__ = __webpack_require__("./src/app/profile-drawer/profile-drawer.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__animations_profile_drawer_animation__ = __webpack_require__("./src/app/_animations/profile-drawer.animation.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_sweetalert2__ = __webpack_require__("./node_modules/sweetalert2/dist/sweetalert2.all.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_sweetalert2___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_sweetalert2__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__angular_common_http__ = __webpack_require__("./node_modules/@angular/common/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__login_login_service__ = __webpack_require__("./src/app/login/login.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






 // For logout

var ProfileDrawerComponent = /** @class */ (function () {
    function ProfileDrawerComponent(profileDrawerService, loginService, globals, http, router) {
        this.profileDrawerService = profileDrawerService;
        this.loginService = loginService;
        this.globals = globals;
        this.http = http;
        this.router = router;
        this.visible = false; // Determines whether the profile drawer is opened or closed
        this.loading = false; // Show a spinner while the profiles are loading.
        this.addModalVisible = false; // Whether we show the add profile or not
        this.opMsgs = null; // For presenting success/error messages in the add profile modal
        this.maxAvatars = "12"; // Maximum number of avatar to fetch from the API
        this.groupBy = 4; // Modify this to show a different number per row
    }
    ProfileDrawerComponent.prototype.ngOnInit = function () {
        var _this = this;
        // Subscribe to the visibility status of the profile drawer
        this.profileDrawerService.visible.subscribe((function (value) {
            _this.visible = value;
            // If the drawer is opening start reading the profiles list
            if (_this.visible) {
                console.log("Loading Profiles...");
                _this.loadAllProfiles();
                // TODO: run a sliding animation to show the drawer
            }
            else {
                // TODO: run a sliding animation to hide the drawer
            }
        }));
        // Subscribe to the loading status of the profiles list
        this.profileDrawerService.loading.subscribe((function (value) {
            _this.loading = value;
        }));
        // Subscribe to the finished status of the logout process
        this.loginService.finishedLogout.subscribe(function (value) {
            _this.globals.userLoggedIn = false;
            _this.globals.accountToken = null;
            _this.globals.accountProfileToken = null;
            _this.globals.userProfiles = [];
            _this.globals.currProfile = null;
            // Finally hide the profile drawer
            _this.visible = false;
        });
    };
    /**
     * Read all the user's profiles into globals.userProfiles[]
     */
    ProfileDrawerComponent.prototype.loadAllProfiles = function () {
        this.profileDrawerService.readAllProfiles();
    };
    /**
     * Make the selected profile the current one
     * @param {string} token
     */
    ProfileDrawerComponent.prototype.selectProfile = function (token) {
        var _this = this;
        this.globals.accountProfileToken = token;
        this.globals.userProfiles.forEach(function (element) {
            if (element.token === token) {
                _this.globals.currProfile = element;
                _this.globals.currAvatar = element.avatar.url;
            }
        });
    };
    /**
     * Edit a profile with a given token
     * @param {string} token
     */
    ProfileDrawerComponent.prototype.editProfile = function (token) {
        console.log("Editing profile with token [" + token + "]");
        this.profileDrawerService.readProfileDetails(token);
        // TODO: this should call a modal for modifying the profile's info
    };
    /**
     * Add a profile
     * @Notes: check if we haven't reached the maximum amount of allowed profiles...
     */
    ProfileDrawerComponent.prototype.addProfile = function () {
        var maxProfiles = this.globals.settings.profiles_limit;
        /*
        if (this.globals.userProfiles.length < maxProfiles) {
          this.loadAvatars();
    
         this.addModalVisible = true;
        }
        else {
          swal({
              type: 'warning',
              html:'<span style="color: #fff;">'+this.globals.strings.CREATE_PROFILE_MAX_NUMBER_MSG+'</span>',
              background: '#2a292a'
            }
          );
          return;
        }
        */
    };
    /**
     * delete a profile with a given id
     * @param {string} id
     */
    ProfileDrawerComponent.prototype.deleteProfile = function (id) {
        var _this = this;
        __WEBPACK_IMPORTED_MODULE_4_sweetalert2___default()({
            title: '<span style="color: #fff;">' + this.globals.strings.EDIT_PROFILE_SURE_DELETE + '</span>',
            type: 'warning',
            showCancelButton: true,
            confirmButtonText: this.globals.strings.GENERAL_YES,
            cancelButtonText: this.globals.strings.GENERAL_NO,
            background: '#2a292a'
        }).then(function (result) {
            if (result.value) {
                _this.profileDrawerService.deleteProfile(id);
            }
        });
    };
    /**
     * GET the available profile avatars images
     */
    ProfileDrawerComponent.prototype.loadAvatars = function () {
        var _this = this;
        var params = new __WEBPACK_IMPORTED_MODULE_5__angular_common_http__["d" /* HttpParams */]()
            .set('limit', this.maxAvatars)
            .set('page', '1')
            .set('device_type', 'web');
        this.http.get(this.globals.endpoints.profileAvatars, { params: params })
            .toPromise()
            .then(function (res) {
            _this.globals.profileAvatars = res.data;
            // Group the list of avatar images by 4 so they fit nicely on a 4x4 table
            for (var i = 1; i < parseInt(_this.maxAvatars); i = i + _this.groupBy) {
                var group = _this.globals.profileAvatars.slice(i, i + _this.groupBy);
                _this.avatarsListGrouped.push(group);
            }
        })
            .catch(function (error) {
            console.error(error);
        });
    };
    /**
     * Sign out the current user
     */
    ProfileDrawerComponent.prototype.logout = function () {
        this.loginService.logout();
        // Since we might be in some logged in-content-only area ... just navigate to Home :P
        this.router.navigate(['']);
    };
    ProfileDrawerComponent.prototype.ngOnDestroy = function () {
        /*// unsubscribe to ensure no memory leaks
        this.profileDrawerService.visible.unsubscribe();
        this.profileDrawerService.loading.unsubscribe();*/
    };
    ProfileDrawerComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["n" /* Component */])({
            selector: 'profile-drawer',
            template: __webpack_require__("./src/app/profile-drawer/profile-drawer.component.html"),
            animations: [__WEBPACK_IMPORTED_MODULE_3__animations_profile_drawer_animation__["a" /* profileDrawerAnimation */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__profile_drawer_service__["a" /* ProfileDrawerService */],
            __WEBPACK_IMPORTED_MODULE_6__login_login_service__["a" /* LoginService */],
            __WEBPACK_IMPORTED_MODULE_1__globals_service__["a" /* GlobalsService */],
            __WEBPACK_IMPORTED_MODULE_5__angular_common_http__["a" /* HttpClient */],
            __WEBPACK_IMPORTED_MODULE_7__angular_router__["f" /* Router */]])
    ], ProfileDrawerComponent);
    return ProfileDrawerComponent;
}());



/***/ }),

/***/ "./src/app/profile-drawer/profile-drawer.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ProfileDrawerModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common__ = __webpack_require__("./node_modules/@angular/common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__profile_drawer_component__ = __webpack_require__("./src/app/profile-drawer/profile-drawer.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__profile_drawer_service__ = __webpack_require__("./src/app/profile-drawer/profile-drawer.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};





var ProfileDrawerModule = /** @class */ (function () {
    function ProfileDrawerModule() {
    }
    ProfileDrawerModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["I" /* NgModule */])({
            imports: [
                __WEBPACK_IMPORTED_MODULE_1__angular_common__["b" /* CommonModule */],
                __WEBPACK_IMPORTED_MODULE_4__angular_forms__["a" /* FormsModule */]
            ],
            exports: [
                __WEBPACK_IMPORTED_MODULE_2__profile_drawer_component__["a" /* ProfileDrawerComponent */]
            ],
            declarations: [__WEBPACK_IMPORTED_MODULE_2__profile_drawer_component__["a" /* ProfileDrawerComponent */]],
            providers: [
                __WEBPACK_IMPORTED_MODULE_3__profile_drawer_service__["a" /* ProfileDrawerService */],
                __WEBPACK_IMPORTED_MODULE_2__profile_drawer_component__["a" /* ProfileDrawerComponent */]
            ]
        })
    ], ProfileDrawerModule);
    return ProfileDrawerModule;
}());



/***/ }),

/***/ "./src/app/profile-drawer/profile-drawer.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ProfileDrawerService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__globals_service__ = __webpack_require__("./src/app/globals.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_common_http__ = __webpack_require__("./node_modules/@angular/common/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_add_operator_map__ = __webpack_require__("./node_modules/rxjs/_esm5/add/operator/map.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_BehaviorSubject__ = __webpack_require__("./node_modules/rxjs/_esm5/BehaviorSubject.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_sweetalert2__ = __webpack_require__("./node_modules/sweetalert2/dist/sweetalert2.all.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_sweetalert2___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_sweetalert2__);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var ProfileDrawerService = /** @class */ (function () {
    function ProfileDrawerService(globals, http) {
        this.globals = globals;
        this.http = http;
        // Subjects available to all subscribers
        // @Notes: BehaviourSubject was chosen because of the availability of the method getValue() ;)
        this.visible = new __WEBPACK_IMPORTED_MODULE_4_rxjs_BehaviorSubject__["a" /* BehaviorSubject */](false);
        this.loading = new __WEBPACK_IMPORTED_MODULE_4_rxjs_BehaviorSubject__["a" /* BehaviorSubject */](false);
    }
    /**
     * Toggle the visibility of the profiles drawer, by emitting a new value to all subscribers
     */
    ProfileDrawerService.prototype.toggle = function () {
        this.visible.next(!this.visible.getValue());
    };
    /**
     * Get all the profiles for a user account
     */
    ProfileDrawerService.prototype.readAllProfiles = function () {
        var _this = this;
        // Emit a loading profiles status to all subscribers
        this.loading.next(true);
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_common_http__["c" /* HttpHeaders */]()
            .set('Accept-Language', this.globals.settings.default_language)
            .set('Authorization', 'Bearer ' + this.globals.authToken);
        var params = new __WEBPACK_IMPORTED_MODULE_2__angular_common_http__["d" /* HttpParams */]()
            .set('device_type', 'web');
        var endpoint = this.globals.endpoints.profiles.replace('{account_token}', this.globals.accountToken);
        this.http.get(endpoint, { headers: headers, params: params })
            .toPromise()
            .then(function (res) {
            _this.globals.userProfiles = res.data;
            _this.loading.next(false);
        })
            .catch(function (error) {
            console.error(error);
            this.loading.next(false);
        });
    };
    /**
     * Read the details for a given profile token and make it the current profile in the globals section
     * @param {string} token
     */
    ProfileDrawerService.prototype.readProfileDetails = function (token) {
        var _this = this;
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_common_http__["c" /* HttpHeaders */]()
            .set('Authorization', 'bearer ' + this.globals.authToken);
        var params = new __WEBPACK_IMPORTED_MODULE_2__angular_common_http__["d" /* HttpParams */]()
            .set('device_type', 'web');
        this.http.get(this.globals.endpoints.profile + token, { headers: headers, params: params })
            .toPromise()
            .then(function (res) {
            console.log("Profile init()");
            _this.globals.currProfile = res.data;
        })
            .catch(function (error) {
            console.error(error);
        });
    };
    /**
     * Create or update a profile
     * @param {Profile} newProfile
     * @returns {Observable<any>}
     */
    // TODO: NOT WORKING YET. REWRITE THIS CODE!
    ProfileDrawerService.prototype.createUpdateProfile = function (profile) {
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_common_http__["c" /* HttpHeaders */]()
            .set('Accept-Language', this.globals.settings.default_language)
            .set('Authorization', 'Bearer ' + this.globals.authToken);
        return this.http.post(this.globals.endpoints.profiles, JSON.stringify(profile.toJS()), { headers: headers });
    };
    /**
     * Delete a profile
     * @param {id} string
     */
    ProfileDrawerService.prototype.deleteProfile = function (id) {
        var _this = this;
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_common_http__["c" /* HttpHeaders */]()
            .set('Accept-Language', this.globals.settings.default_language)
            .set('Authorization', 'Bearer ' + this.globals.authToken);
        var params = new __WEBPACK_IMPORTED_MODULE_2__angular_common_http__["d" /* HttpParams */]()
            .set('profile_id', id)
            .set('device_type', 'web');
        var endpoint = this.globals.endpoints.profiles.replace('{account_token}', this.globals.accountToken);
        this.http.delete(endpoint, { headers: headers, params: params })
            .toPromise()
            .then(function (res) {
            __WEBPACK_IMPORTED_MODULE_5_sweetalert2___default()({
                type: 'success',
                background: '#2a292a',
                html: '<span style="color: #fff;">' + res.data.description + '</span>'
            });
            // Update the list of profiles
            _this.readAllProfiles();
        })
            .catch(function (error) {
            console.error(error);
            __WEBPACK_IMPORTED_MODULE_5_sweetalert2___default()({
                type: 'error',
                html: '<span style="color: #fff;">' + error.description + '</span>',
                background: '#2a292a'
            });
        });
    };
    ProfileDrawerService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["A" /* Injectable */])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__globals_service__["a" /* GlobalsService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_common_http__["a" /* HttpClient */]])
    ], ProfileDrawerService);
    return ProfileDrawerService;
}());



/***/ }),

/***/ "./src/app/recover-pin/recover-pin-popup.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return RecoverPinPopupService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_rxjs_Rx__ = __webpack_require__("./node_modules/rxjs/_esm5/Rx.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var RecoverPinPopupService = /** @class */ (function () {
    function RecoverPinPopupService() {
        this.show = new __WEBPACK_IMPORTED_MODULE_1_rxjs_Rx__["a" /* Subject */]();
    }
    RecoverPinPopupService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["A" /* Injectable */])(),
        __metadata("design:paramtypes", [])
    ], RecoverPinPopupService);
    return RecoverPinPopupService;
}());



/***/ }),

/***/ "./src/app/recover-pin/recover-pin.component.html":
/***/ (function(module, exports) {

module.exports = "<div *ngIf=\"isVisible\" class=\"popup-container\">\r\n  <div class=\"popup-close\" (click)=\"isVisible=false\"></div>\r\n  <div class=\"popup-content\">\r\n    <div>\r\n      <span class=\"close-button\" (click)=\"isVisible=false\"></span>\r\n      <div style=\"text-align:center;\">\r\n        <p>{{globals.strings.SCREEN_RECOVER_PIN}}</p>\r\n        <p>{{globals.strings.INFO_PIN_RECOVER}}</p>\r\n        <button (click)=\"hidePopup();\">{{globals.strings.BUTTON_CANCEL}}</button>\r\n        <button (click)=\"sendEmail();\">{{globals.strings.BUTTON_CONFIRM}}</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/recover-pin/recover-pin.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return RecoverPinComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__globals_service__ = __webpack_require__("./src/app/globals.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_common_http__ = __webpack_require__("./node_modules/@angular/common/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__recover_pin_popup_service__ = __webpack_require__("./src/app/recover-pin/recover-pin-popup.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var RecoverPinComponent = /** @class */ (function () {
    function RecoverPinComponent(globals, popup, http) {
        var _this = this;
        this.globals = globals;
        this.popup = popup;
        this.http = http;
        this.isVisible = false;
        popup.show.subscribe(function (val) { return _this.showPopup(); });
    }
    RecoverPinComponent.prototype.ngOnInit = function () {
    };
    RecoverPinComponent.prototype.showPopup = function () {
        this.isVisible = true;
    };
    RecoverPinComponent.prototype.hidePopup = function () {
        this.isVisible = false;
    };
    RecoverPinComponent.prototype.sendEmail = function () {
        /*
        let path = this.globals.endpoints.recoverParentalPin;
        path = path.replace('{account_token}', this.globals.accountToken);
    
        const headers = new HttpHeaders()
          .set('Accept-Language', this.globals.settings.default_language)
          .set('Authorization', this.globals.settings.authToken);
    
        const params = new HttpParams()
          .set('device_type', 'web');
    
        this.http.put(path, {headers: headers, params: params})
          .toPromise()
          .then()
          .catch(err => console.error(err));
    */
        alert('Code to send email is commented! Waiting for server development');
        this.hidePopup();
    };
    RecoverPinComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["n" /* Component */])({
            selector: 'app-recover-pin',
            template: __webpack_require__("./src/app/recover-pin/recover-pin.component.html")
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__globals_service__["a" /* GlobalsService */],
            __WEBPACK_IMPORTED_MODULE_3__recover_pin_popup_service__["a" /* RecoverPinPopupService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_common_http__["a" /* HttpClient */]])
    ], RecoverPinComponent);
    return RecoverPinComponent;
}());



/***/ }),

/***/ "./src/app/recover-pin/recover-pin.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return RecoverPinModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common__ = __webpack_require__("./node_modules/@angular/common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__recover_pin_component__ = __webpack_require__("./src/app/recover-pin/recover-pin.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__recover_pin_popup_service__ = __webpack_require__("./src/app/recover-pin/recover-pin-popup.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};




var RecoverPinModule = /** @class */ (function () {
    function RecoverPinModule() {
    }
    RecoverPinModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["I" /* NgModule */])({
            imports: [
                __WEBPACK_IMPORTED_MODULE_1__angular_common__["b" /* CommonModule */]
            ],
            declarations: [__WEBPACK_IMPORTED_MODULE_2__recover_pin_component__["a" /* RecoverPinComponent */]],
            providers: [__WEBPACK_IMPORTED_MODULE_3__recover_pin_popup_service__["a" /* RecoverPinPopupService */]],
            exports: [__WEBPACK_IMPORTED_MODULE_2__recover_pin_component__["a" /* RecoverPinComponent */]]
        })
    ], RecoverPinModule);
    return RecoverPinModule;
}());



/***/ }),

/***/ "./src/app/register/register-popup.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return RegisterPopupService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_rxjs_Rx__ = __webpack_require__("./node_modules/rxjs/_esm5/Rx.js");

var RegisterPopupService = /** @class */ (function () {
    function RegisterPopupService() {
        this.show = new __WEBPACK_IMPORTED_MODULE_0_rxjs_Rx__["a" /* Subject */]();
    }
    return RegisterPopupService;
}());



/***/ }),

/***/ "./src/app/register/register.component.html":
/***/ (function(module, exports) {

module.exports = "<div *ngIf=\"isVisible\" class=\"popup-container\">\r\n  <div class=\"popup-close\" (click)=\"isVisible=false\"></div>\r\n  <div class=\"popup-content\">\r\n    <span class=\"close-button\" (click)=\"isVisible=false\"></span>\r\n    <div id=\"registerContent\">\r\n      <p id=\"title\">{{globals.strings.REGISTER_SCREEN_TITLE_WEBSITE}}</p>\r\n      <form id=\"registerFrm\" #registerFrm=\"ngForm\">\r\n        <div class=\"inputRow\">\r\n          <label id=\"id10-RegisterEmail\"for=\"register_email\">{{globals.strings.EMAIL_PLACEHOLDER}}</label>\r\n          <input type=\"email\" id=\"register_email\" name=\"email\" aria-labelledby=\"id10-RegisterEmail\" aria-describedby=\"id10\" aria-required=\"true\" [(ngModel)]=\"userEmail\" required>\r\n        </div>\r\n        <div class=\"inputRow\" id=\"registerPassword\">\r\n          <label id=\"id11-showPassword\" for=\"register_password\">{{globals.strings.LOGIN_SCREEN_PASSWORD}}</label>\r\n          <span class=\"fa\" [ngClass]=\"{'fa-eye-slash': showPassword, 'fa-eye': !showPassword}\" (click)=\"toggleEye()\"></span>\r\n          <input type=\"{{showPassword ? 'text' : 'password'}}\" name=\"register_password\" id=\"register_password\" aria-labelledby=\"id11-showPassword\" aria-describedby=\"id11\" aria-required=\"true\" [(ngModel)]=\"userPassword\" required>\r\n        </div>\r\n        <div class=\"inputRow\">\r\n          <label id=\"id12-userFirstName\" for=\"register_name\">{{globals.strings.REGISTER_SCREEN_FIRST_NAME}}</label>\r\n          <input type=\"text\" name=\"register_name\" id=\"register_name\" aria-labelledby=\"id12-userFirstName\" aria-describedby=\"id12\" [(ngModel)]=\"userFirstName\">\r\n        </div>\r\n        <div class=\"inputRow\">\r\n          <label id=\"id13-userLastName\" for=\"register_surname\">{{globals.strings.REGISTER_SCREEN_LAST_NAME}}</label>\r\n          <input type=\"text\" name=\"register_surname\" id=\"register_surname\" aria-labelledby=\"id13-userLastName\" aria-describedby=\"id13\" [(ngModel)]=\"userLastName\">\r\n        </div>\r\n        <div class=\"inputRow\">\r\n          <label id=\"id14-userMobile\" for=\"register_phone\">{{globals.strings.REGISTER_SCREEN_MOBILE_PHONE}}</label>\r\n          <input type=\"text\" name=\"register_phone\" id=\"register_phone\" aria-labelledby=\"id14-userMobile\" aria-describedby=\"id14\" [(ngModel)]=\"userMobile\">\r\n        </div>\r\n        <div class=\"inputRow\">\r\n          <label id=\"id15-userAddress\" for=\"register_address\">{{globals.strings.REGISTER_SCREEN_ADDRESS}}</label>\r\n          <input type=\"text\" name=\"register_address\" id=\"register_address\" aria-labelledby=\"id15-userAddress\" aria-describedby=\"id15\" [(ngModel)]=\"userAddress\">\r\n        </div>\r\n\r\n        <div class=\"inputRow\">\r\n          <label id=\"id16-userZipcode\" for=\"register_postcode\">{{globals.strings.REGISTER_SCREEN_ZIP_CODE}}</label>\r\n          <input type=\"text\" name=\"register_postcode\" id=\"register_postcode\" aria-labelledby=\"id16-userZipcode\" aria-describedby=\"id16\" [(ngModel)]=\"userZipCode\">\r\n        </div>\r\n\r\n        <div class=\"inputRow\">\r\n          <label id=\"id17-agreeTAC\" for=\"agreeTAC\"><input type=\"checkbox\" name=\"agreeTAC\" id=\"agreeTAC\" aria-labelledby=\"id17-agreeTAC\" aria-describedby=\"id17\"><span>{{globals.strings.REGISTER_SCREEN_AGREE_T_C}}</span></label>\r\n        </div>\r\n\r\n        <div class=\"inputRow\">\r\n          <p style=\"text-align: center;\">\r\n          <button id=\"signUpBtn\" (click)=\"onSubmit()\" [disabled]=\"!registerFrm.form.valid\">{{globals.strings.REGISTER_SCREEN_SIGN_UP}}</button>\r\n          </p>\r\n        </div>\r\n\r\n      </form>\r\n\r\n      <p style=\"text-align: center;\">\r\n        <a id=\"visitLoremIpsum\" href=\"#\">&#191;Visit www.LOREMIPSUM.com?</a>\r\n      </p>\r\n\r\n\r\n    </div>\r\n  </div>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/register/register.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return RegisterComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__globals_service__ = __webpack_require__("./src/app/globals.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__register_popup_service__ = __webpack_require__("./src/app/register/register-popup.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__register_service__ = __webpack_require__("./src/app/register/register.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_sweetalert2__ = __webpack_require__("./node_modules/sweetalert2/dist/sweetalert2.all.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_sweetalert2___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_sweetalert2__);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var RegisterComponent = /** @class */ (function () {
    function RegisterComponent(globals, popup, service) {
        var _this = this;
        this.globals = globals;
        this.popup = popup;
        this.service = service;
        this.isVisible = false;
        this.showPassword = false;
        popup.show.subscribe(function (val) { return _this.showPopup(); });
    }
    RegisterComponent.prototype.ngOnInit = function () {
        var _this = this;
        // Subscribe to the service's response for registering a new user
        this.service.registerResponse.subscribe(function (val) {
            _this.isVisible = false;
            if (val.code === '200' || val.success === 1) {
                // show success modal
                __WEBPACK_IMPORTED_MODULE_4_sweetalert2___default()({
                    type: 'success',
                    title: '<span style="color: #fff;" class="title">' + _this.globals.strings.GENERIC_SUCCESS + '</span>',
                    html: '<span style="color: #fff;">' + _this.globals.strings.REGISTER_SCREEN_REGISTRATION_SUCCESSFUL + '</span>',
                    background: '#2a292a'
                });
            }
            else {
                // show error modal
                __WEBPACK_IMPORTED_MODULE_4_sweetalert2___default()({
                    type: 'error',
                    title: '<span style="color: #fff;" class="title">' + _this.globals.strings.GENERAL_ERROR + '</span>',
                    html: '<span style="color: #fff;">' + val.error.description + '</span>',
                    background: '#2a292a'
                });
            }
        });
    };
    RegisterComponent.prototype.showPopup = function () {
        this.isVisible = true;
    };
    RegisterComponent.prototype.toggleEye = function () {
        this.showPassword = !this.showPassword;
    };
    /**
     * handle submission of a new user
     */
    RegisterComponent.prototype.onSubmit = function () {
        // Remember to set this.isVisible to false on success (also redirect to home)
        // Subscribe to this above .... :P
        this.service.registerNewUser(this.userEmail, this.userPassword, this.userFirstName, this.userLastName, this.userMobile, this.userAddress, this.userZipCode);
    };
    RegisterComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["n" /* Component */])({
            selector: 'app-register',
            template: __webpack_require__("./src/app/register/register.component.html")
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__globals_service__["a" /* GlobalsService */],
            __WEBPACK_IMPORTED_MODULE_2__register_popup_service__["a" /* RegisterPopupService */],
            __WEBPACK_IMPORTED_MODULE_3__register_service__["a" /* RegisterService */]])
    ], RegisterComponent);
    return RegisterComponent;
}());



/***/ }),

/***/ "./src/app/register/register.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return RegisterModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common__ = __webpack_require__("./node_modules/@angular/common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__register_component__ = __webpack_require__("./src/app/register/register.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__register_service__ = __webpack_require__("./src/app/register/register.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};






var RegisterModule = /** @class */ (function () {
    function RegisterModule() {
    }
    RegisterModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["I" /* NgModule */])({
            imports: [
                __WEBPACK_IMPORTED_MODULE_1__angular_common__["b" /* CommonModule */],
                __WEBPACK_IMPORTED_MODULE_4__angular_router__["g" /* RouterModule */],
                __WEBPACK_IMPORTED_MODULE_5__angular_forms__["a" /* FormsModule */]
            ],
            declarations: [
                __WEBPACK_IMPORTED_MODULE_2__register_component__["a" /* RegisterComponent */]
            ],
            exports: [
                __WEBPACK_IMPORTED_MODULE_2__register_component__["a" /* RegisterComponent */]
            ],
            providers: [
                __WEBPACK_IMPORTED_MODULE_3__register_service__["a" /* RegisterService */]
            ]
        })
    ], RegisterModule);
    return RegisterModule;
}());



/***/ }),

/***/ "./src/app/register/register.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return RegisterService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__globals_service__ = __webpack_require__("./src/app/globals.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_common_http__ = __webpack_require__("./node_modules/@angular/common/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_Subject__ = __webpack_require__("./node_modules/rxjs/_esm5/Subject.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var RegisterService = /** @class */ (function () {
    function RegisterService(http, globals) {
        this.http = http;
        this.globals = globals;
        this.registerResponse = new __WEBPACK_IMPORTED_MODULE_3_rxjs_Subject__["b" /* Subject */]();
    }
    /**
     * Register a new user
     * @param {string} userEmail
     * @param {string} userPassword
     * @param {string} userFirstName
     * @param {string} userLastName
     * @param {string} userMobile
     * @param {string} userAddress
     * @param {string} userZipCode
     */
    RegisterService.prototype.registerNewUser = function (userEmail, userPassword, userFirstName, userLastName, userMobile, userAddress, userZipCode) {
        var _this = this;
        // check if a DUID is already in local storage. If not generate a new one and store it.
        var duid = localStorage.getItem(this.globals.localStorageKeyPrefix + 'DUID');
        if (duid === '' || duid === null) {
            duid = this.generateDUID();
            localStorage.setItem(this.globals.localStorageKeyPrefix + 'DUID', duid);
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_common_http__["c" /* HttpHeaders */]()
            .set('Accept-Language', this.globals.settings.default_language);
        var params = new __WEBPACK_IMPORTED_MODULE_2__angular_common_http__["d" /* HttpParams */]()
            .set('device_type', 'web')
            .set('duid', duid);
        var body = {
            email: userEmail,
            password: userPassword,
            name: userFirstName + ' ' + userLastName,
            image: '',
            mobile_number: userMobile,
            address: userAddress,
            post_code: userZipCode,
            country: '',
            gender: '',
            birth_date: '' // ditto as above
        };
        this.http.post(this.globals.endpoints.register, body, { headers: headers, params: params })
            .toPromise()
            .then(function (res) {
            _this.registerResponse.next(res);
        })
            .catch(function (error) {
            _this.registerResponse.next(error);
        });
    };
    /**
     * Generate Device Unique Id
     * @returns {string} - '00000000-0000-0000-0000-000000000000'
     */
    RegisterService.prototype.generateDUID = function () {
        function _p8(s) {
            var p = (Math.random().toString(16) + "000000000").substr(2, 8);
            return s ? "-" + p.substr(0, 4) + "-" + p.substr(4, 4) : p;
        }
        return _p8(false) + _p8(true) + _p8(true) + _p8(false);
    };
    RegisterService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["A" /* Injectable */])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__angular_common_http__["a" /* HttpClient */],
            __WEBPACK_IMPORTED_MODULE_1__globals_service__["a" /* GlobalsService */]])
    ], RegisterService);
    return RegisterService;
}());



/***/ }),

/***/ "./src/app/screen/screen.component.html":
/***/ (function(module, exports) {

module.exports = "<!-- BLOCKS -->\r\n<div id=\"menuTitle\">{{globals.pageTitle}}</div>\r\n<div *ngFor=\"let block of data?.screen.blocks\" class=\"block-container\">\r\n  <!-- BUTTONS FOR FILTERING ON TAB BLOCKS -->\r\n  <div class=\"tab-container\" *ngIf=\"block.block_type=='tab'\">  <!-- removed && globals.tvcableGroup_asset_types!=0 -->\r\n    <div *ngFor=\"let playlist of block.widgets; let i = index\"\r\n         [attr.data-index]=\"i\"\r\n         (click)=\"filter(block, i)\"\r\n         class=\"tab\"\r\n         [class.selected]=\"i==block.selected\">\r\n      {{playlist.playlist.name}}\r\n    </div>\r\n    <div class=\"tab\"></div>\r\n  </div>\r\n\r\n  <!-- BUTTONS FOR FILTERING ON COMBO BLOCKS -->\r\n  <div *ngIf=\"block.block_type=='combobox'\" class=\"combo-box-container\">\r\n    <select (change)=\"filter(block, $event.target.value)\">\r\n      <option value={{i}} *ngFor=\"let playlist of block.widgets; let i = index\" [attr.data-index]=\"i\"\r\n              (click)=\"filter(block, i)\">\r\n        {{playlist.playlist.name}}\r\n      </option>\r\n    </select>\r\n  </div>\r\n\r\n  <!-- LAYOUTS -->\r\n  <div *ngFor=\"let widget of block.widgets; let i = index\" [attr.data-index]=\"i\"\r\n       class=\"layout-container\">\r\n    <div *ngIf=\"i==block.selected || block.selected===true\">\r\n\r\n      <div class=\"category-title\"\r\n           [class.align-content-right]=\"block.block_type =='tab' || block.block_type=='combo'\">\r\n        <h3 *ngIf=\"block.block_type !='tab' && block.block_type!='combo'\">{{widget.playlist.name}}</h3>\r\n        <button class=\"view-all-button\"\r\n                *ngIf=\"widget.layout.view_all_position == 'first' || widget.layout.view_all_position=='top'\"\r\n                (click)=\"viewAll(widget.playlist.slug)\">View all</button>\r\n      </div>\r\n      <app-carousel [data]=\"widget\"\r\n                    *ngIf=\"widget.layout.layout_type.indexOf('carousel') > -1\"></app-carousel>\r\n\r\n      <app-listing [data]=\"widget\"\r\n                   *ngIf=\"widget.layout.layout_type=='grid'\"></app-listing>\r\n\r\n      <div class=\"category-title align-content-right\">\r\n        <button\r\n          *ngIf=\"widget.layout.view_all_position == 'last' || widget.layout.view_all_position=='bottom'\"\r\n          (click)=\"viewAll(widget.playlist.slug)\">View all</button>\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/screen/screen.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ScreenComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__globals_service__ = __webpack_require__("./src/app/globals.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__loading_loading_service__ = __webpack_require__("./src/app/loading/loading.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var ScreenComponent = /** @class */ (function () {
    function ScreenComponent(router, globals, loading) {
        this.router = router;
        this.globals = globals;
        this.loading = loading;
    }
    ScreenComponent.prototype.ngOnChanges = function () {
        this.loading.set(false);
    };
    ScreenComponent.prototype.viewAll = function (id) {
        this.router.navigate(['playlist', id]);
    };
    ScreenComponent.prototype.filter = function (block, index) {
        block.selected = index;
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["D" /* Input */])(),
        __metadata("design:type", Object)
    ], ScreenComponent.prototype, "data", void 0);
    ScreenComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["n" /* Component */])({
            selector: 'app-screen',
            template: __webpack_require__("./src/app/screen/screen.component.html")
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_router__["f" /* Router */],
            __WEBPACK_IMPORTED_MODULE_2__globals_service__["a" /* GlobalsService */],
            __WEBPACK_IMPORTED_MODULE_3__loading_loading_service__["a" /* LoadingService */]])
    ], ScreenComponent);
    return ScreenComponent;
}());



/***/ }),

/***/ "./src/app/screen/screen.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ScreenModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common__ = __webpack_require__("./node_modules/@angular/common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__screen_component__ = __webpack_require__("./src/app/screen/screen.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__screen_service__ = __webpack_require__("./src/app/screen/screen.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__carousel_carousel_module__ = __webpack_require__("./src/app/carousel/carousel.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__listing_listing_module__ = __webpack_require__("./src/app/listing/listing.module.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};






var ScreenModule = /** @class */ (function () {
    function ScreenModule() {
    }
    ScreenModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["I" /* NgModule */])({
            imports: [
                __WEBPACK_IMPORTED_MODULE_1__angular_common__["b" /* CommonModule */],
                __WEBPACK_IMPORTED_MODULE_4__carousel_carousel_module__["a" /* CarouselModule */],
                __WEBPACK_IMPORTED_MODULE_5__listing_listing_module__["a" /* ListingModule */],
            ],
            declarations: [
                __WEBPACK_IMPORTED_MODULE_2__screen_component__["a" /* ScreenComponent */]
            ],
            exports: [
                __WEBPACK_IMPORTED_MODULE_2__screen_component__["a" /* ScreenComponent */]
            ],
            providers: [
                __WEBPACK_IMPORTED_MODULE_3__screen_service__["a" /* ScreenService */]
            ]
        })
    ], ScreenModule);
    return ScreenModule;
}());



/***/ }),

/***/ "./src/app/screen/screen.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ScreenService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("./node_modules/@angular/http/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__globals_service__ = __webpack_require__("./src/app/globals.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_Observable__ = __webpack_require__("./node_modules/rxjs/_esm5/Observable.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_add_operator_catch__ = __webpack_require__("./node_modules/rxjs/_esm5/add/operator/catch.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_add_operator_map__ = __webpack_require__("./node_modules/rxjs/_esm5/add/operator/map.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var ScreenService = /** @class */ (function () {
    function ScreenService(http, globals) {
        this.http = http;
        this.globals = globals;
    }
    ScreenService.prototype.extractData = function (res) {
        var body = res.json();
        if (body) {
            return body.data || body;
        }
        else {
            return {};
        }
    };
    ScreenService.prototype.handleError = function (error) {
        var errMsg = (error.message) ? error.message :
            error.status ? error.status + " - " + error.statusText : 'Server error';
        console.error(errMsg);
        return __WEBPACK_IMPORTED_MODULE_3_rxjs_Observable__["a" /* Observable */].throw(errMsg);
    };
    ScreenService.prototype.getScreenById = function (term) {
        return this.http
            .get(this.globals.API + ("menus/" + this.globals.menuId + "/option/" + term + "?device_type=web&device_layout=web"))
            .map(this.extractData)
            .catch(this.handleError);
    };
    ScreenService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["A" /* Injectable */])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Http */],
            __WEBPACK_IMPORTED_MODULE_2__globals_service__["a" /* GlobalsService */]])
    ], ScreenService);
    return ScreenService;
}());



/***/ }),

/***/ "./src/app/search/search.component.html":
/***/ (function(module, exports) {

module.exports = "<!-- BLOCKS -->\r\n<div *ngFor=\"let block of data?.screen.blocks\" class=\"block-container\">\r\n\r\n    <!-- BUTTONS FOR FILTERING ON TAB BLOCKS -->\r\n    <!--\r\n    <div class=\"tab-container\" *ngIf=\"block.block_type=='tab' > removed && globals.tvcableGroup_asset_types!=0\r\n      <div *ngFor=\"let playlist of block.widgets; let i = index\"\r\n           [attr.data-index]=\"i\"\r\n           (click)=\"filter(block, i)\"\r\n           class=\"tab\"\r\n           [class.selected]=\"i==block.selected\">\r\n        {{playlist.playlist.name}}\r\n      </div>\r\n      <div class=\"tab\"></div>\r\n    </div>\r\n    -->\r\n\r\n    <!-- BUTTONS FOR FILTERING ON COMBO BLOCKS -->\r\n    <!--\r\n    <div *ngIf=\"block.block_type=='combobox'\" class=\"combo-box-container\">\r\n      <select (change)=\"filter(block, $event.target.value)\">\r\n        <option value={{i}} *ngFor=\"let playlist of block.widgets; let i = index\" [attr.data-index]=\"i\"\r\n                (click)=\"filter(block, i)\">\r\n          {{playlist.playlist.name}}\r\n        </option>\r\n      </select>\r\n    </div>\r\n    -->\r\n\r\n    <!-- LAYOUTS -->\r\n    <div *ngFor=\"let widget of block.widgets; let i = index\" [attr.data-index]=\"i\"\r\n         class=\"layout-container\">\r\n      <div> <!-- <div *ngIf=\"i==block.selected || block.selected===true\">  -->\r\n        <div class=\"category-title\"\r\n             [class.align-content-right]=\"block.block_type =='tab' || block.block_type=='combo'\">\r\n          <h3 *ngIf=\"block.block_type !='tab' && block.block_type!='combo'\">{{widget.playlist.name}}</h3>\r\n          <button class=\"view-all-button\"\r\n                  *ngIf=\"widget.layout.view_all_position == 'first' || widget.layout.view_all_position=='top'\"\r\n                  (click)=\"viewAll(widget.playlist.slug)\">View all</button>\r\n        </div>\r\n\r\n        <app-carousel [data]=\"widget\"\r\n                      *ngIf=\"widget.layout.layout_type.indexOf('carousel') > -1\"></app-carousel>\r\n\r\n        <app-listing [data]=\"widget\"\r\n                     *ngIf=\"widget.layout.layout_type=='grid'\"></app-listing>\r\n\r\n        <div class=\"category-title align-content-right\">\r\n          <button\r\n            *ngIf=\"widget.layout.view_all_position == 'last' || widget.layout.view_all_position=='bottom'\"\r\n            (click)=\"viewAll(widget.playlist.slug)\">View all</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div *ngIf=\"showNumb == 0\" class=\"vspacer\"><p>{{globals.strings.SEARCH_SCREEN_NO_RESULTS_FOR}}</p></div>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/search/search.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SearchComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__search_service__ = __webpack_require__("./src/app/search/search.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__globals_service__ = __webpack_require__("./src/app/globals.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__loading_loading_service__ = __webpack_require__("./src/app/loading/loading.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


// import {Search} from '../models/search';



var SearchComponent = /** @class */ (function () {
    function SearchComponent(service, route, globals, loading, router) {
        this.service = service;
        this.route = route;
        this.globals = globals;
        this.loading = loading;
        this.router = router;
        this.showNumb = 0;
    }
    SearchComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.route.params
            .subscribe(function (params) {
            _this.getSearch(_this.route.snapshot.params['query']);
        });
    };
    SearchComponent.prototype.getSearch = function (query) {
        var _this = this;
        this.loading.set(true);
        this.service.search(query)
            .subscribe(function (response) {
            _this.data = response;
            _this.globals.pageTitle = "Search - " + _this.route.snapshot.params['query'];
            _this.prepareLayouts(_this.data);
            _this.loading.set(false);
            _this.data.screen.blocks.forEach(function (itemBlk) {
                itemBlk.widgets.forEach(function (item) {
                    _this.showNumb += item.playlist.contents.length;
                });
            });
        }, function (error) { return _this.errorMessage = error; }, function () {
        });
    };
    SearchComponent.prototype.prepareLayouts = function (search) {
        for (var i in search.screen.blocks) {
            if (search.screen.blocks[i].block_type == 'tab' || search.screen.blocks[i].block_type == 'combobox') {
                search.screen.blocks[i].selected = false;
            }
            else {
                search.screen.blocks[i].selected = true;
            }
        }
        this.data = search;
    };
    SearchComponent.prototype.viewAll = function (id) {
        this.router.navigate(['playlist', id]);
    };
    SearchComponent.prototype.filter = function (block, index) {
        block.selected = index;
    };
    SearchComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["n" /* Component */])({
            selector: 'app-search',
            template: __webpack_require__("./src/app/search/search.component.html")
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__search_service__["a" /* SearchService */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_3__globals_service__["a" /* GlobalsService */],
            __WEBPACK_IMPORTED_MODULE_4__loading_loading_service__["a" /* LoadingService */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["f" /* Router */]])
    ], SearchComponent);
    return SearchComponent;
}());



/***/ }),

/***/ "./src/app/search/search.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SearchModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common__ = __webpack_require__("./node_modules/@angular/common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__search_component__ = __webpack_require__("./src/app/search/search.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__search_service__ = __webpack_require__("./src/app/search/search.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__carousel_carousel_module__ = __webpack_require__("./src/app/carousel/carousel.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__listing_listing_module__ = __webpack_require__("./src/app/listing/listing.module.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};






var SearchModule = /** @class */ (function () {
    function SearchModule() {
    }
    SearchModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["I" /* NgModule */])({
            imports: [
                __WEBPACK_IMPORTED_MODULE_1__angular_common__["b" /* CommonModule */],
                __WEBPACK_IMPORTED_MODULE_4__carousel_carousel_module__["a" /* CarouselModule */],
                __WEBPACK_IMPORTED_MODULE_5__listing_listing_module__["a" /* ListingModule */]
            ],
            declarations: [
                __WEBPACK_IMPORTED_MODULE_2__search_component__["a" /* SearchComponent */]
            ],
            exports: [
                __WEBPACK_IMPORTED_MODULE_2__search_component__["a" /* SearchComponent */]
            ],
            providers: [
                __WEBPACK_IMPORTED_MODULE_3__search_service__["a" /* SearchService */]
            ]
        })
    ], SearchModule);
    return SearchModule;
}());



/***/ }),

/***/ "./src/app/search/search.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SearchService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("./node_modules/@angular/http/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__globals_service__ = __webpack_require__("./src/app/globals.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_Observable__ = __webpack_require__("./node_modules/rxjs/_esm5/Observable.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_add_operator_catch__ = __webpack_require__("./node_modules/rxjs/_esm5/add/operator/catch.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_add_operator_map__ = __webpack_require__("./node_modules/rxjs/_esm5/add/operator/map.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var SearchService = /** @class */ (function () {
    function SearchService(http, globals) {
        this.http = http;
        this.globals = globals;
    }
    SearchService.prototype.extractData = function (res) {
        var body = res.json();
        if (body) {
            return body.data || body;
        }
        else {
            return {};
        }
    };
    SearchService.prototype.handleError = function (error) {
        var errMsg = (error.message) ? error.message :
            error.status ? error.status + " - " + error.statusText : 'Server error';
        console.error(errMsg);
        return __WEBPACK_IMPORTED_MODULE_3_rxjs_Observable__["a" /* Observable */].throw(errMsg);
    };
    SearchService.prototype.search = function (term) {
        console.log(this.globals.API + "search?" + this.globals.tvcableSearchQuery + ("&q=" + term));
        return this.http
            .get(this.globals.API + "search?" + this.globals.tvcableSearchQuery + ("&q=" + term)) // '&device_type=web&device_layout=web&asset_types='+this.tvcableAsset_types;
            .map(this.extractData)
            .catch(this.handleError);
    };
    SearchService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["A" /* Injectable */])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Http */],
            __WEBPACK_IMPORTED_MODULE_2__globals_service__["a" /* GlobalsService */]])
    ], SearchService);
    return SearchService;
}());



/***/ }),

/***/ "./src/app/select-box/select-box.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"select-box-container\">\r\n  <label *ngIf=\"label\">{{label}}</label>\r\n\r\n  <div class=\"select-box\" (click)=\"openSelectBox()\" [class.open]=\"openBox\">\r\n    <div class=\"selected\">{{selected.title}}\r\n      <div class=\"select-box-down-arrow\" *ngIf=\"data.length > 1\"></div>\r\n    </div>\r\n    <div class=\"select-box-elements\" [ngStyle]=\"{height: openBox ? (data.length - 1) * elementHeight + 'px' : '0px'}\">\r\n      <div class=\"select-element\" *ngFor=\"let el of data\" (click)=\"select(el)\">\r\n        {{el.title}}\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/select-box/select-box.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SelectBoxComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_slick_carousel_slick_slick__ = __webpack_require__("./node_modules/slick-carousel/slick/slick.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_slick_carousel_slick_slick___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_slick_carousel_slick_slick__);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var SelectBoxComponent = /** @class */ (function () {
    function SelectBoxComponent() {
    }
    SelectBoxComponent.prototype.ngAfterViewInit = function () {
        this.id = '#select-box-' + this.data.playlist.id;
    };
    SelectBoxComponent.prototype.ngOnInit = function () {
    };
    // vm.data = $scope.data;
    // vm.callback = $scope.callback;
    // vm.label = $scope.label;
    // vm.elementHeight = $scope.elementHeight || 46;
    // vm.selected = $scope.selected || (vm.data && vm.data[0]);
    // vm.openBox = false;
    // $rootScope.$on('documentClicked', function() {
    //   if (vm.openBox) {
    //     vm.openBox = false;
    //   }
    // });
    SelectBoxComponent.prototype.openSelectBox = function () {
        var _this = this;
        if (!this.openBox) {
            setTimeout(function () {
                _this.openBox = true;
            }, 100);
        }
    };
    /**
     * Sets the clicked element as selected and invokes the callback function
     * @param el
     */
    SelectBoxComponent.prototype.select = function (el) {
        this.selected = el;
        if (this.callback) {
            this.callback(el);
        }
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["D" /* Input */])(),
        __metadata("design:type", Object)
    ], SelectBoxComponent.prototype, "data", void 0);
    SelectBoxComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["n" /* Component */])({
            selector: 'app-select-box',
            template: __webpack_require__("./src/app/select-box/select-box.component.html")
        }),
        __metadata("design:paramtypes", [])
    ], SelectBoxComponent);
    return SelectBoxComponent;
}());



/***/ }),

/***/ "./src/app/select-box/select-box.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SelectBoxModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common__ = __webpack_require__("./node_modules/@angular/common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__select_box_component__ = __webpack_require__("./src/app/select-box/select-box.component.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};



var SelectBoxModule = /** @class */ (function () {
    function SelectBoxModule() {
    }
    SelectBoxModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["I" /* NgModule */])({
            imports: [
                __WEBPACK_IMPORTED_MODULE_1__angular_common__["b" /* CommonModule */]
            ],
            declarations: [
                __WEBPACK_IMPORTED_MODULE_2__select_box_component__["a" /* SelectBoxComponent */]
            ],
            exports: [
                __WEBPACK_IMPORTED_MODULE_2__select_box_component__["a" /* SelectBoxComponent */]
            ],
            providers: []
        })
    ], SelectBoxModule);
    return SelectBoxModule;
}());



/***/ }),

/***/ "./src/app/sessions/sessions.component.html":
/***/ (function(module, exports) {

module.exports = "<div id=\"sessionsWrapper\">\r\n  <h4><div class=\"breadCrumb\" (click)=\"crumbClick(globals.pageTitleSlug)\">{{globals.strings.SCREEN_SETTINGS}}</div> <i class=\"fa fa-arrow-right\" aria-hidden=\"true\"></i> <div class=\"breadCrumb\" (click)=\"crumbClick('settings/my-account')\">{{globals?.strings.SCREEN_ACCOUNT}}</div> <i class=\"fa fa-arrow-right\" aria-hidden=\"true\"></i> {{globals.strings.DEVICE_LIST_SCREEN_DEVICE_LIST}}</h4>\r\n</div>\r\n\r\n  <div class=\"sessions-list\" *ngIf=\"isVisible\">\r\n    <table class=\"sessions-list-tbl\">\r\n      <tr>\r\n        <th class=\"sessions-list-tbl-title\" colspan=\"3\" align=\"center\">{{globals.strings.DEVICE_LIST_SCREEN_DEVICE_LIST}}</th>\r\n      </tr>\r\n      <tr class=\"sessions-list-tbl-row\" *ngFor=\"let session of sessions\">\r\n        <td class=\"sessions-list-tbl-image\"><img src=\"{{session.image.url}}\"></td>\r\n        <td><span class=\"sessions-list-tbl-session-name\">{{session.name}}</span><br>\r\n          <span>{{session.last_time_used.toLocaleString()}}</span>\r\n        </td>\r\n        <td><i class=\"fa fa-times-circle\" (click)=\"remove(session.auth_token)\"></i></td>\r\n      </tr>\r\n    </table>\r\n  </div>\r\n\r\n\r\n\r\n"

/***/ }),

/***/ "./src/app/sessions/sessions.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SessionsComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__sessions_service__ = __webpack_require__("./src/app/sessions/sessions.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__globals_service__ = __webpack_require__("./src/app/globals.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_sweetalert2__ = __webpack_require__("./node_modules/sweetalert2/dist/sweetalert2.all.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_sweetalert2___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_sweetalert2__);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var SessionsComponent = /** @class */ (function () {
    function SessionsComponent(globals, service, router) {
        this.globals = globals;
        this.service = service;
        this.router = router;
        this.isVisible = false;
    }
    SessionsComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.sessions = []; // Remember to initialize matrices!!!
        this.service.sessions.subscribe(function (res) {
            _this.sessions = res;
        });
        // Subscribe to show/hide user sessions flag
        this.service.isVisible.subscribe(function (value) {
            _this.isVisible = value;
        });
        this.service.finishedClosingSession.subscribe(function (val) {
            if (val === true) {
                _this.isVisible = false;
                // navigate back to home and give the user a clean chance to login
                _this.router.navigate(['']);
            }
        });
        // Must check if the temporary auth token is set, otherwise we get an error dialog on website start
        var token = this.globals.tempAuthToken !== null ? this.globals.tempAuthToken : this.globals.authToken;
        if (token !== null) {
            this.isVisible = true;
            this.service.getLiveSessions(token);
        }
    };
    SessionsComponent.prototype.ngOnDestroy = function () {
        this.sessions = [];
        this.isVisible = false;
    };
    /**
     * Remove (free) a session
     */
    SessionsComponent.prototype.remove = function (auth_token) {
        var _this = this;
        __WEBPACK_IMPORTED_MODULE_4_sweetalert2___default()({
            html: '<span style="color: #fff;">' + this.globals.strings.DEVICE_LIST_SCREEN_WILL_LOGOUT + '</span>',
            type: 'warning',
            showCancelButton: true,
            confirmButtonText: this.globals.strings.GENERAL_YES,
            cancelButtonText: this.globals.strings.GENERAL_NO,
            background: '#2a292a'
        }).then(function (result) {
            if (result.value) {
                _this.service.remove(auth_token);
            }
        });
    };
    SessionsComponent.prototype.crumbClick = function (waytoGo) {
        this.router.navigate([waytoGo]);
    };
    SessionsComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["n" /* Component */])({
            selector: 'app-sessions',
            template: __webpack_require__("./src/app/sessions/sessions.component.html")
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_3__globals_service__["a" /* GlobalsService */],
            __WEBPACK_IMPORTED_MODULE_2__sessions_service__["a" /* SessionsService */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["f" /* Router */]])
    ], SessionsComponent);
    return SessionsComponent;
}());



/***/ }),

/***/ "./src/app/sessions/sessions.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SessionsModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common__ = __webpack_require__("./node_modules/@angular/common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__sessions_service__ = __webpack_require__("./src/app/sessions/sessions.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__sessions_component__ = __webpack_require__("./src/app/sessions/sessions.component.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};




var SessionsModule = /** @class */ (function () {
    function SessionsModule() {
    }
    SessionsModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["I" /* NgModule */])({
            imports: [
                __WEBPACK_IMPORTED_MODULE_1__angular_common__["b" /* CommonModule */]
            ],
            exports: [__WEBPACK_IMPORTED_MODULE_3__sessions_component__["a" /* SessionsComponent */]],
            declarations: [__WEBPACK_IMPORTED_MODULE_3__sessions_component__["a" /* SessionsComponent */]],
            providers: [__WEBPACK_IMPORTED_MODULE_2__sessions_service__["a" /* SessionsService */]]
        })
    ], SessionsModule);
    return SessionsModule;
}());



/***/ }),

/***/ "./src/app/sessions/sessions.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SessionsService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__globals_service__ = __webpack_require__("./src/app/globals.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_common_http__ = __webpack_require__("./node_modules/@angular/common/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_Subject__ = __webpack_require__("./node_modules/rxjs/_esm5/Subject.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_sweetalert2__ = __webpack_require__("./node_modules/sweetalert2/dist/sweetalert2.all.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_sweetalert2___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_sweetalert2__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__login_login_service__ = __webpack_require__("./src/app/login/login.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var SessionsService = /** @class */ (function () {
    function SessionsService(http, globals, login) {
        this.http = http;
        this.globals = globals;
        this.login = login;
        this.sessions = new __WEBPACK_IMPORTED_MODULE_3_rxjs_Subject__["b" /* Subject */]();
        this.finishedClosingSession = new __WEBPACK_IMPORTED_MODULE_3_rxjs_Subject__["b" /* Subject */]();
        this.isVisible = new __WEBPACK_IMPORTED_MODULE_3_rxjs_Subject__["b" /* Subject */](); // Serves to show/hide the list of sessions
    }
    /**
     * Get the live sessions for the current auth token
     */
    SessionsService.prototype.getLiveSessions = function (token) {
        var _this = this;
        // The temporary auth token was obtained from login when the max sessions was reached
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_common_http__["c" /* HttpHeaders */]()
            .set('Accept-Language', this.globals.settings.default_language)
            .set('Authorization', 'Bearer ' + token);
        // Account token already in path for the endpoint call
        var params = new __WEBPACK_IMPORTED_MODULE_2__angular_common_http__["d" /* HttpParams */]()
            .set('device_type', 'web');
        var endpoint = this.globals.endpoints.liveSessions.replace('{account_token}', this.globals.accountToken);
        this.http.get(endpoint, { headers: headers, params: params })
            .toPromise()
            .then(function (res) {
            _this.sessions.next(res.data);
            // Clear the temporary auth token
            //this.globals.tempAuthToken = null;
        })
            .catch(function (error) {
            console.error(error);
            __WEBPACK_IMPORTED_MODULE_4_sweetalert2___default()({
                type: 'error',
                title: '<span style="color: #fff;" class="title">' + _this.globals.strings.SCREEN_ERROR_TITLE + '</span>',
                html: '<span style="color: #fff;">' + _this.globals.strings.GENERAL_ERROR + '</span>',
                background: '#2a292a'
            });
        });
    };
    /**
     * Remove (free) a session by auth_token - mainly used when all the available sessions
     * have been used up
     * @param {string} auth_token
     */
    SessionsService.prototype.remove = function (auth_token) {
        var _this = this;
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_common_http__["c" /* HttpHeaders */]()
            .set('Authorization', 'Bearer ' + auth_token);
        var params = new __WEBPACK_IMPORTED_MODULE_2__angular_common_http__["d" /* HttpParams */]()
            .set('device_type', 'web');
        this.http.delete(this.globals.endpoints.logout, { headers: headers, params: params })
            .toPromise()
            .then(function (res) {
            _this.finishedClosingSession.next(true);
            if (_this.globals.tempAuthToken != null) {
                _this.removeTemporary();
            }
        })
            .catch(function (error) {
            console.error(error);
        });
    };
    SessionsService.prototype.removeTemporary = function () {
        var _this = this;
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_common_http__["c" /* HttpHeaders */]()
            .set('Authorization', 'Bearer ' + this.globals.tempAuthToken);
        var params = new __WEBPACK_IMPORTED_MODULE_2__angular_common_http__["d" /* HttpParams */]()
            .set('device_type', 'web');
        this.http.delete(this.globals.endpoints.logout, { headers: headers, params: params })
            .toPromise()
            .then(function (res) {
            _this.login.provider_login("tvcable", _this.globals.endpoints.socialLogin, _this.globals.currUsername, _this.globals.currPassword, null, null);
            _this.globals.tempAuthToken = null;
        })
            .catch(function (error) {
            console.error(error);
        });
    };
    /**
     * Toggle the visibility of the user sessions
     */
    SessionsService.prototype.toggle = function () {
        this.isVisible.next(!this.isVisible);
    };
    SessionsService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["A" /* Injectable */])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__angular_common_http__["a" /* HttpClient */],
            __WEBPACK_IMPORTED_MODULE_1__globals_service__["a" /* GlobalsService */],
            __WEBPACK_IMPORTED_MODULE_5__login_login_service__["a" /* LoginService */]])
    ], SessionsService);
    return SessionsService;
}());



/***/ }),

/***/ "./src/app/settings/faq/faq.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"TermsConditionsWrapper\">\r\n  <h3 style=\"text-align: center\">{{globals.strings.SETTINGS_SCREEN_FAQ}}</h3>\r\n  <div class=\"InfoPadder\">\r\n    <div class=\"InfoWrapper\" data-simplebar>{{this.globals.settings.faq_slug}}</div>\r\n  </div>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/settings/faq/faq.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FaqComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__globals_service__ = __webpack_require__("./src/app/globals.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_simplebar_dist_simplebar_js__ = __webpack_require__("./node_modules/simplebar/dist/simplebar.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_simplebar_dist_simplebar_js___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_simplebar_dist_simplebar_js__);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var FaqComponent = /** @class */ (function () {
    function FaqComponent(globals) {
        this.globals = globals;
    }
    FaqComponent.prototype.ngOnInit = function () {
    };
    FaqComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["n" /* Component */])({
            selector: 'app-faq',
            template: __webpack_require__("./src/app/settings/faq/faq.component.html")
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__globals_service__["a" /* GlobalsService */]])
    ], FaqComponent);
    return FaqComponent;
}());



/***/ }),

/***/ "./src/app/settings/help/help.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"TermsConditionsWrapper\">\r\n  <h3 style=\"text-align: center\">{{globals.strings.SETTINGS_SCREEN_HELP}}</h3>\r\n  <div class=\"InfoPadder\">\r\n    <div class=\"InfoWrapper\" data-simplebar>{{this.globals.settings.help_slug }}\r\n    </div>\r\n  </div>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/settings/help/help.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return HelpComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__globals_service__ = __webpack_require__("./src/app/globals.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_simplebar_dist_simplebar_js__ = __webpack_require__("./node_modules/simplebar/dist/simplebar.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_simplebar_dist_simplebar_js___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_simplebar_dist_simplebar_js__);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var HelpComponent = /** @class */ (function () {
    function HelpComponent(globals) {
        this.globals = globals;
    }
    HelpComponent.prototype.ngOnInit = function () {
    };
    HelpComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["n" /* Component */])({
            selector: 'app-help',
            template: __webpack_require__("./src/app/settings/help/help.component.html")
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__globals_service__["a" /* GlobalsService */]])
    ], HelpComponent);
    return HelpComponent;
}());



/***/ }),

/***/ "./src/app/settings/languages/languages.component.html":
/***/ (function(module, exports) {

module.exports = "<div id=\"changeLanguageWrapper\">\r\n  <h4><div class=\"breadCrumb\" (click)=\"crumbClick(globals.pageTitleSlug)\">{{globals.strings.SCREEN_SETTINGS}}</div> <i class=\"fa fa-arrow-right\" aria-hidden=\"true\"></i> {{globals.strings.SETTINGS_SCREEN_CHANGE_LANGUAGE}}</h4>\r\n  <div class=\"sett-languages-wrapper\">\r\n    <table class=\"langListTbl\">\r\n      <tr  class=\"langListTblRow\" *ngFor=\"let lang of globals.languages\">\r\n        <td class=\"langListTblCol\">{{lang.name}}</td>\r\n        <td class=\"langListTblCol check\">\r\n          <i *ngIf=\"isSelected(lang.code)\" (click)=\"chooseLang(lang.code)\" class=\"fa fa-check-circle-o\"></i>\r\n          <i *ngIf=\"!isSelected(lang.code)\" (click)=\"chooseLang(lang.code)\" class=\"fa fa-circle-o\"></i>\r\n        </td>\r\n      </tr>\r\n    </table>\r\n  </div>\r\n</div>\r\n\r\n"

/***/ }),

/***/ "./src/app/settings/languages/languages.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LanguagesComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__globals_service__ = __webpack_require__("./src/app/globals.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__languages_service__ = __webpack_require__("./src/app/settings/languages/languages.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__menu_menu_service__ = __webpack_require__("./src/app/menu/menu.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var LanguagesComponent = /** @class */ (function () {
    function LanguagesComponent(globals, service, menuService, router) {
        this.globals = globals;
        this.service = service;
        this.menuService = menuService;
        this.router = router;
    }
    LanguagesComponent.prototype.ngOnInit = function () {
        var _this = this;
        /*
         Subscribe to the gotStrings subject so that we know when the new strings are available
         */
        this.service.gotStrings.subscribe(function (value) {
            if (value === true) {
                _this.menuService.getDefaultMenu();
            }
        });
    };
    /**
     * Checks if the current entry is selected by comparing with the default language
     * @param {string} lang
     * @returns {boolean}
     */
    LanguagesComponent.prototype.isSelected = function (lang) {
        return this.globals.settings.default_language === lang;
    };
    /**
     * Change the current language
     * @param {string} lang
     */
    LanguagesComponent.prototype.chooseLang = function (lang) {
        this.service.getStrings(lang);
    };
    LanguagesComponent.prototype.crumbClick = function (waytoGo) {
        this.router.navigate([waytoGo]);
    };
    LanguagesComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["n" /* Component */])({
            template: __webpack_require__("./src/app/settings/languages/languages.component.html"),
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__globals_service__["a" /* GlobalsService */],
            __WEBPACK_IMPORTED_MODULE_2__languages_service__["a" /* LanguagesService */],
            __WEBPACK_IMPORTED_MODULE_3__menu_menu_service__["a" /* MenuService */],
            __WEBPACK_IMPORTED_MODULE_4__angular_router__["f" /* Router */]])
    ], LanguagesComponent);
    return LanguagesComponent;
}());



/***/ }),

/***/ "./src/app/settings/languages/languages.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LanguagesService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common_http__ = __webpack_require__("./node_modules/@angular/common/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__globals_service__ = __webpack_require__("./src/app/globals.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_Subject__ = __webpack_require__("./node_modules/rxjs/_esm5/Subject.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var LanguagesService = /** @class */ (function () {
    function LanguagesService(globals, http) {
        this.globals = globals;
        this.http = http;
        this.languages = new __WEBPACK_IMPORTED_MODULE_3_rxjs_Subject__["b" /* Subject */]();
        this.gotStrings = new __WEBPACK_IMPORTED_MODULE_3_rxjs_Subject__["b" /* Subject */]();
    }
    /**
     * Get the application's available languages
     */
    LanguagesService.prototype.getLanguages = function () {
        var _this = this;
        var params = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["d" /* HttpParams */]()
            .set('device_type', 'web')
            .set('limit', '20')
            .set('page', '1');
        this.http.get(this.globals.endpoints.languages, { params: params })
            .toPromise()
            .then(function (res) {
            _this.languages.next(res.data);
        })
            .catch(function (error) {
            console.error(error);
            _this.languages.next([]);
        });
    };
    /**
     * Get the application strings from the API.
     * @Notes: globals.settings.default_language should already be set!
     */
    LanguagesService.prototype.getStrings = function (lang) {
        var _this = this;
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["c" /* HttpHeaders */]()
            .set('Accept-Language', lang);
        var params = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["d" /* HttpParams */]()
            .set('device', 'web')
            .set('device_type', 'web')
            .set('device_layout', 'web');
        this.http.get(this.globals.endpoints.strings, { headers: headers, params: params })
            .toPromise()
            .then(function (res) {
            _this.globals.strings = res.data;
            _this.globals.settings.default_language = lang;
            _this.gotStrings.next(true);
        })
            .catch(function (error) {
            console.error(error);
            _this.globals.strings = {};
            _this.gotStrings.next(false);
        });
    };
    LanguagesService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["A" /* Injectable */])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__globals_service__["a" /* GlobalsService */],
            __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["a" /* HttpClient */]])
    ], LanguagesService);
    return LanguagesService;
}());



/***/ }),

/***/ "./src/app/settings/my-account/change-password/change-password-popup-service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ChangePasswordPopupService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_rxjs_Rx__ = __webpack_require__("./node_modules/rxjs/_esm5/Rx.js");

var ChangePasswordPopupService = /** @class */ (function () {
    function ChangePasswordPopupService() {
        this.show = new __WEBPACK_IMPORTED_MODULE_0_rxjs_Rx__["a" /* Subject */]();
    }
    return ChangePasswordPopupService;
}());



/***/ }),

/***/ "./src/app/settings/my-account/change-password/change-password.component.html":
/***/ (function(module, exports) {

module.exports = "<div id=\"changePasswordModal\" *ngIf=\"isVisible\" class=\"popup-container\">\r\n  <div class=\"popup-close\" (click)=\"onClose()\"></div>\r\n  <div class=\"popup-content\">\r\n    <span class=\"close-button\" (click)=\"onClose()\"></span>\r\n    <div class=\"PasswordForm\">\r\n      <form #changePsswdFrm=\"ngForm\" autocomplete=\"nope\" (ngSubmit)=\"onSubmit()\">\r\n        <h3>{{globals.strings.CHANGE_PASSWORD_ENTER_PASSWORD}}</h3>\r\n        <br>\r\n\r\n        <div id=\"changePasswordMessages\" *ngIf=\"opCompleted\" [ngClass]=\"{'greenSuccess': successState, 'redFailure': !successState}\">\r\n          <p>{{messages}}</p>\r\n        </div>\r\n\r\n\r\n\r\n        <div class=\"PasswordInput\">\r\n          <p>{{globals.strings.CHANGE_PASSWORD_SCREEN_OLD_PASSWORD}}</p>\r\n          <input #inputOldPasswd [(ngModel)]=\"oldPassword\" type=\"password\" ng-model=\"password\" name=\"oldPassword\" id=\"oldPassword\" autocomplete=\"new-password\" value=\"\" required>\r\n        </div><br>\r\n        <div class=\"PasswordInput\">\r\n          <p>{{globals.strings.CHANGE_PASSWORD_SCREEN_NEW_PASSWORD}}</p>\r\n          <input [(ngModel)]=\"newPassword\" type=\"{{showPassword ? 'text' : 'password'}}\" name=\"newPassword\" id=\"newPassword\" autocomplete=\"new-password\" value=\"\" required>\r\n          <span class=\"fa\" [ngClass]=\"{'fa-eye-slash': !showPassword, 'fa-eye': showPassword}\" (click)=\"toggleEye()\"></span>\r\n        </div><br>\r\n        <button type=\"submit\" class=\"butn butn-success\" [disabled]=\"!changePsswdFrm.form.valid\">{{globals.strings.BUTTON_CONFIRM}}</button>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/settings/my-account/change-password/change-password.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ChangePasswordComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__change_password_popup_service__ = __webpack_require__("./src/app/settings/my-account/change-password/change-password-popup-service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__globals_service__ = __webpack_require__("./src/app/globals.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__change_password_service__ = __webpack_require__("./src/app/settings/my-account/change-password/change-password.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var ChangePasswordComponent = /** @class */ (function () {
    //  isIE:string;
    function ChangePasswordComponent(popup, globals, service, renderer) {
        var _this = this;
        this.popup = popup;
        this.globals = globals;
        this.service = service;
        this.renderer = renderer;
        // @ViewChild('myButton') myButton; // if the element is not nested
        this.isVisible = false;
        this.messages = null;
        this.showPassword = false;
        this.oldPassword = '';
        this.newPassword = '';
        this.opCompleted = false;
        this.successState = false;
        this.maskedInput = '';
        popup.show.subscribe(function (val) { return _this.showPopup(); });
        this.service.reply.subscribe(function (value) {
            _this.opCompleted = true;
            if (value.hasOwnProperty('error')) {
                _this.messages = value.error.description;
                _this.successState = false;
            }
            else {
                _this.messages = value.data.description;
                _this.successState = true;
            }
        });
    }
    /*
      ngAfterViewInit() {
        let simple = this.renderer.listen(this.myButton.nativeElement, 'click', (evt) => {
          console.log('Clicking the button', evt);
        });
      }
    */
    ChangePasswordComponent.prototype.ngOnInit = function () {
        /*
        let simple = this.renderer.listen(this.myButton.nativeElement, 'click', (evt) => {
          console.log('Clicking the button', evt);
        });
        */
        // this.ShowPasswordCheckbox(this.inputOldPasswd);
        // this.initPasswordListeners(this.inputOldPasswd, '\u25CF');
        // this.isIE = /*@cc_on!@*/false || !!document.documentMode;
        //    this.isIE = window.navigator.userAgent.match(/(?:Chrom(?:e|ium)|Firefox)\/([0-9]+)\./);// navigator ? navigator.userAgent.toLowerCase() : "other";
        //    this.introPasswordLister = this.renderer.listen(this.inputOldPasswd.nativeElement, 'keypress', (evt) => {
        //      this.maskingOldPasswordInput(evt);
        //    });
    };
    ChangePasswordComponent.prototype.showPopup = function () {
        this.isVisible = true;
        this.messages = null;
        this.opCompleted = false;
    };
    ChangePasswordComponent.prototype.onClose = function () {
        this.isVisible = false;
        this.messages = null;
        this.opCompleted = false;
        // this.introPasswordLister();  // remove listener
    };
    ChangePasswordComponent.prototype.toggleEye = function () {
        this.showPassword = !this.showPassword;
    };
    ChangePasswordComponent.prototype.onSubmit = function () {
        this.service.doIt(this.oldPassword, this.newPassword);
    };
    // https://codepen.io/jimgriesemer/pen/XdoyNO
    /*******************************************************************************
     ShowPasswordCheckbox.js      Adds a "show password" toggle to a password field
     ------------------------------------------------------------------------------
     Adapted from                               FormTools.addShowPasswordCheckboxes
     Info/Docs         http://www.brothercake.com/site/resources/scripts/formtools/
     ------------------------------------------------------------------------------
     *******************************************************************************/
    //*
    // show password checkbox constructor
    ChangePasswordComponent.prototype.ShowPasswordCheckbox = function (passField) {
        /*
        console.log('Entrei onInit 1');
        // if the browser is unsupported, silently fail
        // [pre-DOM1 browsers generally, and Opera 8 specifically]
        if (typeof document.getElementById === 'undefined'
          || typeof document.styleSheets === 'undefined') {
          return false;
        }
    
        // or if the passfield doesn't exist, silently fail
        if (passfield == null) {
          return false;
        }
        */
        console.log('Entrei onInit 2');
        // create a context wrapper, so that we have sole context for modifying the content
        // and give it a distinctive and underscored name, to prevent conflict
        passField._contextwrapper = this.createContextWrapper(passField);
        // save a shortcut to the wrapper
        var passboxWrapper = passField._contextwrapper;
        // copy the HTML from the password field to create the new plain-text field
        var textField1 = this.convertPasswordFieldHTML(passField);
        // create the HTML for the show-password label and checkbox
        // we'll have to add for/id associations here so that it works in IE
        // with a random key to avoid duplication
        var labelKey = Math.round(Math.random() * 1000);
        var showLabel = '<label'
            + ' for="showpasscheckbox-' + labelKey + '"'
            + ' class="show-password"'
            + ' title="Show the password as plain text (not advisable in a public place)"'
            + ' style="display:block;position:static;"'
            + '>';
        showLabel += '<input type="checkbox"'
            + ' id="showpasscheckbox-' + labelKey + '"'
            + ' title="Show the password as plain text (not advisable in a public place)"'
            + '>';
        showLabel += '<span style="display:inline-block;">Show Password</span>';
        showLabel += '</label>';
        // write the textfield and showlabel into the context wrapper,
        // after the password field that's currently there
        passboxWrapper.innerHTML += textField1 + showLabel;
        // grab back a reference to the textfield and checkbox
        // and to the original password field, saving it back to passfield
        var textField = passboxWrapper.lastChild.previousSibling;
        var tickBox = passboxWrapper.lastChild.firstChild;
        passField = passboxWrapper.firstChild;
        // then the password field and textfield need circular references
        // and the checkbox needs references back to both of them
        passField._plainfield = textField;
        textField._passwordfield = passField;
        tickBox._passwordfield = passField;
        tickBox._plainfield = textField;
        // restore its contextwrapper reference
        passField._contextwrapper = passboxWrapper;
        // save a reference to this
        var self = this;
        // then bind change listeners to both fields
        // to continually copy input values between them
        this.addListener(passField, 'change', function (e) {
            var textbox = self.getTarget(e);
            textbox._plainfield.value = textbox.value;
        });
        this.addListener(textField, 'change', function (e) {
            var textbox = self.getTarget(e);
            textbox._passwordfield.value = textbox.value;
        });
        // then bind a simple click handler to the checkbox toggle the fields' display
        this.addListener(tickBox, 'click', function (e) {
            console.log('Entrei click');
            // get the checkbox reference
            var tickBoxHere = self.getTarget(e), 
            // the textbox to show is the plainfield if checked or the password field if not
            // and the textbox to hide is the other one
            showField = tickBoxHere.checked ? tickBoxHere._plainfield : tickBoxHere._passwordfield, hideField = tickBoxHere.checked ? tickBoxHere._passwordfield : tickBoxHere._plainfield;
            // re-copy the value from the currently visible field to the one about to be shown
            // this catches situations where history-back retains the plain version but
            // not the encrypted version (because password fields are automatically cleared
            // by the browser, but normal text fields aren't) so that revealing the plain one
            // again clears it, or revealing the encrytped one again populates it
            // this should only happen in opera anyway, because of the way it perfectly
            // re-creates cached processor snapshots rather than re-rendering the page,
            // and hence the forced form-reset doesn't kick-in to remove those values
            // (which it doens't in firefox either, but the problem still doesn't occur)
            showField.value = hideField.value;
            // then toggle the fields' display
            showField.style.display = 'block';
            hideField.style.display = 'none';
        });
        // get the parent form reference for this field
        var parentForm = this.getParentForm(passField);
        // then add a submit listener, that copies the plain field value
        // into the password field, if the plain field is currently visible,
        // this catches situations where you submit from the plain field
        // by hitting enter, without ever viewing the normal field
        // (or when its retained in a history view then immediately re-submitted)
        // which would otherwise not yet have copied its value across
        // nb. if there is no parent form then the reference will be null
        // so we add that test just in case, but in that case
        // the field can't submit and then we won't have this issue anyway
        if (parentForm) {
            // save references to the plain and password field
            // as properties of the parent form
            parentForm._plainfield = textField;
            parentForm._passwordfield = passField;
            // bind the form submission listener
            this.addListener(parentForm, 'submit', function (e) {
                // get the form reference
                var parentformHere = self.getTarget(e);
                // if the plainfield is currently displayed
                // copy the plainfield value to the password field
                if (parentformHere._plainfield.style.display == 'block') {
                    parentformHere._passwordfield.value = parentformHere._plainfield.value;
                }
            });
        }
        // return true for successful initialization
        return true;
    };
    // associated utility methods
    // create a context wrapper element around a textbox
    ChangePasswordComponent.prototype.createContextWrapper = function (passField) {
        // create the wrapper and add its class
        // it has to be an inline element because we don't know its context
        var wrapper = document.createElement('span');
        // enforce relative positioning
        wrapper.style.position = 'relative';
        // insert the wrapper directly before the passfield
        passField.parentNode.insertBefore(wrapper, passField);
        // then move the passfield inside it
        wrapper.appendChild(passField);
        // return the wrapper reference
        return wrapper;
    };
    // get the parent form reference from a field reference
    ChangePasswordComponent.prototype.getParentForm = function (textBox) {
        // find the parent form from this textbox reference
        // (which may not be a textbox, but that's fine, it just a reference name!)
        while (textBox) {
            if (/form/i.test(textBox.nodeName)) {
                break;
            }
            textBox = textBox.parentNode;
        }
        // if the reference is not a form then the textbox wasn't wrapped in one
        // so in that case return null for failure
        if (!/form/i.test(textBox.nodeName)) {
            return null;
        }
        // else return the now-form reference
        return textBox;
    };
    // copy the HTML from a password field to a plain text field,
    // this is only because IE doesn't support setting or changing the type of an input
    ChangePasswordComponent.prototype.convertPasswordFieldHTML = function (passboxref) {
        // start the HTML for a text field
        var textField = '<input';
        // now run through the password fields' specified attributes
        // and copy across each one into the textfield HTML
        // *except* for its name and type, and any underscored attributes
        // we need to exclude the name because we'll define that separately
        // depending on the situation, and obviously the type, and private attributes
        // because we control them and their meaning in separate conditions too
        var fieldattributes = passboxref.attributes;
        for (var j = 0; j < fieldattributes.length; j++) {
            // we have to check .specified otherwise we'll get back every single attribute
            // that the element might possibly have! which is what IE puts in the attributes
            // collection, with default values for unspecified attributes
            if (fieldattributes[j].specified && !/^(_|type|name)/.test(fieldattributes[j].name)) {
                textField += ' ' + fieldattributes[j].name + '="' + fieldattributes[j].value + '"';
            }
        }
        // now add the type of "text" to the end, plus display:none and autocomplete off
        // (to prevent it on the plain field, but it still works on the password field)
        // this uses HTML4 empty-element syntax, but we don't need to distinguish
        // because the browser's internal representations will generally be identical
        textField += ' type="text" style="display:none" autocomplete="off">';
        // return the finished textfield HTML
        return textField;
    };
    // add an event listener
    // this is deliberately not called "addEvent" so that we can
    // compress the name, which would otherwise also effect "addEventListener"
    ChangePasswordComponent.prototype.addListener = function (eventnode, eventname, eventhandler) {
        if (document.hasOwnProperty('addEventListener')) {
            return eventnode.addEventListener(eventname, eventhandler, false);
        }
        if (document.hasOwnProperty('attachEvent')) {
            return eventnode.attachEvent('on' + eventname, eventhandler);
        }
    };
    // get an event target by sniffing for its property name
    // (assuming here that e is already a cross-model reference
    // as it is from addListener because attachEvent in IE
    // automatically provides a corresponding event argument)
    ChangePasswordComponent.prototype.getTarget = function (e) {
        // just in case!
        if (!e) {
            return null;
        }
        // otherwise return the target
        return e.target ? e.target : e.srcElement;
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["r" /* ContentChildren */])('myButton'),
        __metadata("design:type", Object)
    ], ChangePasswordComponent.prototype, "myButton", void 0);
    ChangePasswordComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["n" /* Component */])({
            selector: 'app-change-password',
            template: __webpack_require__("./src/app/settings/my-account/change-password/change-password.component.html")
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__change_password_popup_service__["a" /* ChangePasswordPopupService */],
            __WEBPACK_IMPORTED_MODULE_2__globals_service__["a" /* GlobalsService */],
            __WEBPACK_IMPORTED_MODULE_3__change_password_service__["a" /* ChangePasswordService */],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["W" /* Renderer2 */]])
    ], ChangePasswordComponent);
    return ChangePasswordComponent;
}());

// */
/*

  initPasswordListeners(passfield, symbol) {
      // if the browser is unsupported, silently fail
      // [pre-DOM1 browsers generally, and Opera 8 specifically]
      if(typeof document.getElementById == 'undefined'
        || typeof document.styleSheets == 'undefined') { return false; }

      // or if the passfield doesn't exist, silently fail
      if(passfield == null) { return false; }

      // save the masking symbol
      this.symbol = symbol;

      // identify Internet Explorer for a couple of conditions
      // this.isIE = navigator ? navigator.userAgent.toLowerCase() : "other";

      // delete any default value for security (and simplicity!)
      passfield.value = '';
      passfield.defaultValue = '';

      // create a context wrapper, so that we have sole context for modifying the content
      // (ie. we can go context.innerHTML = replacement; without catering for
      //  anything else that's there besides the password field itself)
      // and give it a distinctive and underscored name, to prevent conflict
      passfield._contextwrapper = this.createContextWrapper(passfield);

      // create a fullmask flag which will be used from events to determine
      // whether to mask the entire password (true)
      // or to stop at the character limit (false)
      // most events set the flag before being called, except for onpropertychange
      // which uses whatever the setting currently is
      // this used to be an argument, but onpropertychange fires from our modifications
      // as well as manual input, so the blur event that's supposed to have a fullmask
      // triggers in turn an onpropertychange which doesn't, with the end result
      // that fullmask never works; so by doing it like this, we can set it to
      // true from the blur event and that will persist through all subsequent
      // onpropertychange events, until another manual event changes it back to false
      this.fullmask = false;

      // for the code that converts a password field into a masked field
      // I used to have lovely clean elegant code for most browsers, then
      // ugly horrible hacky code for IE; but since the hacky approach does
      // actually work for everyone, and we have to have it here whatever,
      // we may as well just use it for everyone, and get a big saving in code-size
      // it also means we'll get total behavioral consistency, in terms of
      // the preservation (or rather, lack thereof) of existing event handlers

      // save a reference to the wrapper because the passfield reference will be lost soon
      var wrapper = passfield._contextwrapper;

      // create the HTML for the hidden field
      // using the name from the original password field
      var hiddenfield = '<input type="hidden" name="' + passfield.name + '">';

      // copy the HTML from the password field to create the new plain-text field
      var textfield = this.convertPasswordFieldHTML(passfield);

      // write the hiddenfield and textfield HTML into the wrapper, replacing what's there
      wrapper.innerHTML = hiddenfield + textfield;

      // grab back the passfield reference back and save it back to passfield
      // then add the masked-password class
      passfield = wrapper.lastChild;
      passfield.className += ' masked';

      // try to disable autocomplete for this field
      // to prevent firefox from remembering and subsequently offering
      // a menu of useless masking strings, things like "f"
      // which of course can't be decoded, they'll just be represented by whatever
      // is in the realfield value at the time, ie. a completely unrelated value!
      passfield.setAttribute('autocomplete', 'off');

      // now grab the hidden field reference,
      // saving it as a property of the passfield
      passfield._realfield = wrapper.firstChild;

      // restore its contextwrapper reference
      passfield._contextwrapper = wrapper;

      // limit the caret position so that you can only edit or select from the end
      // you can't add, edit or select from the beginning or middle of the field
      // otherwise we can't track which masked characters represent which letters
      // (far from ideal I know, but I can't see how else to know
      // which masking symbols represent which letters if you edit from the middle..?)
      this.limitCaretPosition(passfield);

      // save a reference to this
      var self = this;

      // then apply the core events to the visible field
      this.addListener(passfield, 'change', function(e)
      {
        self.fullmask = false;
        self.doPasswordMasking(self.getTarget(e));
      });
      this.addListener(passfield, 'input', function(e)
      {
        self.fullmask = false;
        self.doPasswordMasking(self.getTarget(e));
      });
      // no fullmask setting for onpropertychange (as noted above)
      this.addListener(passfield, 'propertychange', function(e)
      {
        self.doPasswordMasking(self.getTarget(e));
      });

      // for keyup, don't respond to the tab or shift key, otherwise when you [shift/]tab
      // into the field the keyup will cause the fully-masked password to become partially masked
      // which is inconsistent with the mouse since it doesn't happen when you click focus
      // so it's only supposed to happen when you actually edit it; we'll also prevent it
      // from happening in response to arrows keys as well, for visual completeness!
      // and from the other modifiers keys, just cos it feels like the right thing to do
      this.addListener(passfield, 'keyup', function(e)
      {
        if(!/^(9|1[678]|224|3[789]|40)$/.test(e.keyCode.toString()))
        {
          self.fullmask = false;
          self.doPasswordMasking(self.getTarget(e));
        }
      });

      // the blur event completely masks the input password
      // (as opposed to leaving the last n characters plain during input)
      this.addListener(passfield, 'blur', function(e)
      {
        self.fullmask = true;
        self.doPasswordMasking(self.getTarget(e));
      });

      // so between those events we get completely rock-solid behavior
      // with enough redundency to ensure that all input paths are covered
      // and no flickering of text between states :-)

      // force the parent form to reset onload
      // thereby clearing all values after soft refreh
      this.forceFormReset(passfield);

      // return true for success
      return true;
  }

  // associated utility methods
  // implement password masking for a textbox event
  doPasswordMasking(textbox) {
    // create the plain password string
    var plainpassword = '';

    // if we already have a real field value we need to work out the difference
    // between that and the value that's in the input field
    if(textbox._realfield.value != '')
    {
      // run through the characters in the input string
      // and build the plain password out of the corresponding characters
      // from the real field, and any plain characters in the input
      for(var i=0; i<textbox.value.length; i++)
      {
        if(textbox.value.charAt(i) == this.symbol)
        {
          plainpassword += textbox._realfield.value.charAt(i);
        }
        else
        {
          plainpassword += textbox.value.charAt(i);
        }
      }
    }

    // if there's no real field value then we're doing this for the first time
    // so whatever's in the input field is the entire plain password
    else
    {
      plainpassword = textbox.value;
    }

    // get the masked version of the plainpassword, according to fullmask
    // and passing the textbox reference so we have its symbol and limit properties
    var maskedstring = this.encodeMaskedPassword(plainpassword, this.fullmask, textbox);

    // then we modify the textfield values
    // if (AND ONLY IF) one of the values are now different from the original
    // (this condition is essential to avoid infinite repetition
    //  leading to stack overflow, from onpropertychange in IE
    //  [value changes, fires event, which changes value, which fires event ...])
    // we check both instead of just one, so that we can still allow the action
    // of changing the mask without modifying the password itself
    if(textbox._realfield.value != plainpassword || textbox.value != maskedstring)
    {
      // copy the plain password to the real field
      textbox._realfield.value = plainpassword;

      // then write the masked value to the original textbox
      textbox.value = maskedstring;
    }
  }

  // convert a plain-text password to a masked password
  encodeMaskedPassword(passwordstring, fullmask, textbox) {
    // the character limit is nominally 1
    // this is how many characters to leave plain at the end
    // but if the fullmask flag is true the limit is zero
    // and the password will be fully masked
    var characterlimit = fullmask === true ? 0 : 1;

    // create the masked password string then iterate
    // through he characters in the plain password
    for(var maskedstring = '', i=0; i<passwordstring.length; i++)
    {
      // if we're below the masking limit,
      // add a masking symbol to represent this character
      if(i < passwordstring.length - characterlimit)
      {
        maskedstring += this.symbol;
      }
      // otherwise just copy across the real character
      else
      {
        maskedstring += passwordstring.charAt(i);
      }
    }

    // return the final masked string
    return maskedstring;
  }

  // create a context wrapper element around a password field
  createContextWrapper(passfield) {
    // create the wrapper and add its class
    // it has to be an inline element because we don't know its context
    var wrapper = document.createElement('span');

    // enforce relative positioning
    wrapper.style.position = 'relative';

    // insert the wrapper directly before the passfield
    passfield.parentNode.insertBefore(wrapper, passfield);

    // then move the passfield inside it
    wrapper.appendChild(passfield);

    // return the wrapper reference
    return wrapper;
  }

  // force a form to reset its values, so that soft-refresh does not retain them
  forceFormReset(textbox) {
    // find the parent form from this textbox reference
    // (which may not be a textbox, but that's fine, it just a reference name!)
    while(textbox)
    {
      if(/form/i.test(textbox.nodeName)) { break; }
      textbox = textbox.parentNode;
    }
    // if the reference is not a form then the textbox wasn't wrapped in one
    // so in that case we'll just have to abandon what we're doing here
    if(!/form/i.test(textbox.nodeName)) { return null; }

    // otherwise bind a load event to call the form's reset method
    // we have to defer until load time for IE or it won't work
    // because IE renders the page with empty fields
    // and then adds their values retrospectively!
    // (but in other browsers we can use DOMContentLoaded;
    //  and the load listener function takes care of that split)
    this.addSpecialLoadListener(function() { textbox.reset(); });

    // return the now-form reference
    return textbox;
  }

  // copy the HTML from a password field to a plain text field,
  // we have to convert the field this way because of Internet Explorer
  // because it doesn't support setting or changing the type of an input
  convertPasswordFieldHTML(passfield) {
    // start the HTML for a text field
    var textfield = '<input';

    // now run through the password fields' specified attributes
    // and copy across each one into the textfield HTML
    // *except* for its name and type, and any formtools underscored attributes
    // we need to exclude the name because we'll define that separately
    // depending on the situation, and obviously the type, and formtools attributes
    // because we control them and their meaning in separate conditions too
    for(var fieldattributes = passfield.attributes,
          j=0; j<fieldattributes.length; j++)
    {
      // we have to check .specified otherwise we'll get back every single attribute
      // that the element might possibly have! which is what IE puts in the attributes
      // collection, with default values for unspecified attributes
      if(fieldattributes[j].specified && !/^(_|type|name)/.test(fieldattributes[j].name))
      {
        textfield += ' ' + fieldattributes[j].name + '="' + fieldattributes[j].value + '"';
      }
    }

    // now add the type of "text" to the end, plus an autocomplete attribute, and close it
    // we add autocomplete attribute for added safety, though it probably isnt necessary,
    // since browsers won't offer to remember it anywway, because the field has no name
    // this uses HTML4 empty-element syntax, but we don't need to distinguish by spec
    // because the browser's internal representations will generally be identical anyway
    textfield += ' type="text" autocomplete="off">';

    // return the finished textfield HTML
    return textfield;
  }

  // this crap is what it takes to force the caret in a textbox to stay at the end
  // I'd really rather not to do this, but it's the only way to have reliable encoding
  limitCaretPosition(textbox) {
    // create a null timer reference and start function
    var timer = null, start = function()
      {
        // prevent multiple instances
        if(timer == null)
        {
          // IE uses this range stuff
          if(this.isIE)
          {
            // create an interval that continually force the position
            // as long as the field has the focus
            timer = window.setInterval(function()
            {
              // we can only force position to the end
              // because there's no way to know whether there's a selection
              // or just a single caret point, because the range methods
              // we could use to determine that don't work on created fields
              // (they generate "Invalid argument" errors)
              var range = textbox.createTextRange(),
                valuelength = textbox.value.length,
                character = 'character';
              range.moveEnd(character, valuelength);
              range.moveStart(character, valuelength);
              range.select();

              // not so fast as to be a major CPU hog
              // but fast enough to do the job effectively
            }, 100);
          }
          // other browsers have these selection properties
          else
          {
            // create an interval that continually force the position
            // as long as the field has the focus
            timer = window.setInterval(function()
            {
              // allow selection from or position at the end
              // otherwise force position to the end
              var valuelength = textbox.value.length;
              if(!(textbox.selectionEnd == valuelength && textbox.selectionStart <= valuelength))
              {
                textbox.selectionStart = valuelength;
                textbox.selectionEnd = valuelength;
              }

              // ditto
            }, 100);
          }
        }
      },

      // and a stop function
      stop = function()
      {
        window.clearInterval(timer);
        timer = null;
      };

    // add events to start and stop the timer
    this.addListener(textbox, 'focus', function() { start(); });
    this.addListener(textbox, 'blur', function() { stop(); });
  }

  // add an event listener
  // this is deliberately not called "addEvent" so that we can
  // compress the name, which would otherwise also effect "addEventListener"
  addListener(eventnode, eventname, eventhandler) {
    if(document.hasOwnProperty('addEventListener'))
    {
      return eventnode.addEventListener(eventname, eventhandler, false);
    }
    else if(document.hasOwnProperty('attachEvent')) {
      return eventnode.attachEvent('on' + eventname, eventhandler);
    }
  }

  // add a special load listener, split between
  // window load for IE and DOMContentLoaded for others
  // this is only used by the force form reset method, which wants that split
  addSpecialLoadListener(eventhandler) {
    // we specifically need a browser condition here, not a feature test
    // because we know specifically what should be given to who
    // and that doesn't match general support for these constructs
    if (window.hasOwnProperty('attachEvent')) {
      return (<any>window).attachEvent('onload', eventhandler);
    }
    else
    {
      return document.addEventListener('DOMContentLoaded', eventhandler, false);
    }
  }

  // get an event target by sniffing for its property name
  // (assuming here that e is already a cross-model reference
  // as it is from addListener because attachEvent in IE
  // automatically provides a corresponding event argument)
  getTarget(e) {
    // just in case!
    if(!e) { return null; }

    // otherwise return the target
    return e.target ? e.target : e.srcElement;
  }

// https://stackoverflow.com/questions/35080387/dynamically-add-event-listener-in-angular-2
  maskingOldPasswordInput(event: KeyboardEvent){
    let position = this.inputOldPasswd.nativeElement.selectionStart;
    this.maskedInput = this.maskedInput.substr(0, position) + String.fromCharCode(event.keyCode) + this.maskedInput.substr(position);
    console.log("mask1:" + event.keyCode);
    console.log(this.maskedInput);

    // console.log(this.inputOldPasswd.nativeElement.selectionStart);
  }

}

*/


/***/ }),

/***/ "./src/app/settings/my-account/change-password/change-password.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ChangePasswordService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__globals_service__ = __webpack_require__("./src/app/globals.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_Subject__ = __webpack_require__("./node_modules/rxjs/_esm5/Subject.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_common_http__ = __webpack_require__("./node_modules/@angular/common/esm5/http.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var ChangePasswordService = /** @class */ (function () {
    function ChangePasswordService(globals, http) {
        this.globals = globals;
        this.http = http;
        this.reply = new __WEBPACK_IMPORTED_MODULE_2_rxjs_Subject__["b" /* Subject */]();
    }
    /**
     * Change the password by calling the API endpoint
     * @param {string} oldPassword
     * @param {string} newPassword
     */
    ChangePasswordService.prototype.doIt = function (oldPassword, newPassword) {
        var _this = this;
        var endpoint = this.globals.endpoints.changePassword
            .replace('{profile_token}', this.globals.accountProfileToken);
        var headers = new __WEBPACK_IMPORTED_MODULE_3__angular_common_http__["c" /* HttpHeaders */]()
            .set('Accept-Language', this.globals.settings.default_language)
            .set('Authorization', 'Bearer ' + this.globals.authToken);
        var params = new __WEBPACK_IMPORTED_MODULE_3__angular_common_http__["d" /* HttpParams */]()
            .set('device_type', 'web');
        var body = {
            oldpassword: oldPassword,
            password: newPassword
        };
        this.http.put(endpoint, body, { headers: headers, params: params })
            .toPromise()
            .then(function (res) {
            _this.reply.next(res);
        })
            .catch(function (error) {
            _this.reply.next(error);
        });
    };
    ChangePasswordService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["A" /* Injectable */])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__globals_service__["a" /* GlobalsService */],
            __WEBPACK_IMPORTED_MODULE_3__angular_common_http__["a" /* HttpClient */]])
    ], ChangePasswordService);
    return ChangePasswordService;
}());



/***/ }),

/***/ "./src/app/settings/my-account/edit-profile/edit-profile.component.html":
/***/ (function(module, exports) {

module.exports = "<div id=\"outerEditProfileWrapper\">\r\n  <h4><div class=\"breadCrumb\" (click)=\"crumbClick(globals.pageTitleSlug)\">{{globals.strings.SCREEN_SETTINGS}}</div> <i class=\"fa fa-arrow-right\" aria-hidden=\"true\"></i> <div class=\"breadCrumb\" (click)=\"crumbClick('settings/my-account')\">{{globals?.strings.SCREEN_ACCOUNT}}</div> <i class=\"fa fa-arrow-right\" aria-hidden=\"true\"></i> {{globals.strings.EDIT_PROFILE_TITLE}}</h4>\r\n\r\n  <div id=\"edit-profile-wrapper\">\r\n    <form id=\"editProfileFrm\" #editProfile=\"ngForm\">\r\n\r\n      <div style=\"text-align: center\">\r\n        <img src=\"{{globals.currAvatar || globals.defaultAvatar}}\" style=\"width: 72px; height: 72px;\"><br> <!-- globals.currProfile?.avatar?.url -->\r\n\r\n        <button class=\"fileBtn\" id=\"fileup\" type=\"button\">{{globals.strings.EDIT_PROFILE_CHANGE_IMAGE}}\r\n          <input type=\"file\" (change)=\"uploadFile($event)\" id=\"avatar-file\" accept=\".png,.jpg,.jpeg\" value=\"\"/>\r\n        </button>\r\n      </div>\r\n\r\n      <div class=\"inputRow\" style=\"margin-top: 20px;\">\r\n        <label id=\"id4-editProfileEmail\" for=\"edit-profile-email\">{{globals.strings.EMAIL_PLACEHOLDER}}</label>\r\n        <input type=\"email\" id=\"edit-profile-email\" name=\"edit-profile-email\" aria-labelledby=\"id4-editProfileEmail\" aria-describedby=\"id4\" aria-required=\"true\" [(ngModel)]=\"email\" required>\r\n      </div>\r\n\r\n      <!-- Name and surname in one go -->\r\n      <div class=\"inputRow\">\r\n        <label id=\"id5-editProfileName\" for=\"edit-profile-name\">{{globals.strings.REGISTER_SCREEN_FIRST_NAME}}</label>\r\n        <input type=\"text\" name=\"edit-profile-name\" id=\"edit-profile-name\" aria-labelledby=\"id5-editProfileName\" aria-describedby=\"id5\" [(ngModel)]=\"name\">\r\n      </div>\r\n\r\n      <div class=\"inputRow\">\r\n        <label id=\"id6-editProfileAddress\" for=\"edit-profile-address\">{{globals.strings.REGISTER_SCREEN_ADDRESS}}</label>\r\n        <input type=\"text\" name=\"edit-profile-address\" id=\"edit-profile-address\" aria-labelledby=\"id6-editProfileAddress\" aria-describedby=\"id6\" [(ngModel)]=\"address\">\r\n      </div>\r\n\r\n      <div class=\"inputRow\">\r\n        <label id=\"id7-editProfilePostcode\" for=\"edit-profile-postcode\">{{globals.strings.REGISTER_SCREEN_ZIP_CODE}}</label>\r\n        <input type=\"text\" name=\"edit-profile-postcode\" id=\"edit-profile-postcode\" aria-labelledby=\"id7-editProfilePostcode\" aria-describedby=\"id7\" [(ngModel)]=\"zipCode\">\r\n      </div>\r\n\r\n      <div class=\"inputRow\">\r\n        <p style=\"text-align: center;\">\r\n          <button id=\"edit-profile-update-btn\" (click)=\"onSubmit()\" [disabled]=\"!editProfile.form.valid\">{{globals.strings.BUTTON_UPDATE_DETAILS}}</button>\r\n        </p>\r\n      </div>\r\n    </form>\r\n  </div>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/settings/my-account/edit-profile/edit-profile.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return EditProfileComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__globals_service__ = __webpack_require__("./src/app/globals.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__edit_profile_service__ = __webpack_require__("./src/app/settings/my-account/edit-profile/edit-profile.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_sweetalert2__ = __webpack_require__("./node_modules/sweetalert2/dist/sweetalert2.all.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_sweetalert2___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_sweetalert2__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var EditProfileComponent = /** @class */ (function () {
    function EditProfileComponent(globals, editProfileService, router) {
        var _this = this;
        this.globals = globals;
        this.editProfileService = editProfileService;
        this.router = router;
        this.showPassword = false;
        /* Subscribe to the service's subjects */
        this.editProfileService.editResponse.subscribe(function (val) {
            if (val.code == '200' || val.success == 1) {
                __WEBPACK_IMPORTED_MODULE_3_sweetalert2___default()({
                    type: 'success',
                    title: '<span style="color: #fff;" class="title">' + _this.globals.strings.EDIT_PROFILE_EDITED + '</span>',
                    background: '#2a292a'
                });
            }
            else {
                __WEBPACK_IMPORTED_MODULE_3_sweetalert2___default()({
                    type: 'error',
                    title: '<span style="color: #fff;" class="title">' + _this.globals.strings.SCREEN_ERROR_TITLE + '</span>',
                    html: '<span style="color: #fff;">' + val.description + '</span>',
                    background: '#2a292a'
                });
            }
        });
    }
    EditProfileComponent.prototype.ngOnInit = function () {
        // Fill the form's inputs with the current profile data
        this.email = this.globals.currProfile.email;
        this.name = this.globals.currProfile.name;
        this.address = this.globals.currProfile.address;
    };
    /**
     * Modify profile's avatar with image uploaded by the user
     * @param event
     */
    EditProfileComponent.prototype.uploadFile = function (event) {
        var files = event.target.files;
        if (files.length > 0) {
            console.log(files); // You will see the file
            this.editProfileService.uploadAvatar(files);
        }
    };
    EditProfileComponent.prototype.crumbClick = function (waytoGo) {
        this.router.navigate([waytoGo]);
    };
    EditProfileComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["n" /* Component */])({
            selector: 'app-edit-profile',
            template: __webpack_require__("./src/app/settings/my-account/edit-profile/edit-profile.component.html"),
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__globals_service__["a" /* GlobalsService */],
            __WEBPACK_IMPORTED_MODULE_2__edit_profile_service__["a" /* EditProfileService */],
            __WEBPACK_IMPORTED_MODULE_4__angular_router__["f" /* Router */]])
    ], EditProfileComponent);
    return EditProfileComponent;
}());



/***/ }),

/***/ "./src/app/settings/my-account/edit-profile/edit-profile.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return EditProfileService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__globals_service__ = __webpack_require__("./src/app/globals.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_common_http__ = __webpack_require__("./node_modules/@angular/common/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_Subject__ = __webpack_require__("./node_modules/rxjs/_esm5/Subject.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var EditProfileService = /** @class */ (function () {
    function EditProfileService(globals, http) {
        this.globals = globals;
        this.http = http;
        this.editResponse = new __WEBPACK_IMPORTED_MODULE_3_rxjs_Subject__["b" /* Subject */]();
    }
    /**
     * Upload a new avatar for the current profile
     * @param file
     */
    EditProfileService.prototype.uploadAvatar = function (file) {
        // Get the current profile's id first...
        // @Notes: the endpoint dedicated to returning the profile info SHOULD return this!!
        var _this = this;
        //let profileId = this.getProfileId(this.globals.accountProfileToken);
        //
        var profileId = this.globals.accountProfileToken;
        console.log(this.globals.currProfile);
        var formData = {
            image: '',
            profile_id: profileId,
            name: this.globals.currProfile.name,
            email: this.globals.currProfile.email
        };
        console.log(formData);
        console.log(this.globals.userProfiles);
        /* Body */
        /* 'assets/close-dialog-icon-32x32.png',
        let formData = {
          image: file[0].name,
          profile_id: profileId,
          name: this.globals.currProfile.name,
          email: this.globals.currProfile.email
        };
        */
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_common_http__["c" /* HttpHeaders */]()
            .set('Accept-Language', this.globals.settings.default_language)
            .set('Authorization', 'Bearer ' + this.globals.authToken);
        var params = new __WEBPACK_IMPORTED_MODULE_2__angular_common_http__["d" /* HttpParams */]()
            .set('device_type', 'web');
        var endpoint = this.globals.endpoints.profiles.replace('{account_token}', this.globals.accountToken);
        this.http.post(endpoint, formData, { headers: headers, params: params })
            .toPromise()
            .then(function (res) {
            _this.editResponse.next(res);
        })
            .catch(function (error) {
            _this.editResponse.next(error);
        });
    };
    /**
     * Get the id of a profile from a given token
     * @param {string} token
     */
    EditProfileService.prototype.getProfileId = function (token) {
        var pId = null;
        this.globals.userProfiles.forEach(function (element) {
            if (element.token === token) {
                pId = element.id;
            }
        });
        return pId;
    };
    EditProfileService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["A" /* Injectable */])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__globals_service__["a" /* GlobalsService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_common_http__["a" /* HttpClient */]])
    ], EditProfileService);
    return EditProfileService;
}());



/***/ }),

/***/ "./src/app/settings/my-account/my-account.component.html":
/***/ (function(module, exports) {

module.exports = "<div id=\"myAccountWrapper\">\r\n  <h4><div class=\"breadCrumb\" (click)=\"crumbClick(globals.pageTitleSlug)\">{{globals.strings.SCREEN_SETTINGS}}</div> <i class=\"fa fa-arrow-right\" aria-hidden=\"true\"></i> {{globals?.strings.SCREEN_ACCOUNT}}</h4>\r\n  <div class=\"my-account-wrapper\">\r\n\r\n    <div class=\"my-account-user-wrapper\">\r\n\r\n      <table>\r\n        <tr>\r\n          <td class=\"avatar\"><i class=\"fa fa-user-circle\"></i></td>\r\n          <td>\r\n            <table class=\"user-info\">\r\n              <tr>\r\n                <td class=\"label\">{{globals.strings.LOGIN_SCREEN_USERNAME}}</td>\r\n                <td class=\"info\">{{globals.currProfile?.name}}</td>\r\n              </tr>\r\n              <tr>\r\n                <td class=\"label\">{{globals.strings.MY_ACCOUNT_EMAIL}}</td>\r\n                <td class=\"info\">{{globals.currProfile?.email}}</td>\r\n              </tr>\r\n              <tr>\r\n                <td class=\"label\">{{globals.strings.MY_ACCOUNT_SIGNUP_DATE}}</td>\r\n                <td class=\"info\">{{globals.currProfile?.sign_up_date.substring(0, 10)}}</td>\r\n              </tr>\r\n            </table>\r\n          </td>\r\n        </tr>\r\n      </table>\r\n\r\n    </div>\r\n    <div class=\"clearfix\"></div>\r\n\r\n    <div class=\"my-account-menu-wrapper\">\r\n      <div class=\"my-account-menuOption\" *ngFor=\"let menuOption of menuOptions\">\r\n        <table class=\"my-account-menuOptionsTbl\">\r\n          <tr>\r\n            <!-- Routes under My account -->\r\n            <a *ngIf=\"menuOption.type == 'router'\" routerLink=\"/settings/my-account/{{menuOption.action}}\">\r\n              <td class=\"my-account-btn-txt\">{{menuOption.btn_text}}</td>\r\n            </a>\r\n\r\n            <!-- Direct routes -->\r\n            <a *ngIf=\"menuOption.type == 'router-direct'\" routerLink=\"/{{menuOption.action}}\">\r\n              <td class=\"my-account-btn-txt\">{{menuOption.btn_text}}</td>\r\n            </a>\r\n\r\n            <!-- Call back functions -->\r\n            <a *ngIf=\"menuOption.type =='callback'\" (click)=\"this.menuOption.action(true)\">\r\n              <td class=\"my-account-btn-txt\">{{menuOption.btn_text}}</td>\r\n            </a>\r\n          </tr>\r\n        </table>\r\n      </div>\r\n    </div>\r\n</div>\r\n\r\n\r\n\r\n\r\n</div>\r\n\r\n<app-change-password></app-change-password>\r\n\r\n"

/***/ }),

/***/ "./src/app/settings/my-account/my-account.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MyAccountComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__globals_service__ = __webpack_require__("./src/app/globals.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__sessions_sessions_service__ = __webpack_require__("./src/app/sessions/sessions.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__login_login_service__ = __webpack_require__("./src/app/login/login.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__change_password_change_password_popup_service__ = __webpack_require__("./src/app/settings/my-account/change-password/change-password-popup-service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var MyAccountComponent = /** @class */ (function () {
    function MyAccountComponent(globals, sessions, login, changePasswordPopupService, router) {
        var _this = this;
        this.globals = globals;
        this.sessions = sessions;
        this.login = login;
        this.changePasswordPopupService = changePasswordPopupService;
        this.router = router;
        // subscribe to the sessions service so we can show the list of user session
        this.sessions.sessions.subscribe(function (value) {
            // Do we have any live sessions?
            if (value.length > 0) {
                _this.sessions.isVisible.next(true);
                _this.router.navigate(['sessions']);
            }
        });
        // subscribe to the login service for logout option
        this.login.finishedLogout.subscribe(function (value) {
            if (value) {
                _this.router.navigate(['']);
            }
        });
    }
    MyAccountComponent.prototype.ngOnInit = function () {
        this.buildMenuOptions();
    };
    /**
     * Build the buttons for the my account screen
     */
    MyAccountComponent.prototype.buildMenuOptions = function () {
        this.menuOptions = [];
        // first option depends on whether the settings allow more than one profile
        if (this.globals.settings.profiles_limit > 1)
            this.menuOptions.push({ btn_text: this.globals.strings.SETTINGS_SCREEN_MANAGE_PROFILES, type: 'router', action: 'manage-profiles' });
        if (this.globals.settings.user_configurations.enabled_features.manage_account != 0) {
            this.menuOptions.push({ btn_text: this.globals.strings.SETTINGS_CHANGE_INFO, type: 'router', action: 'edit' }, { btn_text: this.globals.strings.BUTTON_CHANGE_PASSWORD, type: 'callback', action: this.changePassword.bind(this) });
        }
        if (this.globals.rules.purchasePin)
            this.menuOptions.push({ btn_text: this.globals.strings.SETTINGS_EDIT_PURCHASE_PIN, type: 'router', action: 'change-purchase-pin' });
        //if (this.globals.settings.user_configurations.parental_control_enabled)
        this.menuOptions.push({ btn_text: this.globals.strings.SETTINGS_SCREEN_PARENTAL_CONTROLS, type: 'router', action: 'parental-control' });
        this.menuOptions.push({ btn_text: this.globals.strings.SETTINGS_SCREEN_DEVICES, type: 'callback', action: this.showSessions.bind(this) });
        if (this.globals.rules.manageCreditCard)
            this.menuOptions.push({ btn_text: this.globals.strings.BUTTON_MANAGE_CREDIT_CARD, type: 'router', action: 'manage-cc' });
        if (this.globals.rules.subscriptions)
            this.menuOptions.push({ btn_text: this.globals.strings.SUBSCRIPTION_PLAN_NAME, type: 'router', action: 'subscription' });
        if (this.globals.settings.user_configurations.authentication_screens.pairing)
            this.menuOptions.push({ btn_text: this.globals.strings.SETTINGS_SCREEN_PAIRING_CODE, type: 'router', action: 'pairing' });
        if (this.globals.userLoggedIn)
            this.menuOptions.push({ btn_text: this.globals.strings.SETTINGS_SCREEN_SIGN_OUT, type: 'callback', action: this.logout.bind(this) });
    };
    MyAccountComponent.prototype.changePassword = function () {
        this.changePasswordPopupService.show.next(true);
    };
    /**
     * Prepare the list of sessions to be shown
     */
    MyAccountComponent.prototype.showSessions = function () {
        this.sessions.getLiveSessions(this.globals.authToken);
    };
    MyAccountComponent.prototype.logout = function () {
        this.login.logout();
    };
    MyAccountComponent.prototype.crumbClick = function (waytoGo) {
        console.log(waytoGo);
        this.router.navigate([waytoGo]);
    };
    MyAccountComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["n" /* Component */])({
            selector: 'app-my-account',
            template: __webpack_require__("./src/app/settings/my-account/my-account.component.html")
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__globals_service__["a" /* GlobalsService */],
            __WEBPACK_IMPORTED_MODULE_2__sessions_sessions_service__["a" /* SessionsService */],
            __WEBPACK_IMPORTED_MODULE_3__login_login_service__["a" /* LoginService */],
            __WEBPACK_IMPORTED_MODULE_5__change_password_change_password_popup_service__["a" /* ChangePasswordPopupService */],
            __WEBPACK_IMPORTED_MODULE_4__angular_router__["f" /* Router */]])
    ], MyAccountComponent);
    return MyAccountComponent;
}());



/***/ }),

/***/ "./src/app/settings/my-account/my-account.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MyAccountService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common_http__ = __webpack_require__("./node_modules/@angular/common/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__globals_service__ = __webpack_require__("./src/app/globals.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_Subject__ = __webpack_require__("./node_modules/rxjs/_esm5/Subject.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var MyAccountService = /** @class */ (function () {
    function MyAccountService(http, globals) {
        this.http = http;
        this.globals = globals;
        this.ModalPasswordWindow = new __WEBPACK_IMPORTED_MODULE_3_rxjs_Subject__["b" /* Subject */]();
        this.response = new __WEBPACK_IMPORTED_MODULE_3_rxjs_Subject__["b" /* Subject */]();
        this.ModalPasswordWindow.next(false);
    }
    MyAccountService.prototype.putPasswd = function (oldPassword, newPassword) {
        var _this = this;
        //API path
        var endpoint = this.globals.endpoints.changePassword
            .replace('{profile_token}', this.globals.accountProfileToken);
        //API header
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["c" /* HttpHeaders */]()
            .set('Accept-Language', this.globals.settings.default_language)
            .set('Authorization', 'Bearer ' + this.globals.authToken);
        //API query
        var params = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["d" /* HttpParams */]()
            .set('device_type', 'web');
        //API body
        var bodydata = { oldpassword: oldPassword, password: newPassword };
        this.http.put(endpoint, bodydata, { headers: headers, params: params })
            .toPromise()
            .then(function (res) {
            _this.response.next(res);
        })
            .catch(function (error) {
            console.error(error);
            _this.response.next(error);
        });
    };
    /**
     * Send pairing code to validate STV session
     */
    MyAccountService.prototype.putPairing = function (pairingCode) {
        var _this = this;
        // check if a DUID is already in local storage. If not generate a new one and store it.
        var duid = localStorage.getItem(this.globals.localStorageKeyPrefix + 'DUID');
        if (duid === '' || duid === null) {
            duid = this.generateDUID();
            localStorage.setItem(this.globals.localStorageKeyPrefix + 'DUID', duid);
        }
        //API path
        var endpoint = this.globals.endpoints.pairingCode
            .replace('{profile_token}', this.globals.accountProfileToken);
        //API header
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["c" /* HttpHeaders */]()
            .set('Accept-Language', this.globals.settings.default_language)
            .set('Authorization', 'Bearer ' + this.globals.authToken);
        //API query
        var params = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["d" /* HttpParams */]()
            .set('device_type', 'web')
            .set('duid', duid);
        this.http.put(endpoint, { pairing_code: pairingCode }, { headers: headers, params: params })
            .toPromise()
            .then(function (res) {
            _this.response.next(res);
        })
            .catch(function (error) {
            console.error(error);
            _this.response.next(error);
        });
    };
    /**
     * Generate Device Unique Id
     * @returns {string} - '00000000-0000-0000-0000-000000000000'
     */
    MyAccountService.prototype.generateDUID = function () {
        function _p8(s) {
            var p = (Math.random().toString(16) + "000000000").substr(2, 8);
            return s ? "-" + p.substr(0, 4) + "-" + p.substr(4, 4) : p;
        }
        return _p8(false) + _p8(true) + _p8(true) + _p8(false);
    };
    MyAccountService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["A" /* Injectable */])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_common_http__["a" /* HttpClient */], __WEBPACK_IMPORTED_MODULE_2__globals_service__["a" /* GlobalsService */]])
    ], MyAccountService);
    return MyAccountService;
}());



/***/ }),

/***/ "./src/app/settings/my-account/pairing/pairing.component.html":
/***/ (function(module, exports) {

module.exports = "<div id=\"pairingWrapper\">\r\n  <form #pairingFrm=\"ngForm\" (ngSubmit)=\"onSubmit()\">\r\n    <!-- a varivel pairingFrm  agora uma referncia para a diretiva-ngForm deste <form> e monitoriza o estado dos -->\r\n    <!-- vrios elementos que este <form> contm e que usem a diretiva-ngModel; neste caso s o <input> -->\r\n    <!-- TODO: replace with api key -->\r\n    <p>{{globals.strings.SETTINGS_SCREEN_PAIRING_CODE}}</p>\r\n    <div class=\"vspacer\">\r\n      <input id=\"pairingInput\" name=\"pairing\" type=\"text\" [(ngModel)]=\"pairingCode\" (focus)=\"responded=false\" required>\r\n      <!-- quando o <input> usa o [{ngModel}] ento tem de se definir no <input> um name tag nico, neste caso: name=\"pairing\" (que no  usado) -->\r\n      <!-- se o <input> tem focus ento apaga a mensagem, i.e. coloca responded=false -->\r\n      <button type=\"submit\" class=\"butn butn-success\" [disabled]=\"!pairingFrm.form.valid\">{{globals.strings.BUTTON_CONFIRM}}</button>\r\n      <!-- aqui  usada a varivel da diretiva-ngForm e testado o seu membro valid -->\r\n    </div>\r\n  </form>\r\n  <div id=\"pairingMsg\">\r\n    <div *ngIf=\"responded\" >{{message}}</div>\r\n  </div>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/settings/my-account/pairing/pairing.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PairingComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__pairing_service__ = __webpack_require__("./src/app/settings/my-account/pairing/pairing.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__globals_service__ = __webpack_require__("./src/app/globals.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var PairingComponent = /** @class */ (function () {
    function PairingComponent(service, globals) {
        var _this = this;
        this.service = service;
        this.globals = globals;
        this.responded = false;
        this.message = '';
        this.service.response.subscribe(function (value) {
            _this.responded = true;
            _this.message = value.error.description;
            // Apparently no action is needed when the response is valid, the API will take care of the rest(?)
        });
    }
    PairingComponent.prototype.ngOnInit = function () {
    };
    PairingComponent.prototype.onSubmit = function () {
        this.service.putPairing(this.pairingCode);
    };
    PairingComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["n" /* Component */])({
            selector: 'app-pairing',
            template: __webpack_require__("./src/app/settings/my-account/pairing/pairing.component.html")
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__pairing_service__["a" /* PairingService */],
            __WEBPACK_IMPORTED_MODULE_2__globals_service__["a" /* GlobalsService */]])
    ], PairingComponent);
    return PairingComponent;
}());



/***/ }),

/***/ "./src/app/settings/my-account/pairing/pairing.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PairingService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common_http__ = __webpack_require__("./node_modules/@angular/common/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__globals_service__ = __webpack_require__("./src/app/globals.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_Subject__ = __webpack_require__("./node_modules/rxjs/_esm5/Subject.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var PairingService = /** @class */ (function () {
    // Differences of response being an observable of type Subject rather then of type Observable:
    // 1-  All subscribers to this response (Subject) will share the same execution of the Subject and thus receive the same data
    // 1a- For an Observable each subscriber causes an independent execution of the observable.
    // 2-  I thinks less important for this local use, this response (Subject) is able, apart from producing data, to also consume it
    // 2a- An Observable is only a data producer
    function PairingService(http, globals) {
        this.http = http;
        this.globals = globals;
        this.response = new __WEBPACK_IMPORTED_MODULE_3_rxjs_Subject__["b" /* Subject */]();
    }
    /**
     * Send pairing code to validate STV session
     */
    PairingService.prototype.putPairing = function (pairingCode) {
        var _this = this;
        // check if a DUID is already in local storage. If not generate a new one and store it.
        var duid = localStorage.getItem(this.globals.localStorageKeyPrefix + 'DUID');
        if (duid === '' || duid === null) {
            duid = this.generateDUID();
            localStorage.setItem(this.globals.localStorageKeyPrefix + 'DUID', duid);
        }
        //API header
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["c" /* HttpHeaders */]()
            .set('Accept-Language', this.globals.settings.default_language)
            .set('Authorization', 'Bearer ' + this.globals.authToken);
        //API query
        var params = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["d" /* HttpParams */]()
            .set('device_type', 'web')
            .set('duid', duid);
        //API path
        var endpoint = this.globals.endpoints.pairingCode
            .replace('{profile_token}', this.globals.accountProfileToken);
        this.http.put(endpoint, { pairing_code: pairingCode }, { headers: headers, params: params })
            .toPromise()
            .then(function (res) {
            _this.response.next(res);
        })
            .catch(function (error) {
            console.error(error);
            _this.response.next(error);
        });
    };
    /**
     * Generate Device Unique Id
     * @returns {string} - '00000000-0000-0000-0000-000000000000'
     */
    PairingService.prototype.generateDUID = function () {
        function _p8(s) {
            var p = (Math.random().toString(16) + "000000000").substr(2, 8);
            return s ? "-" + p.substr(0, 4) + "-" + p.substr(4, 4) : p;
        }
        return _p8(false) + _p8(true) + _p8(true) + _p8(false);
    };
    PairingService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["A" /* Injectable */])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_common_http__["a" /* HttpClient */],
            __WEBPACK_IMPORTED_MODULE_2__globals_service__["a" /* GlobalsService */]])
    ], PairingService);
    return PairingService;
}());



/***/ }),

/***/ "./src/app/settings/my-account/parental/parental-popup.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ParentalPopupService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_rxjs_Rx__ = __webpack_require__("./node_modules/rxjs/_esm5/Rx.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var ParentalPopupService = /** @class */ (function () {
    function ParentalPopupService() {
        this.show = new __WEBPACK_IMPORTED_MODULE_1_rxjs_Rx__["a" /* Subject */]();
    }
    ParentalPopupService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["A" /* Injectable */])(),
        __metadata("design:paramtypes", [])
    ], ParentalPopupService);
    return ParentalPopupService;
}());



/***/ }),

/***/ "./src/app/settings/my-account/parental/parental.component.html":
/***/ (function(module, exports) {

module.exports = "<div id=\"parentalControlsWrapper\">\r\n  <h4><div class=\"breadCrumb\" (click)=\"crumbClick(globals.pageTitleSlug)\">{{globals.strings.SCREEN_SETTINGS}}</div> <i class=\"fa fa-arrow-right\" aria-hidden=\"true\"></i> <div class=\"breadCrumb\" (click)=\"crumbClick('settings/my-account')\">{{globals?.strings.SCREEN_ACCOUNT}}</div> <i class=\"fa fa-arrow-right\" aria-hidden=\"true\"></i> {{globals.strings.SCREEN_PARENTAL_CONTROLS}}</h4>\r\n  <div id=\"parentalControlContent\">\r\n    <table id=\"pinBtnsTbl\">\r\n      <tr>\r\n        <td><button (click)=\"changePin()\">{{globals.strings.SCREEN_CHANGE_PIN}}</button></td>\r\n        <td><button (click)=\"recoverPin()\">{{globals.strings.SCREEN_RECOVER_PIN}}</button></td>\r\n        <td *ngIf=\"hasChanged\"><button (click)=\"askForPin()\">{{globals.strings.GENERAL_SAVE}}</button></td>\r\n      </tr>\r\n    </table>\r\n\r\n    <table id=\"ratingsTbl\">\r\n      <!-- first row immutable -->\r\n      <tr>\r\n        <td id=\"id8-parentalCtrlSwitch\">{{globals.strings.SCREEN_PARENTAL_CONTROLS}}</td>\r\n        <td>\r\n          <label class=\"switch\">\r\n            <input *ngIf=\"parentalCtrlOn\" type=\"radio\" aria-labelledby=\"id8-parentalCtrlSwitch\" aria-describedby=\"id8\" (click)=\"toggleParentalCtrl();\" checked=\"checked\">\r\n            <input *ngIf=\"!parentalCtrlOn\" type=\"radio\" aria-labelledby=\"id8-parentalCtrlSwitch\" aria-describedby=\"id8\" (click)=\"toggleParentalCtrl();\">\r\n            <span class=\"slider round\"></span>\r\n          </label>\r\n        </td>\r\n      </tr>\r\n\r\n      <tr *ngFor=\"let rating of ratings?.data\">\r\n        <td id=\"id9-ratingDescrption\">{{rating.name}} - {{rating.description}}</td>\r\n        <td>\r\n          <label class=\"radio-container\">\r\n            <input type=\"radio\" name=\"radio\" aria-labelledby=\"id9-ratingDescrption\" aria-describedby=\"id9\" (click)=\"changeRating(rating.id)\" [disabled]=\"!parentalCtrlOn\" [checked]=\"parentalCtrlOn && rating.id===lastRule\">\r\n            <span class=\"checkmark\"></span>\r\n          </label>\r\n        </td>\r\n      </tr>\r\n    </table>\r\n  </div>\r\n</div>\r\n\r\n<!-- Ask for pin modal -->\r\n<div *ngIf=\"askforPin===true\" class=\"popup-container\">\r\n  <div class=\"popup-close\" (click)=\"askforPin=false\"></div>\r\n  <div class=\"popup-content\">\r\n    <div id=\"parentalPinContent\">\r\n      <span class=\"close-button\" (click)=\"askforPin=false\"></span>\r\n      <h4>{{globals.strings.INFO_PIN_INSERTION}}</h4>\r\n\r\n      <div class=\"parentalPinMessages\" [ngClass]=\"{'pinSuccess': !opError, 'pinError': opError}\" *ngIf=\"messages.length > 0\">\r\n        <span>{{messages}}</span>\r\n      </div>\r\n\r\n      <form id=\"parentalPinFrm\">\r\n        <div class=\"pinPassword\">\r\n          <span class=\"fa\" [ngClass]=\"{'fa-eye-slash': showPassword, 'fa-eye': !showPassword}\" (click)=\"toggleEye()\"></span>\r\n          <input type=\"{{showPassword ? 'text' : 'password'}}\" name=\"parental-pin\" id=\"parental-pin\" [(ngModel)]=\"parentalPin\" required>\r\n        </div>\r\n\r\n        <button (click)=\"verifyPin()\">{{globals.strings.BUTTON_CONFIRM}}</button>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<!-- change pin modal -->\r\n<div *ngIf=\"showChangeModal===true\" class=\"popup-container\">\r\n  <div class=\"popup-close\" (click)=\"showChangeModal=false\"></div>\r\n  <div class=\"popup-content\">\r\n    <div id=\"changeParentalPinContent\">\r\n      <span class=\"close-button\" (click)=\"showChangeModal=false\"></span>\r\n      <h4>{{globals.strings.CHANGE_PIN_ENTER_PIN}}</h4>\r\n\r\n      <div class=\"parentalPinMessages\" [ngClass]=\"{'pinSuccess': !updateOpError, 'pinError': updateOpError}\" *ngIf=\"updateMessages.length > 0\">\r\n        <span>{{updateMessages}}</span>\r\n      </div>\r\n\r\n      <form id=\"changeParentalPinFrm\">\r\n        <div class=\"pinPassword\">\r\n          <span class=\"fa\" [ngClass]=\"{'fa-eye-slash': showPasswordOld, 'fa-eye': !showPasswordOld}\" (click)=\"toggleEyeOld()\"></span>\r\n          <input type=\"{{showPassword ? 'text' : 'password'}}\" name=\"old-pin\" id=\"old-pin\" [(ngModel)]=\"oldPin\" placeholder=\"{{globals.strings.CHANGE_PIN_SCREEN_OLD_PIN}}\" required>\r\n        </div>\r\n\r\n        <div class=\"pinPassword\">\r\n          <span class=\"fa\" [ngClass]=\"{'fa-eye-slash': showPasswordNew, 'fa-eye': !showPasswordNew}\" (click)=\"toggleEyeNew()\"></span>\r\n          <input type=\"{{showPassword ? 'text' : 'password'}}\" name=\"new-pin\" id=\"new-pin\" [(ngModel)]=\"newPin\" placeholder=\"{{globals.strings.CHANGE_PIN_SCREEN_NEW_PIN}}\" required>\r\n        </div>\r\n\r\n        <button (click)=\"verifyChangePin()\">{{globals.strings.BUTTON_CHANGE_PIN}}</button>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n"

/***/ }),

/***/ "./src/app/settings/my-account/parental/parental.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ParentalComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__globals_service__ = __webpack_require__("./src/app/globals.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__parental_popup_service__ = __webpack_require__("./src/app/settings/my-account/parental/parental-popup.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__parental_service__ = __webpack_require__("./src/app/settings/my-account/parental/parental.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__recover_pin_recover_pin_popup_service__ = __webpack_require__("./src/app/recover-pin/recover-pin-popup.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__change_pin_change_pin_popup_service__ = __webpack_require__("./src/app/change-pin/change-pin-popup.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_sweetalert2__ = __webpack_require__("./node_modules/sweetalert2/dist/sweetalert2.all.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_sweetalert2___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_sweetalert2__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var ParentalComponent = /** @class */ (function () {
    function ParentalComponent(globals, popup, parentalService, recoverPinSrv, changePinSrv, router) {
        var _this = this;
        this.globals = globals;
        this.popup = popup;
        this.parentalService = parentalService;
        this.recoverPinSrv = recoverPinSrv;
        this.changePinSrv = changePinSrv;
        this.router = router;
        this.parentalCtrlOn = false;
        this.askforPin = false;
        this.parentalPin = '';
        this.hasChanged = false;
        this.lastRule = '';
        this.messages = '';
        this.showPassword = false;
        this.showPasswordOld = false;
        this.showPasswordNew = false;
        this.opError = false; // For parental pin operation messages
        /* For updating the parental pin */
        this.showChangeModal = false;
        this.oldPin = '';
        this.newPin = '';
        this.updateOpError = false; // For changing classes in the messages div
        this.updateMessages = '';
        parentalService.ageRatings.subscribe(function (value) {
            _this.ratings = value;
        });
        parentalService.setParentalResponse.subscribe(function (value) {
            if (value.hasOwnProperty('data')) {
                _this.opError = false;
                _this.messages = value.data.description;
            }
            if (value.hasOwnProperty('error')) {
                _this.opError = true;
                _this.messages = value.error.description;
            }
        });
        parentalService.updateParentalPinResponse.subscribe(function (value) {
            if (value.hasOwnProperty('data')) {
                _this.updateOpError = false;
                _this.updateMessages = value.data.msg;
            }
            if (value.hasOwnProperty('error')) {
                _this.updateOpError = true;
                _this.updateMessages = value.error.description;
            }
        });
        parentalService.recoverParentalPinResponse.subscribe(function (value) {
            if (value.hasOwnProperty('data')) {
                __WEBPACK_IMPORTED_MODULE_6_sweetalert2___default()({
                    type: 'success',
                    html: '<span style="color: #fff; font-size: 16px;">' + value.data.description + '</span>',
                    background: '#2a292a'
                });
            }
            if (value.hasOwnProperty('error')) {
                __WEBPACK_IMPORTED_MODULE_6_sweetalert2___default()({
                    type: 'error',
                    title: '<span style="color: #fff;  font-size: 16px;" class="title">' + _this.globals.strings.GENERAL_ERROR + '</span>',
                    html: '<span style="color: #fff;  font-size: 16px;">' + value.error.description + '</span>',
                    background: '#2a292a'
                });
            }
        });
    }
    ParentalComponent.prototype.ngOnInit = function () {
        this.parentalService.getAgeRatings();
        // Check the current parental status for the currently chosen profile
        this.parentalCtrlOn = this.globals.currProfile.parental_controls.enabled === 1 ? true : false;
        // Get the current setting for this profile
        this.lastRule = this.globals.currProfile.parental_controls.setting.id;
    };
    ParentalComponent.prototype.toggleParentalCtrl = function () {
        this.parentalCtrlOn = !this.parentalCtrlOn;
        this.globals.currProfile.parental_controls.enabled = this.parentalCtrlOn === true ? 1 : 0;
        this.hasChanged = true;
    };
    /**
     * Change the current age rating
     * @param {string} id
     */
    ParentalComponent.prototype.changeRating = function (id) {
        if (id !== this.lastRule)
            this.hasChanged = true;
        this.lastRule = id;
    };
    ParentalComponent.prototype.askForPin = function () {
        this.askforPin = true;
    };
    ParentalComponent.prototype.verifyPin = function () {
        var isLegit = true;
        // Digits only
        for (var i = 0; i < this.parentalPin.length; i++) {
            var c = this.parentalPin[i];
            if (c >= '0' && c <= '9') { /* ok */ }
            else {
                isLegit = false;
                break;
            }
        }
        if (this.parentalPin.length !== 4 || !isLegit) {
            this.opError = true;
            this.messages = this.globals.strings.ERROR_PIN_SHORT;
            return;
        }
        // clear messages
        this.messages = '';
        // Check if the parental control is disabled. We must send a setting of 0 to disable it
        if (!this.parentalCtrlOn)
            this.lastRule = '0';
        this.parentalService.setParentalControl(this.lastRule, this.parentalPin);
    };
    ParentalComponent.prototype.verifyChangePin = function () {
        var isLegit = true;
        // Digits only
        for (var i = 0; i < this.oldPin.length; i++) {
            var c = this.oldPin[i];
            if (c >= '0' && c <= '9') { /* ok */ }
            else {
                isLegit = false;
                break;
            }
        }
        for (var i = 0; i < this.newPin.length; i++) {
            var c = this.newPin[i];
            if (c >= '0' && c <= '9') { /* ok */ }
            else {
                isLegit = false;
                break;
            }
        }
        if (this.oldPin.length !== 4 || this.newPin.length !== 4 || !isLegit) {
            this.updateOpError = true;
            this.updateMessages = this.globals.strings.ERROR_PIN_SHORT;
            return;
        }
        // clear messages
        this.updateMessages = '';
        // Check if the parental control is disabled. We must send a setting of 0 to disable it
        if (!this.parentalCtrlOn)
            this.lastRule = '0';
        this.parentalService.changeParentalPin(this.oldPin, this.newPin);
    };
    ParentalComponent.prototype.changePin = function () {
        this.showChangeModal = true;
    };
    ParentalComponent.prototype.recoverPin = function () {
        var _this = this;
        __WEBPACK_IMPORTED_MODULE_6_sweetalert2___default()({
            title: '<span style="color: #fff; font-size: 16px;">' + this.globals.strings.BUTTON_RECOVER_PIN + '</span>',
            html: '<span style="color: #fff; font-size: 16px;">' + this.globals.strings.INFO_PIN_RECOVER + '</span>',
            type: 'warning',
            confirmButtonText: this.globals.strings.BUTTON_CONFIRM,
            background: '#2a292a'
        }).then(function (result) {
            if (result.value) {
                _this.parentalService.recoverParentalPin();
            }
        });
    };
    ParentalComponent.prototype.toggleEye = function () {
        this.showPassword = !this.showPassword;
    };
    ParentalComponent.prototype.toggleEyeOld = function () {
        this.showPasswordOld = !this.showPasswordOld;
    };
    ParentalComponent.prototype.toggleEyeNew = function () {
        this.showPasswordNew = !this.showPasswordNew;
    };
    ParentalComponent.prototype.crumbClick = function (waytoGo) {
        this.router.navigate([waytoGo]);
    };
    ParentalComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["n" /* Component */])({
            selector: 'app-parental',
            template: __webpack_require__("./src/app/settings/my-account/parental/parental.component.html")
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__globals_service__["a" /* GlobalsService */],
            __WEBPACK_IMPORTED_MODULE_2__parental_popup_service__["a" /* ParentalPopupService */],
            __WEBPACK_IMPORTED_MODULE_3__parental_service__["a" /* ParentalService */],
            __WEBPACK_IMPORTED_MODULE_4__recover_pin_recover_pin_popup_service__["a" /* RecoverPinPopupService */],
            __WEBPACK_IMPORTED_MODULE_5__change_pin_change_pin_popup_service__["a" /* ChangePinPopupService */],
            __WEBPACK_IMPORTED_MODULE_7__angular_router__["f" /* Router */]])
    ], ParentalComponent);
    return ParentalComponent;
}());



/***/ }),

/***/ "./src/app/settings/my-account/parental/parental.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ParentalModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common__ = __webpack_require__("./node_modules/@angular/common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__parental_component__ = __webpack_require__("./src/app/settings/my-account/parental/parental.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__parental_popup_service__ = __webpack_require__("./src/app/settings/my-account/parental/parental-popup.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__parental_service__ = __webpack_require__("./src/app/settings/my-account/parental/parental.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};






var ParentalModule = /** @class */ (function () {
    function ParentalModule() {
    }
    ParentalModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["I" /* NgModule */])({
            imports: [
                __WEBPACK_IMPORTED_MODULE_1__angular_common__["b" /* CommonModule */],
                __WEBPACK_IMPORTED_MODULE_2__angular_forms__["a" /* FormsModule */],
                __WEBPACK_IMPORTED_MODULE_2__angular_forms__["b" /* ReactiveFormsModule */]
            ],
            declarations: [__WEBPACK_IMPORTED_MODULE_3__parental_component__["a" /* ParentalComponent */]],
            providers: [__WEBPACK_IMPORTED_MODULE_4__parental_popup_service__["a" /* ParentalPopupService */], __WEBPACK_IMPORTED_MODULE_5__parental_service__["a" /* ParentalService */]],
            exports: [__WEBPACK_IMPORTED_MODULE_3__parental_component__["a" /* ParentalComponent */]]
        })
    ], ParentalModule);
    return ParentalModule;
}());



/***/ }),

/***/ "./src/app/settings/my-account/parental/parental.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ParentalService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_rxjs_add_operator_catch__ = __webpack_require__("./node_modules/rxjs/_esm5/add/operator/catch.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_common_http__ = __webpack_require__("./node_modules/@angular/common/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__globals_service__ = __webpack_require__("./src/app/globals.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_Subject__ = __webpack_require__("./node_modules/rxjs/_esm5/Subject.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var ParentalService = /** @class */ (function () {
    function ParentalService(http, globals) {
        this.http = http;
        this.globals = globals;
        this.ageRatings = new __WEBPACK_IMPORTED_MODULE_4_rxjs_Subject__["b" /* Subject */]();
        this.setParentalResponse = new __WEBPACK_IMPORTED_MODULE_4_rxjs_Subject__["b" /* Subject */]();
        this.verifyParentalPinResponse = new __WEBPACK_IMPORTED_MODULE_4_rxjs_Subject__["b" /* Subject */]();
        this.updateParentalPinResponse = new __WEBPACK_IMPORTED_MODULE_4_rxjs_Subject__["b" /* Subject */]();
        this.recoverParentalPinResponse = new __WEBPACK_IMPORTED_MODULE_4_rxjs_Subject__["b" /* Subject */]();
    }
    ParentalService.prototype.getAgeRatings = function () {
        var _this = this;
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_common_http__["c" /* HttpHeaders */]()
            .set('Accept-Language', this.globals.settings.default_language);
        var params = new __WEBPACK_IMPORTED_MODULE_2__angular_common_http__["d" /* HttpParams */]()
            .set('device_type', 'web');
        var endpoint = this.globals.endpoints.ageRatings
            .replace('{country_code}', this.globals.settings.default_age_rating_country_code);
        this.http.get(endpoint, { headers: headers, params: params })
            .toPromise()
            .then(function (res) {
            _this.ageRatings.next(res);
            _this.globals.ageRatings = res;
        });
    };
    /**
     * Set parental control on/off or apply setting
     * Also sets the parental pin if the user hasn't set one yet; otherwise pins must match
     * @param {string} parental_control_id
     * @param {string} parental_pin
     */
    ParentalService.prototype.setParentalControl = function (parental_control_id, parental_pin) {
        var _this = this;
        var endpoint = this.globals.endpoints.setParentalControl
            .replace('{profile_token}', this.globals.accountProfileToken);
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_common_http__["c" /* HttpHeaders */]()
            .set('Authorization', 'Bearer ' + this.globals.authToken)
            .set('Accept-Language', this.globals.settings.default_language);
        var params = new __WEBPACK_IMPORTED_MODULE_2__angular_common_http__["d" /* HttpParams */]()
            .set('device_type', 'web');
        var body = {
            parental_control_id: parental_control_id,
            parentalpin: parental_pin
        };
        this.http.put(endpoint, body, { headers: headers, params: params })
            .toPromise()
            .then(function (res) {
            _this.setParentalResponse.next(res);
        })
            .catch(function (error) {
            console.error(error);
            _this.setParentalResponse.next(error);
        });
    };
    /**
     * Verify current parental pin (usually prior to change setting)
     * @param {string} parentalpin
     */
    ParentalService.prototype.verifyParentalPin = function (parentalpin) {
        var _this = this;
        var endpoint = this.globals.endpoints.verifyParentalPin
            .replace('{profile_token}', this.globals.accountProfileToken);
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_common_http__["c" /* HttpHeaders */]()
            .set('Authorization', 'Bearer ' + this.globals.authToken)
            .set('Accept-Language', this.globals.settings.default_language);
        var params = new __WEBPACK_IMPORTED_MODULE_2__angular_common_http__["d" /* HttpParams */]()
            .set('device_type', 'web');
        var body = {
            parentalpin: parentalpin
        };
        this.http.post(endpoint, body, { headers: headers, params: params })
            .toPromise()
            .then(function (res) {
            _this.verifyParentalPinResponse.next(res);
        })
            .catch(function (error) {
            console.error(error);
            _this.verifyParentalPinResponse.next(error);
        });
    };
    ParentalService.prototype.changeParentalPin = function (oldPin, newPin) {
        var _this = this;
        var endpoint = this.globals.endpoints.changeParentalPin
            .replace('{profile_token}', this.globals.accountProfileToken);
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_common_http__["c" /* HttpHeaders */]()
            .set('Authorization', 'Bearer ' + this.globals.authToken)
            .set('Accept-Language', this.globals.settings.default_language);
        var params = new __WEBPACK_IMPORTED_MODULE_2__angular_common_http__["d" /* HttpParams */]()
            .set('device_type', 'web');
        var body = {
            oldparentalpin: oldPin,
            parentalpin: newPin
        };
        this.http.put(endpoint, body, { headers: headers, params: params })
            .toPromise()
            .then(function (res) {
            _this.updateParentalPinResponse.next(res);
        })
            .catch(function (error) {
            console.error(error);
            _this.updateParentalPinResponse.next(error);
        });
    };
    ParentalService.prototype.recoverParentalPin = function () {
        var _this = this;
        var endpoint = this.globals.endpoints.recoverParentalPin
            .replace('{profile_token}', this.globals.accountProfileToken);
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_common_http__["c" /* HttpHeaders */]()
            .set('Authorization', 'Bearer ' + this.globals.authToken)
            .set('Accept-Language', this.globals.settings.default_language);
        var params = new __WEBPACK_IMPORTED_MODULE_2__angular_common_http__["d" /* HttpParams */]()
            .set('device_type', 'web');
        var body = {};
        this.http.put(endpoint, body, { headers: headers, params: params })
            .toPromise()
            .then(function (res) {
            _this.recoverParentalPinResponse.next(res);
        })
            .catch(function (error) {
            console.error(error);
            _this.recoverParentalPinResponse.next(error);
        });
    };
    ParentalService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["A" /* Injectable */])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__angular_common_http__["a" /* HttpClient */], __WEBPACK_IMPORTED_MODULE_3__globals_service__["a" /* GlobalsService */]])
    ], ParentalService);
    return ParentalService;
}());



/***/ }),

/***/ "./src/app/settings/settings.component.html":
/***/ (function(module, exports) {

module.exports = "<div id=\"outerSettingsWrapper\">\r\n  <h4>{{globals.strings.SCREEN_SETTINGS}}</h4>\r\n  <div class=\"sett-menu-wrapper\">\r\n    <div class=\"sett-menuOption\" *ngFor=\"let menuOption of menuOptions\">\r\n      <table class=\"sett-menuOptionsTbl\">\r\n        <tr>\r\n          <a routerLink=\"/settings/{{menuOption.route}}\">\r\n            <td class=\"sett-desc\"><span class=\"upper\">{{menuOption.option}}</span><br>{{menuOption.desc}}</td>\r\n            <td class=\"sett-action\">{{menuOption.action}}</td>\r\n          </a>\r\n        </tr>\r\n      </table>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n"

/***/ }),

/***/ "./src/app/settings/settings.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SettingsComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__settings_service__ = __webpack_require__("./src/app/settings/settings.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__languages_languages_service__ = __webpack_require__("./src/app/settings/languages/languages.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__loading_loading_service__ = __webpack_require__("./src/app/loading/loading.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__globals_service__ = __webpack_require__("./src/app/globals.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__login_login_service__ = __webpack_require__("./src/app/login/login.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var SettingsComponent = /** @class */ (function () {
    /*
      @Notes
      The flow here is to get the settings first, then the languages and lastly the strings
      so we can build the settings menu options according to design and API directions
     */
    function SettingsComponent(globals, settingsService, languagesService, loginService, loading) {
        var _this = this;
        this.globals = globals;
        this.settingsService = settingsService;
        this.languagesService = languagesService;
        this.loginService = loginService;
        this.loading = loading;
        this.gotSettings = false;
        this.gotLanguages = false;
        this.gotStrings = false;
        this.languages = [];
        this.menuOptions = [];
        this.settingsService.gotSettings.subscribe(function (val) {
            _this.loading.set(false);
            _this.gotSettings = val;
            console.log("Rui Teste. gotSettings:" + _this.gotSettings + " numlanguages: " + _this.globals.languages.length);
            if (_this.gotSettings === true && _this.globals.languages.length < 1) {
                _this.languagesService.getLanguages();
            }
            else {
                _this.buildMenuOptions();
            }
        });
        this.languagesService.languages.subscribe(function (val) {
            if (val.length > 0) {
                _this.languages = val;
                _this.gotLanguages = true;
            }
            else {
                _this.languages = [];
                _this.gotLanguages = false;
            }
            // Now get the strings regardless of having 1 or more languages (or even none! :P )
            _this.languagesService.getStrings(_this.globals.settings.default_language);
        });
        // Get the language strings after we got the languages
        this.languagesService.gotStrings.subscribe(function (val) {
            _this.gotStrings = val;
            // Ok.. about done
            if (_this.gotSettings && _this.gotStrings)
                _this.buildMenuOptions();
        });
        // Subscribe to the finishedLogin subject of the Login service so we can change the menu options
        // when we're already here (settings page) and the user logs in
        this.loginService.finishedLogin.subscribe(function (value) {
            if (value === true)
                _this.buildMenuOptions();
        });
    }
    SettingsComponent.prototype.ngOnInit = function () {
        this.settingsService.setBreadCrums(true);
        this.menuOptions = [];
        // Show a loading status while we get the settings
        if (!this.gotSettings) {
            this.loading.set(true);
            this.settingsService.getSettings();
        }
    };
    /**
     * Build the menu options to be shown in the view depending on the logged
     * status of the user
     */
    SettingsComponent.prototype.buildMenuOptions = function () {
        this.menuOptions = [];
        if (this.globals.userLoggedIn) {
            this.menuOptions.push({
                option: this.globals.strings.SETTINGS_SCREEN_MY_ACCOUNT,
                desc: this.globals.strings.SETTINGS_SCREEN_MY_ACCOUNT_LONG,
                action: this.globals.strings.SETTINGS_SCREEN_CHANGE,
                route: 'my-account'
            });
            // If we only have 1 language ... don't even bother showing the change language option :P
            if (this.globals.languages.length > 1)
                this.menuOptions.push({
                    option: this.globals.strings.SETTINGS_SCREEN_CHANGE_LANGUAGE,
                    desc: this.globals.strings.SETTINGS_SCREEN_CHANGE_LANGUAGE_LONG,
                    action: this.globals.strings.SETTINGS_SCREEN_CHANGE,
                    route: 'languages'
                });
            // @Notes 2018-03-06 - some members of the settings response don't exist yet
            //                     so unneeded check code here ... @:(
            if (this.globals.settings.hasOwnProperty('terms_conditions_slug')) {
                if (this.globals.settings.terms_conditions_slug !== '')
                    this.menuOptions.push({
                        option: this.globals.strings.SETTINGS_TERMS_AND_CONDITIONS,
                        desc: this.globals.strings.SETTINGS_TERMS_AND_CONDITIONS_LONG,
                        action: this.globals.strings.SETTINGS_SCREEN_READ,
                        route: 'terms-conditions'
                    });
            }
            if (this.globals.settings.hasOwnProperty('faq_slug')) {
                if (this.globals.settings.faq_slug !== '')
                    this.menuOptions.push({
                        option: this.globals.strings.SETTINGS_SCREEN_FAQ,
                        desc: this.globals.strings.SETTINGS_SCREEN_FAQ_LONG,
                        action: this.globals.strings.SETTINGS_SCREEN_READ,
                        route: 'faq'
                    });
            }
            if (this.globals.settings.hasOwnProperty('help_slug')) {
                if (this.globals.settings.help_slug !== '')
                    this.menuOptions.push({
                        option: this.globals.strings.SETTINGS_SCREEN_HELP,
                        desc: this.globals.strings.SETTINGS_SCREEN_HELP_LONG,
                        action: this.globals.strings.SETTINGS_SCREEN_READ,
                        route: 'help'
                    });
            }
            this.menuOptions.push({
                option: this.globals.strings.SETTINGS_SCREEN_ABOUT,
                desc: this.globals.strings.SETTINGS_SCREEN_ABOUT_LONG,
                action: this.globals.strings.SETTINGS_SCREEN_READ,
                route: 'about'
            });
        }
        else {
            // Menu options when the user is not logged in
            if (this.globals.languages.length > 1)
                this.menuOptions.push({
                    option: this.globals.strings.SETTINGS_SCREEN_CHANGE_LANGUAGE,
                    desc: this.globals.strings.SETTINGS_SCREEN_CHANGE_LANGUAGE_LONG,
                    action: this.globals.strings.SETTINGS_SCREEN_CHANGE,
                    route: 'languages'
                });
            if (this.globals.settings.hasOwnProperty('terms_conditions_slug')) {
                if (this.globals.settings.terms_conditions_slug !== '')
                    this.menuOptions.push({
                        option: this.globals.strings.SETTINGS_TERMS_AND_CONDITIONS,
                        desc: this.globals.strings.SETTINGS_TERMS_AND_CONDITIONS_LONG,
                        action: this.globals.strings.SETTINGS_SCREEN_READ,
                        route: 'terms-conditions'
                    });
            }
            if (this.globals.settings.hasOwnProperty('faq_slug')) {
                if (this.globals.settings.faq_slug !== '')
                    this.menuOptions.push({
                        option: this.globals.strings.SETTINGS_SCREEN_FAQ,
                        desc: this.globals.strings.SETTINGS_SCREEN_FAQ_LONG,
                        action: this.globals.strings.SETTINGS_SCREEN_READ,
                        route: 'faq'
                    });
            }
            if (this.globals.settings.hasOwnProperty('help_slug')) {
                if (this.globals.settings.help_slug !== '')
                    this.menuOptions.push({
                        option: this.globals.strings.SETTINGS_SCREEN_HELP,
                        desc: this.globals.strings.SETTINGS_SCREEN_HELP_LONG,
                        action: this.globals.strings.SETTINGS_SCREEN_READ,
                        route: 'help'
                    });
            }
            this.menuOptions.push({
                option: this.globals.strings.SETTINGS_SCREEN_ABOUT,
                desc: this.globals.strings.SETTINGS_SCREEN_ABOUT_LONG,
                action: this.globals.strings.SETTINGS_SCREEN_READ,
                route: 'about'
            });
        }
    };
    SettingsComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["n" /* Component */])({
            selector: 'app-settings',
            template: __webpack_require__("./src/app/settings/settings.component.html"),
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_4__globals_service__["a" /* GlobalsService */],
            __WEBPACK_IMPORTED_MODULE_1__settings_service__["a" /* SettingsService */],
            __WEBPACK_IMPORTED_MODULE_2__languages_languages_service__["a" /* LanguagesService */],
            __WEBPACK_IMPORTED_MODULE_5__login_login_service__["a" /* LoginService */],
            __WEBPACK_IMPORTED_MODULE_3__loading_loading_service__["a" /* LoadingService */]])
    ], SettingsComponent);
    return SettingsComponent;
}());



/***/ }),

/***/ "./src/app/settings/settings.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SettingsModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common__ = __webpack_require__("./node_modules/@angular/common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__settings_service__ = __webpack_require__("./src/app/settings/settings.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__settings_component__ = __webpack_require__("./src/app/settings/settings.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__languages_languages_component__ = __webpack_require__("./src/app/settings/languages/languages.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__languages_languages_service__ = __webpack_require__("./src/app/settings/languages/languages.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__my_account_my_account_component__ = __webpack_require__("./src/app/settings/my-account/my-account.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__my_account_edit_profile_edit_profile_component__ = __webpack_require__("./src/app/settings/my-account/edit-profile/edit-profile.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__my_account_pairing_pairing_component__ = __webpack_require__("./src/app/settings/my-account/pairing/pairing.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__my_account_pairing_pairing_service__ = __webpack_require__("./src/app/settings/my-account/pairing/pairing.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__my_account_edit_profile_edit_profile_service__ = __webpack_require__("./src/app/settings/my-account/edit-profile/edit-profile.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__my_account_my_account_service__ = __webpack_require__("./src/app/settings/my-account/my-account.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__my_account_change_password_change_password_component__ = __webpack_require__("./src/app/settings/my-account/change-password/change-password.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__my_account_change_password_change_password_popup_service__ = __webpack_require__("./src/app/settings/my-account/change-password/change-password-popup-service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__my_account_change_password_change_password_service__ = __webpack_require__("./src/app/settings/my-account/change-password/change-password.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17__my_account_parental_parental_service__ = __webpack_require__("./src/app/settings/my-account/parental/parental.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_18__faq_faq_component__ = __webpack_require__("./src/app/settings/faq/faq.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_19__terms_conditions_terms_conditions_component__ = __webpack_require__("./src/app/settings/terms-conditions/terms-conditions.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_20__help_help_component__ = __webpack_require__("./src/app/settings/help/help.component.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};





















var SettingsModule = /** @class */ (function () {
    function SettingsModule() {
    }
    SettingsModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["I" /* NgModule */])({
            imports: [
                __WEBPACK_IMPORTED_MODULE_1__angular_common__["b" /* CommonModule */],
                __WEBPACK_IMPORTED_MODULE_6__angular_router__["g" /* RouterModule */],
                __WEBPACK_IMPORTED_MODULE_9__angular_forms__["a" /* FormsModule */]
            ],
            exports: [
                __WEBPACK_IMPORTED_MODULE_3__settings_component__["a" /* SettingsComponent */]
            ],
            declarations: [__WEBPACK_IMPORTED_MODULE_3__settings_component__["a" /* SettingsComponent */],
                __WEBPACK_IMPORTED_MODULE_4__languages_languages_component__["a" /* LanguagesComponent */],
                __WEBPACK_IMPORTED_MODULE_7__my_account_my_account_component__["a" /* MyAccountComponent */],
                __WEBPACK_IMPORTED_MODULE_8__my_account_edit_profile_edit_profile_component__["a" /* EditProfileComponent */],
                __WEBPACK_IMPORTED_MODULE_10__my_account_pairing_pairing_component__["a" /* PairingComponent */],
                __WEBPACK_IMPORTED_MODULE_14__my_account_change_password_change_password_component__["a" /* ChangePasswordComponent */],
                __WEBPACK_IMPORTED_MODULE_18__faq_faq_component__["a" /* FaqComponent */],
                __WEBPACK_IMPORTED_MODULE_19__terms_conditions_terms_conditions_component__["a" /* TermsConditionsComponent */],
                __WEBPACK_IMPORTED_MODULE_20__help_help_component__["a" /* HelpComponent */]],
            providers: [
                __WEBPACK_IMPORTED_MODULE_2__settings_service__["a" /* SettingsService */],
                __WEBPACK_IMPORTED_MODULE_5__languages_languages_service__["a" /* LanguagesService */],
                __WEBPACK_IMPORTED_MODULE_11__my_account_pairing_pairing_service__["a" /* PairingService */],
                __WEBPACK_IMPORTED_MODULE_12__my_account_edit_profile_edit_profile_service__["a" /* EditProfileService */],
                __WEBPACK_IMPORTED_MODULE_13__my_account_my_account_service__["a" /* MyAccountService */],
                __WEBPACK_IMPORTED_MODULE_15__my_account_change_password_change_password_popup_service__["a" /* ChangePasswordPopupService */],
                __WEBPACK_IMPORTED_MODULE_16__my_account_change_password_change_password_service__["a" /* ChangePasswordService */],
                __WEBPACK_IMPORTED_MODULE_17__my_account_parental_parental_service__["a" /* ParentalService */]
            ]
        })
    ], SettingsModule);
    return SettingsModule;
}());



/***/ }),

/***/ "./src/app/settings/settings.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SettingsService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_rxjs_Subject__ = __webpack_require__("./node_modules/rxjs/_esm5/Subject.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_common_http__ = __webpack_require__("./node_modules/@angular/common/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__globals_service__ = __webpack_require__("./src/app/globals.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var SettingsService = /** @class */ (function () {
    function SettingsService(globals, http) {
        this.globals = globals;
        this.http = http;
        // to know wether certain components (like TERMS & CONDITIONS) need breadcrums I'll introduce a hasBreadCrums variable
        // found it unnecessary to create a service just for this purpose
        this.hasBreadCrums = true;
        this.gotSettings = new __WEBPACK_IMPORTED_MODULE_1_rxjs_Subject__["b" /* Subject */]();
    }
    /**
     * Get the settings from the API and store them under globals
     */
    SettingsService.prototype.getSettings = function () {
        var _this = this;
        // since the settings read from the API will overwrite the user-selected language we save it here to rewrite it back
        var user_lang = this.globals.settings.default_language;
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_common_http__["c" /* HttpHeaders */]()
            .set('Accept-Language', this.globals.settings.default_language);
        var params = new __WEBPACK_IMPORTED_MODULE_2__angular_common_http__["d" /* HttpParams */]()
            .set('device_type', 'web')
            .set('device_layout', 'web')
            .set('build_version', '1');
        this.http.get(this.globals.endpoints.settings, { headers: headers, params: params })
            .toPromise()
            .then(function (res) {
            _this.globals.settings = res.data;
            _this.globals.settings.default_language = user_lang;
            _this.gotSettings.next(true);
        })
            .catch(function (error) {
            console.error(error);
            _this.gotSettings.next(false);
        });
    };
    SettingsService.prototype.setBreadCrums = function (setIt) {
        this.hasBreadCrums = setIt;
    };
    SettingsService.prototype.getBreadCrums = function () {
        return this.hasBreadCrums;
    };
    SettingsService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["A" /* Injectable */])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_3__globals_service__["a" /* GlobalsService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_common_http__["a" /* HttpClient */]])
    ], SettingsService);
    return SettingsService;
}());



/***/ }),

/***/ "./src/app/settings/terms-conditions/terms-conditions.component.html":
/***/ (function(module, exports) {

module.exports = "<div id=\"outerTermsHelpFAQWrapper\">\r\n  <h4 *ngIf=\"hasBreadCrums\"><div class=\"breadCrumb\" (click)=\"crumbClick(globals.pageTitleSlug)\">{{globals.strings.SCREEN_SETTINGS}}</div> <i class=\"fa fa-arrow-right\" aria-hidden=\"true\"></i> {{globals.strings.SETTINGS_TERMS_AND_CONDITIONS}}</h4>\r\n  <div class=\"TermsConditionsWrapper\">\r\n    <h3 style=\"text-align: center\">{{globals.strings.SETTINGS_TERMS_AND_CONDITIONS}}</h3>\r\n    <div class=\"InfoPadder\">\r\n      <div class=\"InfoWrapper\">{{this.globals.settings.terms_conditions_slug}}\r\n      </div>\r\n    </div>\r\n  </div></div>\r\n"

/***/ }),

/***/ "./src/app/settings/terms-conditions/terms-conditions.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return TermsConditionsComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__globals_service__ = __webpack_require__("./src/app/globals.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_simplebar_dist_simplebar_js__ = __webpack_require__("./node_modules/simplebar/dist/simplebar.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_simplebar_dist_simplebar_js___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_simplebar_dist_simplebar_js__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__settings_service__ = __webpack_require__("./src/app/settings/settings.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var TermsConditionsComponent = /** @class */ (function () {
    function TermsConditionsComponent(globals, settingsService, router) {
        this.globals = globals;
        this.settingsService = settingsService;
        this.router = router;
        this.hasBreadCrums = false;
    }
    TermsConditionsComponent.prototype.ngOnInit = function () {
        this.hasBreadCrums = this.settingsService.getBreadCrums();
    };
    TermsConditionsComponent.prototype.crumbClick = function (waytoGo) {
        this.router.navigate([waytoGo]);
    };
    TermsConditionsComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["n" /* Component */])({
            selector: 'app-terms-conditions',
            template: __webpack_require__("./src/app/settings/terms-conditions/terms-conditions.component.html"),
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__globals_service__["a" /* GlobalsService */],
            __WEBPACK_IMPORTED_MODULE_3__settings_service__["a" /* SettingsService */],
            __WEBPACK_IMPORTED_MODULE_4__angular_router__["f" /* Router */]])
    ], TermsConditionsComponent);
    return TermsConditionsComponent;
}());



/***/ }),

/***/ "./src/app/subscriptions/subscriptions.component.html":
/***/ (function(module, exports) {

module.exports = "<h3>{{globals.strings.SUBSCRIPTION_SELECT}}</h3>\r\n\r\n<!-- Show all available subscriptions -->\r\n<div id=\"subscriptionsContentWrapper\">\r\n  <table class=\"subscriptionsTbl\">\r\n    <tr>\r\n      <th>{{globals?.strings.SUBSCRIPTION_PLAN_NAME || 'Description'}}</th>\r\n      <th>{{globals?.strings.SUBSCRIPTION_PLAN_PERIOD || 'Period'}}</th>\r\n      <th colspan=\"2\">{{globals?.strings.SUBSCRIPTION_PLAN_PRICE || 'Price'}}</th>\r\n    </tr>\r\n    <tr *ngFor=\"let subscription of globals?.subscriptions.data\">\r\n      <!-- Plan name -->\r\n      <td width=\"80%\">{{subscription.plan_name}}</td>\r\n      <!-- Plan Interval -->\r\n      <td>{{subscription.plan_interval}}</td>\r\n      <!-- Price + currency -->\r\n      <td align=\"right\">{{subscription.currency}}{{subscription.price}}</td>\r\n      <td><button class=\"subscriptionChooseBtn\" (click)=\"onChoose(subscription.plan_id)\">{{globals?.strings.SUBSCRIPTION_CHOOSE_PLAN}}</button></td>\r\n    </tr>\r\n  </table>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/subscriptions/subscriptions.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SubscriptionsComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__globals_service__ = __webpack_require__("./src/app/globals.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var SubscriptionsComponent = /** @class */ (function () {
    function SubscriptionsComponent(globals, router) {
        this.globals = globals;
        this.router = router;
    }
    SubscriptionsComponent.prototype.ngOnInit = function () { };
    /**
     * Handle choose button click
     * @param {string} planId
     */
    SubscriptionsComponent.prototype.onChoose = function (planId) {
        // Use skipLocationChange to hide the parameters from the URL ... :P
        //this.router.navigate(['/payments', 'subscription', planId], { skipLocationChange: true });
        this.router.navigate(['/payments', 'subscription', planId]);
    };
    SubscriptionsComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["n" /* Component */])({
            selector: 'app-subscriptions',
            template: __webpack_require__("./src/app/subscriptions/subscriptions.component.html")
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__globals_service__["a" /* GlobalsService */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["f" /* Router */]])
    ], SubscriptionsComponent);
    return SubscriptionsComponent;
}());



/***/ }),

/***/ "./src/app/subscriptions/subscriptions.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SubscriptionsModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common__ = __webpack_require__("./node_modules/@angular/common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__subscriptions_component__ = __webpack_require__("./src/app/subscriptions/subscriptions.component.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};



var SubscriptionsModule = /** @class */ (function () {
    function SubscriptionsModule() {
    }
    SubscriptionsModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["I" /* NgModule */])({
            exports: [
                __WEBPACK_IMPORTED_MODULE_2__subscriptions_component__["a" /* SubscriptionsComponent */]
            ],
            imports: [
                __WEBPACK_IMPORTED_MODULE_1__angular_common__["b" /* CommonModule */]
            ],
            declarations: [__WEBPACK_IMPORTED_MODULE_2__subscriptions_component__["a" /* SubscriptionsComponent */]]
        })
    ], SubscriptionsModule);
    return SubscriptionsModule;
}());



/***/ }),

/***/ "./src/app/subscriptions/subscriptions.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SubscriptionsService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common_http__ = __webpack_require__("./node_modules/@angular/common/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_Subject__ = __webpack_require__("./node_modules/rxjs/_esm5/Subject.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__globals_service__ = __webpack_require__("./src/app/globals.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var SubscriptionsService = /** @class */ (function () {
    function SubscriptionsService(http, globals) {
        this.http = http;
        this.globals = globals;
        this.allSubscriptions = new __WEBPACK_IMPORTED_MODULE_2_rxjs_Subject__["b" /* Subject */]();
        this.profileSubscriptions = new __WEBPACK_IMPORTED_MODULE_2_rxjs_Subject__["b" /* Subject */]();
        this.subscriptionCancelled = new __WEBPACK_IMPORTED_MODULE_2_rxjs_Subject__["b" /* Subject */]();
    }
    /**
     * Get all available subscriptions
     */
    SubscriptionsService.prototype.getAllSubscriptions = function () {
        var _this = this;
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["c" /* HttpHeaders */]()
            .set('Accept-Language', this.globals.settings.default_language);
        var params = {
            device_type: 'web'
        };
        this.http.get(this.globals.endpoints.subscriptions, { headers: headers, params: params })
            .toPromise()
            .then(function (res) {
            _this.globals.subscriptions = res;
            // Emit this to whatever has subscribed
            _this.allSubscriptions.next(res);
        })
            .catch(function (result) {
            console.error(result);
            // Empty the list
            var empty = [];
            _this.globals.subscriptions = empty;
            _this.allSubscriptions.next(empty);
        });
    };
    /**
     * Get all subscriptions for a given profile
     */
    SubscriptionsService.prototype.getProfileSubscriptions = function () {
        var _this = this;
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["c" /* HttpHeaders */]()
            .set('Accept-Language', this.globals.settings.default_language)
            .set('Authorization', 'Bearer ' + this.globals.authToken); // Not sure if the latter is needed ...
        var params = {
            device_type: 'web'
        };
        var endpoint = this.globals.endpoints.profileSubscriptions
            .replace('{profile_token}', this.globals.accountProfileToken);
        // WARNING! This response ISN'T encapsulated in data!
        this.http.get(endpoint, { headers: headers, params: params })
            .toPromise()
            .then(function (res) {
            _this.globals.profileSubscriptions = res;
            _this.profileSubscriptions.next(res);
        })
            .catch(function (result) {
            console.error(result);
            // Empty the list
            var emptyArr = [];
            _this.profileSubscriptions.next(emptyArr);
        });
    };
    /***
     * Cancel a subscription for the current profile
     * @param {string} planId
     */
    SubscriptionsService.prototype.cancelSubscription = function (planId) {
        var _this = this;
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["c" /* HttpHeaders */]()
            .set('Accept-Language', this.globals.settings.default_language)
            .set('Authorization', 'Bearer ' + this.globals.authToken);
        var params = {
            device_type: 'web'
        };
        var endpoint = this.globals.endpoints.cancelSubscription
            .replace('{profile_token}', this.globals.accountProfileToken);
        var body = {
            plan_id: planId
        };
        this.http.post(endpoint, body, { headers: headers, params: params })
            .toPromise()
            .then(function (res) {
            _this.subscriptionCancelled.next(true);
        })
            .catch(function (error) {
            _this.subscriptionCancelled.next(false);
        });
    };
    SubscriptionsService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["A" /* Injectable */])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_common_http__["a" /* HttpClient */],
            __WEBPACK_IMPORTED_MODULE_3__globals_service__["a" /* GlobalsService */]])
    ], SubscriptionsService);
    return SubscriptionsService;
}());



/***/ }),

/***/ "./src/app/user/user.component.html":
/***/ (function(module, exports) {

module.exports = "  <div class=\"avatarImg\"></div>\r\n  <button id=\"login\">{{globals.strings.LOGIN_SCREEN_LOGIN}}</button>\r\n  <button id=\"register\">{{globals.strings.SETTINGS_SCREEN_REGISTER}}</button>\r\n  <form>\r\n    <div class=\"searchTools\">\r\n      <input type=\"text\" id=\"searchMovies\"><button id=\"searchMoviesBtn\"></button>\r\n    </div>\r\n  </form>\r\n"

/***/ }),

/***/ "./src/app/user/user.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return UserComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__user_service__ = __webpack_require__("./src/app/user/user.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__models_user__ = __webpack_require__("./src/app/models/user.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__globals_service__ = __webpack_require__("./src/app/globals.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var UserComponent = /** @class */ (function () {
    function UserComponent(globals, userService) {
        this.globals = globals;
        this.userService = userService;
        this.loggedIn = false; // Quick check flag for user logged in status
    }
    UserComponent.prototype.ngOnInit = function () {
        this.user = new __WEBPACK_IMPORTED_MODULE_2__models_user__["a" /* User */]();
        // Try to get an account token from a previous login session
        this.user.accountToken = this.getAccountTokenFromLocalStorage();
        if (this.user.accountToken !== null) {
            this.userService.login(this.user.accountToken);
        }
        // Try to get the user's last used profile
        if (this.loggedIn) {
            this.user.currProfileToken = this.getProfileTokenFromLocalStorage();
            if (this.user.currProfileToken !== null)
                this.userService.getProfile(this.user.currProfileToken);
        }
    };
    /**
     * Get the user account token from the local storage
     * @returns {string | null}
     */
    UserComponent.prototype.getAccountTokenFromLocalStorage = function () {
        return localStorage.getItem('accountToken');
    };
    /**
     * Get the profile token from the local storage
     * @returns {string | null}
     */
    UserComponent.prototype.getProfileTokenFromLocalStorage = function () {
        return localStorage.getItem('profileToken');
    };
    UserComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["n" /* Component */])({
            selector: 'app-user',
            template: __webpack_require__("./src/app/user/user.component.html"),
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_3__globals_service__["a" /* GlobalsService */],
            __WEBPACK_IMPORTED_MODULE_1__user_service__["a" /* UserService */]])
    ], UserComponent);
    return UserComponent;
}());



/***/ }),

/***/ "./src/app/user/user.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return UserModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common__ = __webpack_require__("./node_modules/@angular/common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__user_component__ = __webpack_require__("./src/app/user/user.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__user_service__ = __webpack_require__("./src/app/user/user.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};




var UserModule = /** @class */ (function () {
    function UserModule() {
    }
    UserModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["I" /* NgModule */])({
            imports: [
                __WEBPACK_IMPORTED_MODULE_1__angular_common__["b" /* CommonModule */]
            ],
            declarations: [
                __WEBPACK_IMPORTED_MODULE_2__user_component__["a" /* UserComponent */]
            ],
            exports: [
                __WEBPACK_IMPORTED_MODULE_2__user_component__["a" /* UserComponent */]
            ],
            providers: [
                __WEBPACK_IMPORTED_MODULE_3__user_service__["a" /* UserService */]
            ]
        })
    ], UserModule);
    return UserModule;
}());



/***/ }),

/***/ "./src/app/user/user.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return UserService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common_http__ = __webpack_require__("./node_modules/@angular/common/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__globals_service__ = __webpack_require__("./src/app/globals.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var UserService = /** @class */ (function () {
    function UserService(http, globals) {
        this.http = http;
        this.globals = globals;
    }
    /**
     * Register a new user
     */
    UserService.prototype.register = function () {
    };
    /**
     * Login a user with an existing account token
     * @param {string} token
     */
    UserService.prototype.login = function (token) {
    };
    /**
     * Get all the user's profiles
     * @param {string} account token
     */
    UserService.prototype.getProfiles = function (token) {
    };
    /**
     * Get profile data
     * @param {string} profile token
     */
    UserService.prototype.getProfile = function (token) {
    };
    UserService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["A" /* Injectable */])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_common_http__["a" /* HttpClient */],
            __WEBPACK_IMPORTED_MODULE_2__globals_service__["a" /* GlobalsService */]])
    ], UserService);
    return UserService;
}());



/***/ }),

/***/ "./src/app/utils.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return UtilsService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/*
 Contains global helper functions
 */
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

var UtilsService = /** @class */ (function () {
    function UtilsService() {
    }
    /**
     * Resizes an image according to a set width and it's height ratio
     * @param url
     * @param width
     * @param ratio
     * @returns {string}
     */
    UtilsService.prototype.resizeImage = function (url, width, ratio, resizeType) {
        var string = url.split('.');
        string[string.length - 2] += '-h' + Math.round(width / ratio) + '_w' + width + '_' + resizeType;
        return string.join('.');
    };
    /**
     * Remove diacritics (accents) from a string
     *
     * @param {string} str The input string from which we will remove strings with diacritics
     * @return {string}
     */
    UtilsService.prototype.removeDiacritics = function (str) {
        var diacriticsMap = {
            A: /[\u0041\u24B6\uFF21\u00C0\u00C1\u00C2\u1EA6\u1EA4\u1EAA\u1EA8\u00C3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\u00C4\u01DE\u1EA2\u00C5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F]/g,
            AA: /[\uA732]/g,
            AE: /[\u00C6\u01FC\u01E2]/g,
            AO: /[\uA734]/g,
            AU: /[\uA736]/g,
            AV: /[\uA738\uA73A]/g,
            AY: /[\uA73C]/g,
            B: /[\u0042\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181]/g,
            C: /[\u0043\u24B8\uFF23\u0106\u0108\u010A\u010C\u00C7\u1E08\u0187\u023B\uA73E]/g,
            D: /[\u0044\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779]/g,
            DZ: /[\u01F1\u01C4]/g,
            Dz: /[\u01F2\u01C5]/g,
            E: /[\u0045\u24BA\uFF25\u00C8\u00C9\u00CA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\u00CB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E]/g,
            F: /[\u0046\u24BB\uFF26\u1E1E\u0191\uA77B]/g,
            G: /[\u0047\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E]/g,
            H: /[\u0048\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D]/g,
            I: /[\u0049\u24BE\uFF29\u00CC\u00CD\u00CE\u0128\u012A\u012C\u0130\u00CF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197]/g,
            J: /[\u004A\u24BF\uFF2A\u0134\u0248]/g,
            K: /[\u004B\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2]/g,
            L: /[\u004C\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780]/g,
            LJ: /[\u01C7]/g,
            Lj: /[\u01C8]/g,
            M: /[\u004D\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C]/g,
            N: /[\u004E\u24C3\uFF2E\u01F8\u0143\u00D1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4]/g,
            NJ: /[\u01CA]/g,
            Nj: /[\u01CB]/g,
            O: /[\u004F\u24C4\uFF2F\u00D2\u00D3\u00D4\u1ED2\u1ED0\u1ED6\u1ED4\u00D5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\u00D6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u00D8\u01FE\u0186\u019F\uA74A\uA74C]/g,
            OI: /[\u01A2]/g,
            OO: /[\uA74E]/g,
            OU: /[\u0222]/g,
            P: /[\u0050\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754]/g,
            Q: /[\u0051\u24C6\uFF31\uA756\uA758\u024A]/g,
            R: /[\u0052\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782]/g,
            S: /[\u0053\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784]/g,
            T: /[\u0054\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786]/g,
            TZ: /[\uA728]/g,
            U: /[\u0055\u24CA\uFF35\u00D9\u00DA\u00DB\u0168\u1E78\u016A\u1E7A\u016C\u00DC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244]/g,
            V: /[\u0056\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245]/g,
            VY: /[\uA760]/g,
            W: /[\u0057\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72]/g,
            X: /[\u0058\u24CD\uFF38\u1E8A\u1E8C]/g,
            Y: /[\u0059\u24CE\uFF39\u1EF2\u00DD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE]/g,
            Z: /[\u005A\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762]/g,
            a: /[\u0061\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250]/g,
            aa: /[\uA733]/g,
            ae: /[\u00E6\u01FD\u01E3]/g,
            ao: /[\uA735]/g,
            au: /[\uA737]/g,
            av: /[\uA739\uA73B]/g,
            ay: /[\uA73D]/g,
            b: /[\u0062\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253]/g,
            c: /[\u0063\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184]/g,
            d: /[\u0064\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A]/g,
            dz: /[\u01F3\u01C6]/g,
            e: /[\u0065\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD]/g,
            f: /[\u0066\u24D5\uFF46\u1E1F\u0192\uA77C]/g,
            g: /[\u0067\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F]/g,
            h: /[\u0068\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265]/g,
            hv: /[\u0195]/g,
            i: /[\u0069\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131]/g,
            j: /[\u006A\u24D9\uFF4A\u0135\u01F0\u0249]/g,
            k: /[\u006B\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3]/g,
            l: /[\u006C\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747]/g,
            lj: /[\u01C9]/g,
            m: /[\u006D\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F]/g,
            n: /[\u006E\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5]/g,
            nj: /[\u01CC]/g,
            o: /[\u006F\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u00F6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275]/g,
            oi: /[\u01A3]/g,
            ou: /[\u0223]/g,
            oo: /[\uA74F]/g,
            p: /[\u0070\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755]/g,
            q: /[\u0071\u24E0\uFF51\u024B\uA757\uA759]/g,
            r: /[\u0072\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783]/g,
            s: /[\u0073\u24E2\uFF53\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B]/g,
            ss: /[\u00DF]/g,
            t: /[\u0074\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787]/g,
            tz: /[\uA729]/g,
            u: /[\u0075\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u00FC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289]/g,
            v: /[\u0076\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C]/g,
            vy: /[\uA761]/g,
            w: /[\u0077\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73]/g,
            x: /[\u0078\u24E7\uFF58\u1E8B\u1E8D]/g,
            y: /[\u0079\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF]/g,
            z: /[\u007A\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763]/g
        };
        for (var x in diacriticsMap) {
            // Iterate through each keys in the above object and perform a replace
            str = str.replace(diacriticsMap[x], x);
        }
        return str;
    };
    UtilsService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["A" /* Injectable */])()
    ], UtilsService);
    return UtilsService;
}());



/***/ }),

/***/ "./src/app/view-all/view-all.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"category-title\">\r\n  <button class=\"view-all-button-back\" (click)=\"goBack()\">Back</button>\r\n</div>\r\n\r\n<div class=\"genre-selection\">\r\n  <ul>\r\n    <li (click)=\"changeGenre()\" [class.selected]=\"currentGenre == undefined\">\r\n      All\r\n    </li>\r\n    <li *ngFor=\"let el of genres\" (click)=\"changeGenre(el.slug)\" [class.selected]=\"currentGenre == el.slug\">\r\n      {{el.name}}\r\n    </li>\r\n  </ul>\r\n</div>\r\n\r\n<app-listing *ngIf=\"data\" [(data)]=\"data.blocks[0].widgets[0]\"></app-listing>\r\n\r\n<button (click)=\"getNextPage()\" class=\"show-more-button\" *ngIf=\"data?.blocks[0].widgets[0].playlist.hasOwnProperty(contents) && data?.blocks[0].widgets[0].playlist.contents[0].length < contentLength\">Show more</button>\r\n"

/***/ }),

/***/ "./src/app/view-all/view-all.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ViewAllComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__globals_service__ = __webpack_require__("./src/app/globals.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__models_playlist_service__ = __webpack_require__("./src/app/models/playlist.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__loading_loading_service__ = __webpack_require__("./src/app/loading/loading.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__angular_common__ = __webpack_require__("./node_modules/@angular/common/esm5/common.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var ViewAllComponent = /** @class */ (function () {
    function ViewAllComponent(service, route, globals, loading, location) {
        this.service = service;
        this.route = route;
        this.globals = globals;
        this.loading = loading;
        this.location = location;
        this.page = 1; // Identifies the current page of the pagination
    }
    ViewAllComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.id = this.route.snapshot.params['id'];
        this.route.params
            .subscribe(function (params) {
            _this.getPlaylist(_this.route.snapshot.params['id']);
        });
    };
    /**
     * Gets the playlist data
     * @param id
     */
    ViewAllComponent.prototype.getPlaylist = function (id, genre) {
        var _this = this;
        this.loading.set(true);
        this.service.getPlaylist(id, 5, this.page, genre)
            .subscribe(function (response) {
            _this.data = response;
            if (!_this.genres) {
                _this.genres = _this.data.blocks[0].widgets[0].playlist.genres;
            }
            _this.contentLength = _this.data.blocks[0].widgets[0].playlist.pagination.total_size;
            _this.globals.pageTitle = response.name;
            _this.loading.set(false);
        }, function (error) { return console.log(error); });
    };
    /**
     * Gets the next elements of the currently selected playlist/genre
     */
    ViewAllComponent.prototype.getNextPage = function () {
        var _this = this;
        this.loading.set(true);
        this.page++;
        this.service.getPlaylist(this.id, 5, this.page)
            .subscribe(function (response) {
            _this.data.blocks[0].widgets[0].playlist.contents.push.apply(_this.data.blocks[0].widgets[0].playlist.contents, response.blocks[0].widgets[0].playlist.contents);
            $('html,body').animate({ scrollTop: document.body.scrollHeight }, "medium");
        }, function (error) { return console.log(error); }, function () {
            _this.loading.set(false);
        });
    };
    /**
     * Filters the playlist according to a specific genre
     * @param genre
     */
    ViewAllComponent.prototype.changeGenre = function (genre) {
        if (genre != this.currentGenre) {
            this.currentGenre = genre;
            this.page = 1;
            this.getPlaylist(this.route.snapshot.params['id'], genre);
        }
    };
    ViewAllComponent.prototype.goBack = function () {
        this.location.back();
    };
    ViewAllComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["n" /* Component */])({
            selector: 'app-view-all',
            template: __webpack_require__("./src/app/view-all/view-all.component.html")
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_3__models_playlist_service__["a" /* PlaylistService */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_2__globals_service__["a" /* GlobalsService */],
            __WEBPACK_IMPORTED_MODULE_4__loading_loading_service__["a" /* LoadingService */],
            __WEBPACK_IMPORTED_MODULE_5__angular_common__["f" /* Location */]])
    ], ViewAllComponent);
    return ViewAllComponent;
}());



/***/ }),

/***/ "./src/app/view-all/view-all.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ViewAllModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common__ = __webpack_require__("./node_modules/@angular/common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__view_all_component__ = __webpack_require__("./src/app/view-all/view-all.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__view_all_service__ = __webpack_require__("./src/app/view-all/view-all.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__view_all_resolve__ = __webpack_require__("./src/app/view-all/view-all.resolve.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__listing_listing_module__ = __webpack_require__("./src/app/listing/listing.module.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};






var ViewAllModule = /** @class */ (function () {
    function ViewAllModule() {
    }
    ViewAllModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["I" /* NgModule */])({
            imports: [
                __WEBPACK_IMPORTED_MODULE_1__angular_common__["b" /* CommonModule */],
                __WEBPACK_IMPORTED_MODULE_5__listing_listing_module__["a" /* ListingModule */]
            ],
            declarations: [
                __WEBPACK_IMPORTED_MODULE_2__view_all_component__["a" /* ViewAllComponent */]
            ],
            exports: [
                __WEBPACK_IMPORTED_MODULE_2__view_all_component__["a" /* ViewAllComponent */]
            ],
            providers: [
                __WEBPACK_IMPORTED_MODULE_3__view_all_service__["a" /* ViewAllService */],
                __WEBPACK_IMPORTED_MODULE_4__view_all_resolve__["a" /* ViewAllResolve */]
            ]
        })
    ], ViewAllModule);
    return ViewAllModule;
}());



/***/ }),

/***/ "./src/app/view-all/view-all.resolve.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ViewAllResolve; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__view_all_service__ = __webpack_require__("./src/app/view-all/view-all.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var ViewAllResolve = /** @class */ (function () {
    function ViewAllResolve(service) {
        this.service = service;
    }
    ViewAllResolve.prototype.resolve = function (route) {
        return this.service.getPlaylistById(route.params['id']);
    };
    ViewAllResolve = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["A" /* Injectable */])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__view_all_service__["a" /* ViewAllService */]])
    ], ViewAllResolve);
    return ViewAllResolve;
}());



/***/ }),

/***/ "./src/app/view-all/view-all.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ViewAllService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("./node_modules/@angular/http/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__globals_service__ = __webpack_require__("./src/app/globals.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_Observable__ = __webpack_require__("./node_modules/rxjs/_esm5/Observable.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_add_operator_catch__ = __webpack_require__("./node_modules/rxjs/_esm5/add/operator/catch.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_add_operator_map__ = __webpack_require__("./node_modules/rxjs/_esm5/add/operator/map.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var ViewAllService = /** @class */ (function () {
    function ViewAllService(http, globals) {
        this.http = http;
        this.globals = globals;
    }
    ViewAllService.prototype.extractData = function (res) {
        var body = res.json();
        if (body) {
            return body.data || body;
        }
        else {
            return {};
        }
    };
    ViewAllService.prototype.handleError = function (error) {
        var errMsg = (error.message) ? error.message :
            error.status ? error.status + " - " + error.statusText : 'Server error';
        console.error(errMsg);
        return __WEBPACK_IMPORTED_MODULE_3_rxjs_Observable__["a" /* Observable */].throw(errMsg);
    };
    ViewAllService.prototype.getPlaylistById = function (term) {
        return this.http
            .get(this.globals.API + ("playlists/" + term + "?device_type=web&device_layout=web"))
            .map(this.extractData)
            .catch(this.handleError);
    };
    ViewAllService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["A" /* Injectable */])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Http */],
            __WEBPACK_IMPORTED_MODULE_2__globals_service__["a" /* GlobalsService */]])
    ], ViewAllService);
    return ViewAllService;
}());



/***/ }),

/***/ "./src/environments/environment.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return environment; });
// The file contents for the current environment will overwrite these during build.
// The build system defaults to the dev environment which uses `environment.ts`, but if you do
// `ng build --env=prod` then `environment.prod.ts` will be used instead.
// The list of which env maps to which file can be found in `.angular-cli.json`.
var environment = {
    production: false,
    stripePubKey: 'pk_test_VN7NYBYUU84iPam3rih7uhyl',
    fbParams: {
        appId: '878563705651433',
        xfbml: true,
        version: 'v2.8'
    }
};


/***/ }),

/***/ "./src/main.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser_dynamic__ = __webpack_require__("./node_modules/@angular/platform-browser-dynamic/esm5/platform-browser-dynamic.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__app_app_module__ = __webpack_require__("./src/app/app.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__environments_environment__ = __webpack_require__("./src/environments/environment.ts");




if (__WEBPACK_IMPORTED_MODULE_3__environments_environment__["a" /* environment */].production) {
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_14" /* enableProdMode */])();
}
Object(__WEBPACK_IMPORTED_MODULE_1__angular_platform_browser_dynamic__["a" /* platformBrowserDynamic */])().bootstrapModule(__WEBPACK_IMPORTED_MODULE_2__app_app_module__["a" /* AppModule */]);


/***/ }),

/***/ 0:
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__("./src/main.ts");


/***/ })

},[0]);
//# sourceMappingURL=main.bundle.js.map