{"version":3,"sources":["./node_modules/moment/locale ^\\.\\/.*$","./src/$_lazy_route_resource lazy","./src/app/_animations/fade-in.animation.ts","./src/app/_animations/index.ts","./src/app/_animations/profile-drawer.animation.ts","./src/app/app-routing.module.ts","./src/app/app.component.html","./src/app/app.component.ts","./src/app/app.module.ts","./src/app/carousel/carousel.component.html","./src/app/carousel/carousel.component.ts","./src/app/carousel/carousel.module.ts","./src/app/carousel/slick-item.directive.ts","./src/app/change-pin/change-pin-popup.service.ts","./src/app/change-pin/change-pin.component.html","./src/app/change-pin/change-pin.component.ts","./src/app/change-pin/change-pin.module.ts","./src/app/config.service.ts","./src/app/details/details.component.html","./src/app/details/details.component.ts","./src/app/details/details.module.ts","./src/app/details/details.resolve.ts","./src/app/details/details.service.ts","./src/app/footer/footer.component.html","./src/app/footer/footer.component.ts","./src/app/footer/footer.module.ts","./src/app/footer/footer.service.ts","./src/app/globals.service.ts","./src/app/guide/guide.component.html","./src/app/guide/guide.component.ts","./src/app/guide/guide.module.ts","./src/app/guide/guide.service.ts","./src/app/listing/listing.component.html","./src/app/listing/listing.component.ts","./src/app/listing/listing.module.ts","./src/app/listing/listing.service.ts","./src/app/live-tv-preview/live-tv-preview.component.css","./src/app/live-tv-preview/live-tv-preview.component.html","./src/app/live-tv-preview/live-tv-preview.component.ts","./src/app/live-tv-preview/live-tv-preview.module.ts","./src/app/live-tv-preview/live-tv-preview.service.ts","./src/app/loading/loading.component.html","./src/app/loading/loading.component.ts","./src/app/loading/loading.module.ts","./src/app/loading/loading.service.ts","./src/app/login/login-popup.service.ts","./src/app/login/login.component.html","./src/app/login/login.component.ts","./src/app/login/login.module.ts","./src/app/login/login.service.ts","./src/app/menu-item/menu-item.component.html","./src/app/menu-item/menu-item.component.ts","./src/app/menu-item/menu-item.module.ts","./src/app/menu-item/menu-item.resolve.ts","./src/app/menu-item/menu-item.service.ts","./src/app/menu/menu.component.html","./src/app/menu/menu.component.ts","./src/app/menu/menu.module.ts","./src/app/menu/menu.service.ts","./src/app/models/epg-channel.ts","./src/app/models/epg-layout.ts","./src/app/models/layout.ts","./src/app/models/playlist.service.ts","./src/app/models/scheduling.ts","./src/app/models/user.ts","./src/app/payments/payments.component.html","./src/app/payments/payments.component.ts","./src/app/payments/payments.module.ts","./src/app/payments/payments.service.ts","./src/app/player/player.component.html","./src/app/player/player.component.ts","./src/app/player/player.module.ts","./src/app/player/player.service.ts","./src/app/playlist-element/playlist-element.component.html","./src/app/playlist-element/playlist-element.component.ts","./src/app/playlist-element/playlist-element.module.ts","./src/app/pricing/pricing.component.html","./src/app/pricing/pricing.component.ts","./src/app/pricing/pricing.module.ts","./src/app/profile-drawer/profile-drawer.component.html","./src/app/profile-drawer/profile-drawer.component.ts","./src/app/profile-drawer/profile-drawer.module.ts","./src/app/profile-drawer/profile-drawer.service.ts","./src/app/recover-pin/recover-pin-popup.service.ts","./src/app/recover-pin/recover-pin.component.html","./src/app/recover-pin/recover-pin.component.ts","./src/app/recover-pin/recover-pin.module.ts","./src/app/register/register-popup.service.ts","./src/app/register/register.component.html","./src/app/register/register.component.ts","./src/app/register/register.module.ts","./src/app/register/register.service.ts","./src/app/screen/screen.component.html","./src/app/screen/screen.component.ts","./src/app/screen/screen.module.ts","./src/app/screen/screen.service.ts","./src/app/search/search.component.html","./src/app/search/search.component.ts","./src/app/search/search.module.ts","./src/app/search/search.service.ts","./src/app/select-box/select-box.component.html","./src/app/select-box/select-box.component.ts","./src/app/select-box/select-box.module.ts","./src/app/sessions/sessions.component.html","./src/app/sessions/sessions.component.ts","./src/app/sessions/sessions.module.ts","./src/app/sessions/sessions.service.ts","./src/app/settings/faq/faq.component.html","./src/app/settings/faq/faq.component.ts","./src/app/settings/help/help.component.html","./src/app/settings/help/help.component.ts","./src/app/settings/languages/languages.component.html","./src/app/settings/languages/languages.component.ts","./src/app/settings/languages/languages.service.ts","./src/app/settings/my-account/change-password/change-password-popup-service.ts","./src/app/settings/my-account/change-password/change-password.component.html","./src/app/settings/my-account/change-password/change-password.component.ts","./src/app/settings/my-account/change-password/change-password.service.ts","./src/app/settings/my-account/edit-profile/edit-profile.component.html","./src/app/settings/my-account/edit-profile/edit-profile.component.ts","./src/app/settings/my-account/edit-profile/edit-profile.service.ts","./src/app/settings/my-account/my-account.component.html","./src/app/settings/my-account/my-account.component.ts","./src/app/settings/my-account/my-account.service.ts","./src/app/settings/my-account/pairing/pairing.component.html","./src/app/settings/my-account/pairing/pairing.component.ts","./src/app/settings/my-account/pairing/pairing.service.ts","./src/app/settings/my-account/parental/parental-popup.service.ts","./src/app/settings/my-account/parental/parental.component.html","./src/app/settings/my-account/parental/parental.component.ts","./src/app/settings/my-account/parental/parental.module.ts","./src/app/settings/my-account/parental/parental.service.ts","./src/app/settings/settings.component.html","./src/app/settings/settings.component.ts","./src/app/settings/settings.module.ts","./src/app/settings/settings.service.ts","./src/app/settings/terms-conditions/terms-conditions.component.html","./src/app/settings/terms-conditions/terms-conditions.component.ts","./src/app/subscriptions/subscriptions.component.html","./src/app/subscriptions/subscriptions.component.ts","./src/app/subscriptions/subscriptions.module.ts","./src/app/subscriptions/subscriptions.service.ts","./src/app/user/user.component.html","./src/app/user/user.component.ts","./src/app/user/user.module.ts","./src/app/user/user.service.ts","./src/app/utils.service.ts","./src/app/view-all/view-all.component.html","./src/app/view-all/view-all.component.ts","./src/app/view-all/view-all.module.ts","./src/app/view-all/view-all.resolve.ts","./src/app/view-all/view-all.service.ts","./src/environments/environment.ts","./src/main.ts"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;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","file":"main.bundle.js","sourcesContent":["var map = {\n\t\"./af\": \"./node_modules/moment/locale/af.js\",\n\t\"./af.js\": \"./node_modules/moment/locale/af.js\",\n\t\"./ar\": \"./node_modules/moment/locale/ar.js\",\n\t\"./ar-dz\": \"./node_modules/moment/locale/ar-dz.js\",\n\t\"./ar-dz.js\": \"./node_modules/moment/locale/ar-dz.js\",\n\t\"./ar-kw\": \"./node_modules/moment/locale/ar-kw.js\",\n\t\"./ar-kw.js\": \"./node_modules/moment/locale/ar-kw.js\",\n\t\"./ar-ly\": \"./node_modules/moment/locale/ar-ly.js\",\n\t\"./ar-ly.js\": \"./node_modules/moment/locale/ar-ly.js\",\n\t\"./ar-ma\": \"./node_modules/moment/locale/ar-ma.js\",\n\t\"./ar-ma.js\": \"./node_modules/moment/locale/ar-ma.js\",\n\t\"./ar-sa\": \"./node_modules/moment/locale/ar-sa.js\",\n\t\"./ar-sa.js\": \"./node_modules/moment/locale/ar-sa.js\",\n\t\"./ar-tn\": \"./node_modules/moment/locale/ar-tn.js\",\n\t\"./ar-tn.js\": \"./node_modules/moment/locale/ar-tn.js\",\n\t\"./ar.js\": \"./node_modules/moment/locale/ar.js\",\n\t\"./az\": \"./node_modules/moment/locale/az.js\",\n\t\"./az.js\": \"./node_modules/moment/locale/az.js\",\n\t\"./be\": \"./node_modules/moment/locale/be.js\",\n\t\"./be.js\": \"./node_modules/moment/locale/be.js\",\n\t\"./bg\": \"./node_modules/moment/locale/bg.js\",\n\t\"./bg.js\": \"./node_modules/moment/locale/bg.js\",\n\t\"./bm\": \"./node_modules/moment/locale/bm.js\",\n\t\"./bm.js\": \"./node_modules/moment/locale/bm.js\",\n\t\"./bn\": \"./node_modules/moment/locale/bn.js\",\n\t\"./bn.js\": \"./node_modules/moment/locale/bn.js\",\n\t\"./bo\": \"./node_modules/moment/locale/bo.js\",\n\t\"./bo.js\": \"./node_modules/moment/locale/bo.js\",\n\t\"./br\": \"./node_modules/moment/locale/br.js\",\n\t\"./br.js\": \"./node_modules/moment/locale/br.js\",\n\t\"./bs\": \"./node_modules/moment/locale/bs.js\",\n\t\"./bs.js\": \"./node_modules/moment/locale/bs.js\",\n\t\"./ca\": \"./node_modules/moment/locale/ca.js\",\n\t\"./ca.js\": \"./node_modules/moment/locale/ca.js\",\n\t\"./cs\": \"./node_modules/moment/locale/cs.js\",\n\t\"./cs.js\": \"./node_modules/moment/locale/cs.js\",\n\t\"./cv\": \"./node_modules/moment/locale/cv.js\",\n\t\"./cv.js\": \"./node_modules/moment/locale/cv.js\",\n\t\"./cy\": \"./node_modules/moment/locale/cy.js\",\n\t\"./cy.js\": \"./node_modules/moment/locale/cy.js\",\n\t\"./da\": \"./node_modules/moment/locale/da.js\",\n\t\"./da.js\": \"./node_modules/moment/locale/da.js\",\n\t\"./de\": \"./node_modules/moment/locale/de.js\",\n\t\"./de-at\": \"./node_modules/moment/locale/de-at.js\",\n\t\"./de-at.js\": \"./node_modules/moment/locale/de-at.js\",\n\t\"./de-ch\": \"./node_modules/moment/locale/de-ch.js\",\n\t\"./de-ch.js\": \"./node_modules/moment/locale/de-ch.js\",\n\t\"./de.js\": \"./node_modules/moment/locale/de.js\",\n\t\"./dv\": \"./node_modules/moment/locale/dv.js\",\n\t\"./dv.js\": \"./node_modules/moment/locale/dv.js\",\n\t\"./el\": \"./node_modules/moment/locale/el.js\",\n\t\"./el.js\": \"./node_modules/moment/locale/el.js\",\n\t\"./en-au\": \"./node_modules/moment/locale/en-au.js\",\n\t\"./en-au.js\": \"./node_modules/moment/locale/en-au.js\",\n\t\"./en-ca\": \"./node_modules/moment/locale/en-ca.js\",\n\t\"./en-ca.js\": \"./node_modules/moment/locale/en-ca.js\",\n\t\"./en-gb\": \"./node_modules/moment/locale/en-gb.js\",\n\t\"./en-gb.js\": \"./node_modules/moment/locale/en-gb.js\",\n\t\"./en-ie\": \"./node_modules/moment/locale/en-ie.js\",\n\t\"./en-ie.js\": \"./node_modules/moment/locale/en-ie.js\",\n\t\"./en-il\": \"./node_modules/moment/locale/en-il.js\",\n\t\"./en-il.js\": \"./node_modules/moment/locale/en-il.js\",\n\t\"./en-nz\": \"./node_modules/moment/locale/en-nz.js\",\n\t\"./en-nz.js\": \"./node_modules/moment/locale/en-nz.js\",\n\t\"./eo\": \"./node_modules/moment/locale/eo.js\",\n\t\"./eo.js\": \"./node_modules/moment/locale/eo.js\",\n\t\"./es\": \"./node_modules/moment/locale/es.js\",\n\t\"./es-do\": \"./node_modules/moment/locale/es-do.js\",\n\t\"./es-do.js\": \"./node_modules/moment/locale/es-do.js\",\n\t\"./es-us\": \"./node_modules/moment/locale/es-us.js\",\n\t\"./es-us.js\": \"./node_modules/moment/locale/es-us.js\",\n\t\"./es.js\": \"./node_modules/moment/locale/es.js\",\n\t\"./et\": \"./node_modules/moment/locale/et.js\",\n\t\"./et.js\": \"./node_modules/moment/locale/et.js\",\n\t\"./eu\": \"./node_modules/moment/locale/eu.js\",\n\t\"./eu.js\": \"./node_modules/moment/locale/eu.js\",\n\t\"./fa\": \"./node_modules/moment/locale/fa.js\",\n\t\"./fa.js\": \"./node_modules/moment/locale/fa.js\",\n\t\"./fi\": \"./node_modules/moment/locale/fi.js\",\n\t\"./fi.js\": \"./node_modules/moment/locale/fi.js\",\n\t\"./fo\": \"./node_modules/moment/locale/fo.js\",\n\t\"./fo.js\": \"./node_modules/moment/locale/fo.js\",\n\t\"./fr\": \"./node_modules/moment/locale/fr.js\",\n\t\"./fr-ca\": \"./node_modules/moment/locale/fr-ca.js\",\n\t\"./fr-ca.js\": \"./node_modules/moment/locale/fr-ca.js\",\n\t\"./fr-ch\": \"./node_modules/moment/locale/fr-ch.js\",\n\t\"./fr-ch.js\": \"./node_modules/moment/locale/fr-ch.js\",\n\t\"./fr.js\": \"./node_modules/moment/locale/fr.js\",\n\t\"./fy\": \"./node_modules/moment/locale/fy.js\",\n\t\"./fy.js\": \"./node_modules/moment/locale/fy.js\",\n\t\"./gd\": \"./node_modules/moment/locale/gd.js\",\n\t\"./gd.js\": \"./node_modules/moment/locale/gd.js\",\n\t\"./gl\": \"./node_modules/moment/locale/gl.js\",\n\t\"./gl.js\": \"./node_modules/moment/locale/gl.js\",\n\t\"./gom-latn\": \"./node_modules/moment/locale/gom-latn.js\",\n\t\"./gom-latn.js\": \"./node_modules/moment/locale/gom-latn.js\",\n\t\"./gu\": \"./node_modules/moment/locale/gu.js\",\n\t\"./gu.js\": \"./node_modules/moment/locale/gu.js\",\n\t\"./he\": \"./node_modules/moment/locale/he.js\",\n\t\"./he.js\": \"./node_modules/moment/locale/he.js\",\n\t\"./hi\": \"./node_modules/moment/locale/hi.js\",\n\t\"./hi.js\": \"./node_modules/moment/locale/hi.js\",\n\t\"./hr\": \"./node_modules/moment/locale/hr.js\",\n\t\"./hr.js\": \"./node_modules/moment/locale/hr.js\",\n\t\"./hu\": \"./node_modules/moment/locale/hu.js\",\n\t\"./hu.js\": \"./node_modules/moment/locale/hu.js\",\n\t\"./hy-am\": \"./node_modules/moment/locale/hy-am.js\",\n\t\"./hy-am.js\": \"./node_modules/moment/locale/hy-am.js\",\n\t\"./id\": \"./node_modules/moment/locale/id.js\",\n\t\"./id.js\": \"./node_modules/moment/locale/id.js\",\n\t\"./is\": \"./node_modules/moment/locale/is.js\",\n\t\"./is.js\": \"./node_modules/moment/locale/is.js\",\n\t\"./it\": \"./node_modules/moment/locale/it.js\",\n\t\"./it.js\": \"./node_modules/moment/locale/it.js\",\n\t\"./ja\": \"./node_modules/moment/locale/ja.js\",\n\t\"./ja.js\": \"./node_modules/moment/locale/ja.js\",\n\t\"./jv\": \"./node_modules/moment/locale/jv.js\",\n\t\"./jv.js\": \"./node_modules/moment/locale/jv.js\",\n\t\"./ka\": \"./node_modules/moment/locale/ka.js\",\n\t\"./ka.js\": \"./node_modules/moment/locale/ka.js\",\n\t\"./kk\": \"./node_modules/moment/locale/kk.js\",\n\t\"./kk.js\": \"./node_modules/moment/locale/kk.js\",\n\t\"./km\": \"./node_modules/moment/locale/km.js\",\n\t\"./km.js\": \"./node_modules/moment/locale/km.js\",\n\t\"./kn\": \"./node_modules/moment/locale/kn.js\",\n\t\"./kn.js\": \"./node_modules/moment/locale/kn.js\",\n\t\"./ko\": \"./node_modules/moment/locale/ko.js\",\n\t\"./ko.js\": \"./node_modules/moment/locale/ko.js\",\n\t\"./ky\": \"./node_modules/moment/locale/ky.js\",\n\t\"./ky.js\": \"./node_modules/moment/locale/ky.js\",\n\t\"./lb\": \"./node_modules/moment/locale/lb.js\",\n\t\"./lb.js\": \"./node_modules/moment/locale/lb.js\",\n\t\"./lo\": \"./node_modules/moment/locale/lo.js\",\n\t\"./lo.js\": \"./node_modules/moment/locale/lo.js\",\n\t\"./lt\": \"./node_modules/moment/locale/lt.js\",\n\t\"./lt.js\": \"./node_modules/moment/locale/lt.js\",\n\t\"./lv\": \"./node_modules/moment/locale/lv.js\",\n\t\"./lv.js\": \"./node_modules/moment/locale/lv.js\",\n\t\"./me\": \"./node_modules/moment/locale/me.js\",\n\t\"./me.js\": \"./node_modules/moment/locale/me.js\",\n\t\"./mi\": \"./node_modules/moment/locale/mi.js\",\n\t\"./mi.js\": \"./node_modules/moment/locale/mi.js\",\n\t\"./mk\": \"./node_modules/moment/locale/mk.js\",\n\t\"./mk.js\": \"./node_modules/moment/locale/mk.js\",\n\t\"./ml\": \"./node_modules/moment/locale/ml.js\",\n\t\"./ml.js\": \"./node_modules/moment/locale/ml.js\",\n\t\"./mn\": \"./node_modules/moment/locale/mn.js\",\n\t\"./mn.js\": \"./node_modules/moment/locale/mn.js\",\n\t\"./mr\": \"./node_modules/moment/locale/mr.js\",\n\t\"./mr.js\": \"./node_modules/moment/locale/mr.js\",\n\t\"./ms\": \"./node_modules/moment/locale/ms.js\",\n\t\"./ms-my\": \"./node_modules/moment/locale/ms-my.js\",\n\t\"./ms-my.js\": \"./node_modules/moment/locale/ms-my.js\",\n\t\"./ms.js\": \"./node_modules/moment/locale/ms.js\",\n\t\"./mt\": \"./node_modules/moment/locale/mt.js\",\n\t\"./mt.js\": \"./node_modules/moment/locale/mt.js\",\n\t\"./my\": \"./node_modules/moment/locale/my.js\",\n\t\"./my.js\": \"./node_modules/moment/locale/my.js\",\n\t\"./nb\": \"./node_modules/moment/locale/nb.js\",\n\t\"./nb.js\": \"./node_modules/moment/locale/nb.js\",\n\t\"./ne\": \"./node_modules/moment/locale/ne.js\",\n\t\"./ne.js\": \"./node_modules/moment/locale/ne.js\",\n\t\"./nl\": \"./node_modules/moment/locale/nl.js\",\n\t\"./nl-be\": \"./node_modules/moment/locale/nl-be.js\",\n\t\"./nl-be.js\": \"./node_modules/moment/locale/nl-be.js\",\n\t\"./nl.js\": \"./node_modules/moment/locale/nl.js\",\n\t\"./nn\": \"./node_modules/moment/locale/nn.js\",\n\t\"./nn.js\": \"./node_modules/moment/locale/nn.js\",\n\t\"./pa-in\": \"./node_modules/moment/locale/pa-in.js\",\n\t\"./pa-in.js\": \"./node_modules/moment/locale/pa-in.js\",\n\t\"./pl\": \"./node_modules/moment/locale/pl.js\",\n\t\"./pl.js\": \"./node_modules/moment/locale/pl.js\",\n\t\"./pt\": \"./node_modules/moment/locale/pt.js\",\n\t\"./pt-br\": \"./node_modules/moment/locale/pt-br.js\",\n\t\"./pt-br.js\": \"./node_modules/moment/locale/pt-br.js\",\n\t\"./pt.js\": \"./node_modules/moment/locale/pt.js\",\n\t\"./ro\": \"./node_modules/moment/locale/ro.js\",\n\t\"./ro.js\": \"./node_modules/moment/locale/ro.js\",\n\t\"./ru\": \"./node_modules/moment/locale/ru.js\",\n\t\"./ru.js\": \"./node_modules/moment/locale/ru.js\",\n\t\"./sd\": \"./node_modules/moment/locale/sd.js\",\n\t\"./sd.js\": \"./node_modules/moment/locale/sd.js\",\n\t\"./se\": \"./node_modules/moment/locale/se.js\",\n\t\"./se.js\": \"./node_modules/moment/locale/se.js\",\n\t\"./si\": \"./node_modules/moment/locale/si.js\",\n\t\"./si.js\": \"./node_modules/moment/locale/si.js\",\n\t\"./sk\": \"./node_modules/moment/locale/sk.js\",\n\t\"./sk.js\": \"./node_modules/moment/locale/sk.js\",\n\t\"./sl\": \"./node_modules/moment/locale/sl.js\",\n\t\"./sl.js\": \"./node_modules/moment/locale/sl.js\",\n\t\"./sq\": \"./node_modules/moment/locale/sq.js\",\n\t\"./sq.js\": \"./node_modules/moment/locale/sq.js\",\n\t\"./sr\": \"./node_modules/moment/locale/sr.js\",\n\t\"./sr-cyrl\": \"./node_modules/moment/locale/sr-cyrl.js\",\n\t\"./sr-cyrl.js\": \"./node_modules/moment/locale/sr-cyrl.js\",\n\t\"./sr.js\": \"./node_modules/moment/locale/sr.js\",\n\t\"./ss\": \"./node_modules/moment/locale/ss.js\",\n\t\"./ss.js\": \"./node_modules/moment/locale/ss.js\",\n\t\"./sv\": \"./node_modules/moment/locale/sv.js\",\n\t\"./sv.js\": \"./node_modules/moment/locale/sv.js\",\n\t\"./sw\": \"./node_modules/moment/locale/sw.js\",\n\t\"./sw.js\": \"./node_modules/moment/locale/sw.js\",\n\t\"./ta\": \"./node_modules/moment/locale/ta.js\",\n\t\"./ta.js\": \"./node_modules/moment/locale/ta.js\",\n\t\"./te\": \"./node_modules/moment/locale/te.js\",\n\t\"./te.js\": \"./node_modules/moment/locale/te.js\",\n\t\"./tet\": \"./node_modules/moment/locale/tet.js\",\n\t\"./tet.js\": \"./node_modules/moment/locale/tet.js\",\n\t\"./tg\": \"./node_modules/moment/locale/tg.js\",\n\t\"./tg.js\": \"./node_modules/moment/locale/tg.js\",\n\t\"./th\": \"./node_modules/moment/locale/th.js\",\n\t\"./th.js\": \"./node_modules/moment/locale/th.js\",\n\t\"./tl-ph\": \"./node_modules/moment/locale/tl-ph.js\",\n\t\"./tl-ph.js\": \"./node_modules/moment/locale/tl-ph.js\",\n\t\"./tlh\": \"./node_modules/moment/locale/tlh.js\",\n\t\"./tlh.js\": \"./node_modules/moment/locale/tlh.js\",\n\t\"./tr\": \"./node_modules/moment/locale/tr.js\",\n\t\"./tr.js\": \"./node_modules/moment/locale/tr.js\",\n\t\"./tzl\": \"./node_modules/moment/locale/tzl.js\",\n\t\"./tzl.js\": \"./node_modules/moment/locale/tzl.js\",\n\t\"./tzm\": \"./node_modules/moment/locale/tzm.js\",\n\t\"./tzm-latn\": \"./node_modules/moment/locale/tzm-latn.js\",\n\t\"./tzm-latn.js\": \"./node_modules/moment/locale/tzm-latn.js\",\n\t\"./tzm.js\": \"./node_modules/moment/locale/tzm.js\",\n\t\"./ug-cn\": \"./node_modules/moment/locale/ug-cn.js\",\n\t\"./ug-cn.js\": \"./node_modules/moment/locale/ug-cn.js\",\n\t\"./uk\": \"./node_modules/moment/locale/uk.js\",\n\t\"./uk.js\": \"./node_modules/moment/locale/uk.js\",\n\t\"./ur\": \"./node_modules/moment/locale/ur.js\",\n\t\"./ur.js\": \"./node_modules/moment/locale/ur.js\",\n\t\"./uz\": \"./node_modules/moment/locale/uz.js\",\n\t\"./uz-latn\": \"./node_modules/moment/locale/uz-latn.js\",\n\t\"./uz-latn.js\": \"./node_modules/moment/locale/uz-latn.js\",\n\t\"./uz.js\": \"./node_modules/moment/locale/uz.js\",\n\t\"./vi\": \"./node_modules/moment/locale/vi.js\",\n\t\"./vi.js\": \"./node_modules/moment/locale/vi.js\",\n\t\"./x-pseudo\": \"./node_modules/moment/locale/x-pseudo.js\",\n\t\"./x-pseudo.js\": \"./node_modules/moment/locale/x-pseudo.js\",\n\t\"./yo\": \"./node_modules/moment/locale/yo.js\",\n\t\"./yo.js\": \"./node_modules/moment/locale/yo.js\",\n\t\"./zh-cn\": \"./node_modules/moment/locale/zh-cn.js\",\n\t\"./zh-cn.js\": \"./node_modules/moment/locale/zh-cn.js\",\n\t\"./zh-hk\": \"./node_modules/moment/locale/zh-hk.js\",\n\t\"./zh-hk.js\": \"./node_modules/moment/locale/zh-hk.js\",\n\t\"./zh-tw\": \"./node_modules/moment/locale/zh-tw.js\",\n\t\"./zh-tw.js\": \"./node_modules/moment/locale/zh-tw.js\"\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"./node_modules/moment/locale recursive ^\\\\.\\\\/.*$\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/locale ^\\.\\/.*$\n// module id = ./node_modules/moment/locale recursive ^\\.\\/.*$\n// module chunks = main","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/$$_lazy_route_resource lazy\n// module id = ./src/$$_lazy_route_resource lazy recursive\n// module chunks = main","import { trigger, state, animate, transition, style } from '@angular/animations';\r\n\r\nexport const fadeInAnimation =\r\n  trigger('fadeInAnimation', [\r\n    // route 'enter' transition\r\n    transition(':enter', [\r\n\r\n      // styles at start of transition\r\n      style({ opacity: 0 }),\r\n\r\n      // animation and styles at end of transition\r\n      animate('.3s', style({ opacity: 1 }))\r\n    ]),\r\n  ]);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/_animations/fade-in.animation.ts","/* All animations in this folder should be listed here */\r\nexport * from './fade-in.animation';\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/_animations/index.ts","import { trigger, state, animate, transition, style } from '@angular/animations';\r\n\r\nexport const profileDrawerAnimation =\r\n  trigger('profileDrawerAnimation', [\r\n    // route 'enter' transition\r\n    transition(':enter', [\r\n\r\n      // styles at start of transition\r\n      style({ opacity: 0 }),\r\n\r\n      // animation and styles at end of transition\r\n      animate('.1s', style({ opacity: 0 }))\r\n    ]),\r\n    transition(':leave', [\r\n      animate('.2s', style({opacity: 1}))\r\n    ])\r\n  ]);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/_animations/profile-drawer.animation.ts","import {NgModule} from '@angular/core';\r\nimport {RouterModule, Routes} from '@angular/router';\r\n\r\nimport {DetailsComponent} from './details/details.component';\r\nimport {MenuItemComponent} from './menu-item/menu-item.component';\r\nimport {PlayerComponent} from './player/player.component';\r\nimport {ViewAllComponent} from './view-all/view-all.component';\r\nimport {SearchComponent} from './search/search.component';\r\nimport {SessionsComponent} from './sessions/sessions.component';\r\nimport {SubscriptionsComponent} from './subscriptions/subscriptions.component';\r\nimport {PaymentsComponent} from './payments/payments.component';\r\nimport {LanguagesComponent} from './settings/languages/languages.component';\r\nimport {MyAccountComponent} from './settings/my-account/my-account.component';\r\nimport {EditProfileComponent} from './settings/my-account/edit-profile/edit-profile.component';\r\nimport {PairingComponent} from './settings/my-account/pairing/pairing.component';\r\nimport {PricingComponent} from './pricing/pricing.component';\r\nimport {TermsConditionsComponent} from './settings/terms-conditions/terms-conditions.component';\r\nimport {HelpComponent} from './settings/help/help.component';\r\nimport {FaqComponent} from './settings/faq/faq.component';\r\nimport {ParentalComponent} from './settings/my-account/parental/parental.component';\r\nimport {LiveTvPreviewComponent} from './live-tv-preview/live-tv-preview.component';\r\n\r\n\r\nconst routes: Routes = [\r\n    {\r\n        path: 'settings/terms-conditions',\r\n        component: TermsConditionsComponent\r\n    },\r\n    {\r\n        path: 'settings/help',\r\n        component: HelpComponent\r\n    },\r\n    {\r\n        path: 'settings/faq',\r\n        component: FaqComponent\r\n    },\r\n    {\r\n        path: 'pricing',\r\n        component: PricingComponent\r\n    },\r\n\r\n    {\r\n        path: 'payments/:payObject/:payObjectId',\r\n        component: PaymentsComponent\r\n    },\r\n    {\r\n        path: 'subscribe',\r\n        component: SubscriptionsComponent\r\n    },\r\n    {\r\n        path: 'sessions',\r\n        component: SessionsComponent\r\n    },\r\n    {\r\n        path: '',\r\n        component: MenuItemComponent\r\n    },\r\n    {\r\n        path: ':id',\r\n        component: MenuItemComponent\r\n    },\r\n    {\r\n        path: 'movie/:id',\r\n        component: DetailsComponent\r\n    },\r\n    {\r\n        path: 'play/:id',\r\n        component: PlayerComponent\r\n    },\r\n    {\r\n        path: 'tv-show/:id',\r\n        component: DetailsComponent\r\n    },\r\n    {\r\n        path: 'tv-show/:id/:season/:episode',\r\n        component: DetailsComponent\r\n    },\r\n    {\r\n        path: 'playlist/:id',\r\n        component: ViewAllComponent\r\n    },\r\n    {\r\n        path: 'search/:query',\r\n        component: SearchComponent\r\n    },\r\n\r\n    {\r\n        path: 'settings/languages',\r\n        component: LanguagesComponent\r\n    },\r\n    {\r\n        path: 'settings/my-account',\r\n        component: MyAccountComponent\r\n    },\r\n    {\r\n        path: 'settings/my-account/edit',\r\n        component: EditProfileComponent\r\n    },\r\n    {\r\n        path: 'settings/my-account/pairing',\r\n        component: PairingComponent\r\n    },\r\n    {\r\n        path: 'settings/my-account/parental-control',\r\n        component: ParentalComponent\r\n    }\r\n];\r\n\r\n@NgModule({\r\n    imports: [RouterModule.forRoot(routes)],\r\n    exports: [RouterModule]\r\n})\r\nexport class AppRoutingModule {\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app-routing.module.ts","module.exports = \"<div id=\\\"AppTop\\\" class=\\\"app-container\\\">\\r\\n  <div class=\\\"header-container\\\">\\r\\n    <div class=\\\"header-content\\\">\\r\\n      <header class=\\\"app-header flex-grid\\\">\\r\\n        <app-menu></app-menu>\\r\\n      </header>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"app-content\\\">\\r\\n    <router-outlet></router-outlet>\\r\\n  </div>\\r\\n  <footer class=\\\"app-footer\\\">\\r\\n    <div id=\\\"footer-container\\\">\\r\\n    <app-footer></app-footer>\\r\\n    </div>\\r\\n  </footer>\\r\\n  <app-loading></app-loading>\\r\\n\\r\\n  <app-login></app-login>\\r\\n  <app-register></app-register>\\r\\n\\r\\n  <!--<app-parental></app-parental>-->\\r\\n  <app-recover-pin></app-recover-pin>\\r\\n  <app-change-pin></app-change-pin>\\r\\n  <!--<app-sessions></app-sessions>-->\\r\\n\\r\\n  <!-- change pin modal -->\\r\\n  <div *ngIf=\\\"viewLandingPage==false\\\" class=\\\"popup-container\\\">\\r\\n    <div class=\\\"popup-close\\\" (click)=\\\"viewLandingPage=false\\\"></div>\\r\\n    <div class=\\\"popup-content\\\">\\r\\n      <div id=\\\"changeParentalPinContent\\\">\\r\\n        <span class=\\\"close-button\\\" (click)=\\\"showChangeModal=false\\\"></span>\\r\\n        <h4>HARDCODED: Sign in with your account to enjoy all your favourite VOD and TV content </h4>\\r\\n        <button (click)=\\\"showLogin()\\\">{{globals.strings.LOGIN_SCREEN_LOGIN}}</button><br><br>\\r\\n        <button (click)=\\\"verifyChangePin()\\\">{{globals.strings.BUTTON_CHANGE_PIN}}</button>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n\\r\\n\\r\\n</div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.html\n// module id = ./src/app/app.component.html\n// module chunks = main","import {Component, OnInit} from '@angular/core';\r\nimport {Router, NavigationStart, NavigationEnd, NavigationError, NavigationCancel} from '@angular/router';\r\nimport 'simplebar/dist/simplebar.js';\r\nimport {GlobalsService} from \"./globals.service\";\r\nimport {LoginPopupService} from \"./login/login-popup.service\";\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html'\r\n})\r\n\r\nexport class AppComponent implements OnInit {\r\n  viewLandingPage: boolean = true;\r\n\r\n  constructor(private router: Router,\r\n              private globals: GlobalsService,\r\n              private login: LoginPopupService) {\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.router.events.subscribe(event => {\r\n      if (event instanceof NavigationStart) {\r\n\r\n      }\r\n      else if (event instanceof NavigationEnd || event instanceof NavigationError || event instanceof NavigationCancel) {\r\n\r\n      }\r\n    });\r\n  }\r\n\r\n  showLogin() {\r\n      if (!this.globals.userLoggedIn)\r\n          this.login.show.next(true);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import {BrowserModule} from '@angular/platform-browser';\r\nimport {NgModule, APP_INITIALIZER} from '@angular/core';\r\nimport {FormsModule} from '@angular/forms';\r\nimport {HttpModule} from '@angular/http';\r\nimport {HttpClientModule} from '@angular/common/http';\r\nimport {BrowserAnimationsModule} from '@angular/platform-browser/animations';\r\n\r\nimport {ConfigService} from './config.service';\r\nimport {AppComponent} from './app.component';\r\nimport {AppRoutingModule} from './app-routing.module';\r\nimport {GlobalsService} from './globals.service';\r\nimport {UtilsService} from './utils.service';\r\nimport {MenuModule} from './menu/menu.module';\r\nimport {FooterModule} from './footer/footer.module';\r\nimport {MenuItemModule} from './menu-item/menu-item.module';\r\nimport {ScreenModule} from './screen/screen.module';\r\nimport {DetailsModule} from './details/details.module';\r\nimport {ViewAllModule} from './view-all/view-all.module';\r\nimport {PlaylistElementModule} from './playlist-element/playlist-element.module';\r\nimport {PlayerModule} from './player/player.module';\r\nimport {CarouselModule} from './carousel/carousel.module';\r\nimport {ListingModule} from './listing/listing.module';\r\nimport {GuideModule} from './guide/guide.module';\r\nimport {LoadingModule} from './loading/loading.module';\r\nimport {SearchModule} from './search/search.module';\r\nimport {LoginModule} from './login/login.module';\r\nimport {LoginPopupService} from './login/login-popup.service';\r\nimport {RegisterModule} from './register/register.module';\r\nimport {RegisterPopupService} from './register/register-popup.service';\r\nimport {SelectBoxModule} from './select-box/select-box.module';\r\nimport {PlaylistService} from './models/playlist.service';\r\nimport {UserModule} from './user/user.module';\r\nimport {UserService} from './user/user.service';\r\nimport {ProfileDrawerModule} from './profile-drawer/profile-drawer.module';\r\nimport {ProfileDrawerService} from './profile-drawer/profile-drawer.service';\r\nimport {ParentalModule} from './settings/my-account/parental/parental.module';\r\nimport {RecoverPinModule} from './recover-pin/recover-pin.module';\r\nimport {ChangePinModule} from './change-pin/change-pin.module';\r\nimport {SessionsModule} from \"./sessions/sessions.module\";\r\nimport {SubscriptionsModule} from \"./subscriptions/subscriptions.module\";\r\nimport {PaymentsModule} from \"./payments/payments.module\";\r\nimport {SettingsModule} from \"./settings/settings.module\";\r\nimport {PricingModule} from \"./pricing/pricing.module\";\r\nimport {LoadingService} from \"./loading/loading.service\";\r\nimport {MenuService} from \"./menu/menu.service\";\r\nimport {ActivatedRoute, Router} from \"@angular/router\";\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n  ],\r\n  imports: [\r\n    HttpClientModule,\r\n    BrowserModule,\r\n    AppRoutingModule,\r\n    HttpModule,\r\n    FormsModule,\r\n    DetailsModule,\r\n    CarouselModule,\r\n    ListingModule,\r\n    PlaylistElementModule,\r\n    FooterModule,\r\n    LoadingModule,\r\n    SearchModule,\r\n    GuideModule,\r\n    MenuModule,\r\n    LoginModule,\r\n    RegisterModule,\r\n    MenuItemModule,\r\n    ScreenModule,\r\n    PlayerModule,\r\n    ViewAllModule,\r\n    SelectBoxModule,\r\n    UserModule,\r\n    BrowserAnimationsModule,\r\n    ProfileDrawerModule,\r\n    ParentalModule,\r\n    RecoverPinModule,\r\n    ChangePinModule,\r\n    SessionsModule,\r\n    SubscriptionsModule,\r\n    PaymentsModule,\r\n    SettingsModule,\r\n    PricingModule\r\n  ],\r\n  providers: [\r\n    GlobalsService,\r\n    UtilsService,\r\n    PlaylistService,\r\n    ConfigService,\r\n    LoginPopupService,\r\n    RegisterPopupService,\r\n    {\r\n      provide: APP_INITIALIZER,\r\n      useFactory: configServiceFactory,\r\n      deps: [ConfigService],\r\n      multi: true\r\n    },\r\n    UserService,\r\n    ProfileDrawerService,\r\n  ],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule {\r\n\r\n}\r\n\r\nexport function configServiceFactory(config: ConfigService) {\r\n  return () => config.load();\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","module.exports = \"<div appSlickItem\\r\\n       class=\\\"carousel-container\\\"\\r\\n       [ngClass]=\\\"{'carousel-seasons': isSeasons}\\\"\\r\\n       dir=\\\"{{data?.layout.presentation_order == 'RTL' ? 'RTL' : 'LTR'}}\\\"\\r\\n       *ngFor=\\\"let el of data?.playlist.contents\\\">\\r\\n    <div id={{el.id}} class=\\\"expandVisibleRange\\\" (click)=\\\"onslickSlideClick(el.id)\\\">\\r\\n      <app-playlist-element [data]=\\\"el\\\" [layout]=\\\"data?.layout\\\" [showExtraInfo]=\\\"false\\\" [clickFn]=\\\"clickFn\\\"></app-playlist-element>  <!-- [ngStyle]=\\\"{'height': '0px', 'top': '-20px'}\\\"  (click)=\\\"onslickSlideClick(el.callback,$event) -->\\r\\n    </div>\\r\\n  </div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/carousel/carousel.component.html\n// module id = ./src/app/carousel/carousel.component.html\n// module chunks = main","import {Component, Input, Output, ElementRef, NgZone, EventEmitter, HostListener} from '@angular/core';\r\nimport { OnInit, AfterViewInit, OnChanges, SimpleChanges } from \"@angular/core\";\r\nimport {Widget} from '../models/widget';\r\nimport {Content} from '../models/content';\r\nimport {PlaylistService} from '../models/playlist.service';\r\nimport * as $ from 'jquery';\r\nimport 'slick-carousel/slick/slick';\r\nimport {DetailsService} from \"../details/details.service\";\r\n\r\n@Component({\r\n  selector: 'app-carousel',\r\n  templateUrl: './carousel.component.html'\r\n})\r\n\r\n\r\nexport class CarouselComponent implements OnInit, AfterViewInit, OnChanges {\r\n  @Input() data: any;            //The input data for the carousel component\r\n  @Input() isSeasons: boolean;      //Indicates that this is a \"seasons\" carousel\r\n  @Input() clickFn: any;      //Indicates that this is a \"seasons\" carousel\r\n\r\n/*\r\n    @HostListener('window:resize') onResize() {\r\n      console.log(\"Rui TEste resize\");\r\n        if (this.$itemImage!=undefined) {\r\n            this.carrHeight = this.$itemImage.clientHeight+2*this.$itemImage.parentElement.parentElement.clientTop;\r\n            this.$carousel.height(this.carrHeight+'px');\r\n        }\r\n    }\r\n*/\r\n\r\n  // Elements that the carousel uses of input parameter <data>:\r\n  // data.playlist.contents[]                 o--> array of elements that go into the carousel\r\n  // data.image.url                           o--> if images are used, then this is their url string\r\n  // data.layout.columns                      o--> the carousel's number of columns\r\n  // data.layout.move_after_behaviour         o--> if centered the carousel will be centered\r\n  // data.layout.assets_format_ratio          o--> aspect ratio of the image\r\n  // data.layout.image_resize_type            o--> if 'crop' then cropped, otherwise resized\r\n  // data.layout.presentation_order           o--> 'RTL' or 'LTR'\r\n  // data.layout.layout_type                  o--> if 'loop_carousel' then carousel parameter 'infinite' is true\r\n  // data.layout.animation_transition_speed   o--> 'speed' parameter of the carousel\r\n  // data.layout.pagination_indicator         o--> 'dots' parameter of the carousel\r\n  // data.layout.show_elements_title          o--> 'none' in order not to show\r\n  // data.layout.element_vertical_spacing     o-->\r\n  // data.layout.element_horizontal_spacing   o-->\r\n  // data.layout.metadata_position            o-->\r\n  // data.layout.show_elements_favorite        -->\r\n  // data.layout.style                         -->\r\n\r\n  // OPTIONALLY IF data.playlist.contents[0].view exists, then extra functionality is activated\r\n  // The above elements with:  o-->  must be set (possibly empty)\r\n  // Extra Functionality:\r\n  // data.playlist.contents[].view.type        --> 'text' for text-display, 'image' for image-display\r\n  // data.playlist.contents[].view.text        --> text to display\r\n  // data.playlist.contents[].view.selected    --> true if to apply highlight class\r\n  // data.playlist.contents[].view.callback    --> callback function defined in parent component.\r\n  // data.playlist.contents[].view.param:      --> 1st parameter to be passed to the carousel's parent\r\n  // data.id                                   --> 2nd parameter to be passed to the carousel's parent\r\n\r\n\r\n\r\n  step: number;                     //Defines the difference of number of slides between resolution breaks\r\n  id: string;                       //The ID of the carousel in the DOM\r\n  pagesLoaded: number = 1;          //Pagination pages loaded. Starts at 1, since 1 page is always loaded\r\n  breakpoints: Array<number>;       //Screen width's at which the carousel changes settings and number of slides\r\n  // showCarousel: boolean = false;    //Indicates that the carousel is ready to show on the page\r\n  initialized = false;\r\n  $carousel: JQuery | any;\r\n  $itemImage: JQuery | any;\r\n  slides: any[]=[];\r\n  config: any;\r\n  selectedSlide: number;\r\n  numSlides: number=0;\r\n  extraFun: boolean;        // Whether this is a carousel with extra functionality, if not no slides should be\r\n  carrHeight: number = 0;     // altura da imagem (quando existe) do carrousel\r\nRuiTeste: string = \"111px\";\r\n  constructor(private service: PlaylistService,\r\n              private serviceDetail: DetailsService,\r\n              private elem: ElementRef, private zone: NgZone) {\r\n\r\n  }\r\n\r\n  /**\r\n   * Used on the ngFor directive for tracking purposes\r\n   * @param index\r\n   * @param element\r\n   * @returns {number}\r\n   */\r\n  trackByContent(index: number, element: Content): number {\r\n    return element.id;\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    //This object will contain other objects with the structure slick.js\r\n    //uses to set-up its responsive options\r\n    //########## Slickj.js event binding ##########\r\n\r\n//    this.$carousel.on('init', () => {\r\n//      //This is so the carousel graciously appears on the page.\r\n//      //It sets opacity to 1 and the opacity has a transition period\r\n//      setTimeout(() => {\r\n//        this.showCarousel = true;\r\n//      }, 300);\r\n//      console.log(\"Timer for slick onInit\")\r\n//    });\r\n\r\n    //TODO finish pagination\r\n    // $(this.id).on('beforeChange', ()=> {\r\n    //   if(this.data.playlist.contents.length < this.data.playlist.pagination.total_size) {\r\n    //     this.getNextPage(this.data.playlist.id, 2, ++this.pagesLoaded);\r\n    //   }\r\n    // });\r\n\r\n\r\n    //this.$carousel.on('destroy', function(event, slick, currentSlide, nextSlide){\r\n    //  console.log(\"Slick destroyed\");\r\n    //});\r\n   // To adapt the positioning of the carousel items when they don't fill the row\r\n      if (this.data && this.data.hasOwnProperty('layout')) {\r\n          if (this.data.layout.move_after_behaviour=='left' || this.data.layout.move_after_behaviour=='when_needed' || this.data.layout.move_after_behaviour=='fixed')\r\n              this.$carousel.find('.slick-track').addClass(\"alignLeft\");\r\n          if (this.data.layout.move_after_behaviour=='right')\r\n              this.$carousel.find('.slick-track').addClass(\"alignRight\");\r\n      }\r\n\r\n/*\r\n      // When the page is refreshed no onload for the first image is triggered and the navigatiuon arrows must still be repositioned\r\n      if(this.carrHeight > 0) {\r\n          this.$carousel.find('.slick-arrow')[0].style.top=this.carrHeight/2+'px';\r\n          this.$carousel.find('.slick-arrow')[1].style.top='10px';\r\n      }\r\n*/\r\n    }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n      // only run when property \"data\" changed\r\n      if (this.data && changes['data']) {\r\n          //Sometimes the columns come in decimal values. Slick does not play well with that so we round it\r\n          this.data.layout.columns = Math.round(this.data.layout.columns);\r\n          //The step is 25% of the total number of columns for the highest resolution, so for a 8 column layout\r\n          //the step would be 2, and we'd have 8 columns at the highest resolution, 6 on the one below it, 4 on the next one,\r\n          //and 2 on the smallest resolution\r\n          this.step = Math.round(this.data.layout.columns * 0.25);\r\n          this.extraFun=this.data.playlist.contents[0].hasOwnProperty(\"view\");\r\n//          console.log(\"Rui in Carousel onInit\");\r\n//          console.log(this.data);\r\n      }\r\n  }\r\n\r\n  /**\r\n   * Fetches the next page of the carousel\r\n   * @param id\r\n   * @param limit\r\n   * @param page\r\n   */\r\n  /*\r\n  getNextPage(id: string, limit: number, page: number) {\r\n    this.service.getPlaylist(id, limit, page)\r\n      .subscribe(\r\n        response => this.addSlides(response),\r\n        error => console.log(error),\r\n        () => {\r\n        })\r\n  }\r\n  */\r\n\r\n\r\n  /**\r\n   * Adds the slides on newSlides to the carousel\r\n   * @param newSlides\r\n   */\r\n  /*\r\n  addSlides(newSlides: object) {\r\n    for (let i in newSlides) {\r\n      this.data.playlist.contents.push(newSlides[i]);\r\n      this.$carousel.slick('slickAdd', newSlides[i].id);\r\n    }\r\n  }\r\n  */\r\n\r\n  calculateConfig(){\r\n    let responsiveOptions: Array<object> = [];\r\n    this.breakpoints = [5000, 1280, 768, 500, 0];\r\n//    this.$carousel = '#carousel-' + this.data.playlist.id + '-' + this.data.playlist.slug + '-' + this.data.layout.id;\r\n\r\n    //This to create the responsive options object for the slick config\r\n    for (let i = 0; i < this.breakpoints.length; i++) {\r\n      let obj: any = {};\r\n      let currentNumberOfSlides = Math.round(this.data.layout.columns) - i * this.step;\r\n      obj.breakpoint = this.breakpoints[i];\r\n      obj.settings = {\r\n        slidesToShow: currentNumberOfSlides > 0 ? currentNumberOfSlides : 1,\r\n        slidesToScroll: currentNumberOfSlides > 0 ? currentNumberOfSlides : 1\r\n      };\r\n      responsiveOptions.push(obj);\r\n    }\r\n    //######### SlickJS configuration. Refer documentation for more info ########\r\n    this.config = {\r\n      'infinite': this.data.layout.layout_type == 'loop_carousel' || this.isSeasons,\r\n      'speed': this.data.layout.animation_transition_speed,\r\n      'rtl': this.data.layout.presentation_order == 'RTL',\r\n      'dots': (this.data.layout.pagination_indicator=='none'?false:true),\r\n      'lazyLoad': 'ondemand',\r\n      'rows': 0,\r\n      'responsive': responsiveOptions,\r\n    };\r\n  }\r\n\r\n  initCarousel() {\r\n    this.zone.runOutsideAngular(() => {\r\n      this.calculateConfig();\r\n      this.$carousel = $(this.elem.nativeElement).slick(this.config);\r\n    });\r\n  }\r\n\r\n    /**\r\n     * Adds the slide to the carousel\r\n     * @param slide\r\n     */\r\n  addSlide(slide) {\r\n    if (!this.initialized) // if carousel is not initialized, then initialize it\r\n        this.initCarousel();\r\n    this.slides.push(slide);\r\n    if (this.extraFun && this.data.playlist.contents[this.numSlides].view.selected) {\r\n        this.selectedSlide=this.data.playlist.contents[this.numSlides].id;    // With Extra functionality there is a slide that is selected\r\n        $(\"#\"+this.selectedSlide).toggleClass('highlight');\r\n    }\r\n    this.$carousel.slick('slickAdd', slide.el.nativeElement);\r\n    this.initialized = true;\r\n    this.numSlides++;\r\n  }\r\n\r\n  removeSlide(slide) {\r\n    const idx = this.slides.indexOf(slide);\r\n    this.$carousel.slick('slickRemove', idx);\r\n    this.slides = this.slides.filter(s => s != slide);\r\n  }\r\n\r\n  /*\r\n  getSeason(season: string) {\r\n    //this.serviceDetail.getSeason(season,this.data.asset.id,this.data.screen.blocks[1].widgets[0].layout.id);\r\n    this.serviceDetail.getSeason(season);\r\n  }\r\n  */\r\n\r\n  onslickSlideClick(slideId:number){\r\n    if (this.extraFun) {\r\n      $(\"#\"+this.selectedSlide).toggleClass('highlight');\r\n      $(\"#\"+slideId).toggleClass('highlight');\r\n      this.selectedSlide=slideId;\r\n    }\r\n    this.$carousel.find('.slick-track').addClass(\"alignLeft\");\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/carousel/carousel.component.ts","import {NgModule}           from '@angular/core';\r\nimport {CommonModule}       from '@angular/common';\r\nimport {CarouselComponent} from './carousel.component';\r\nimport {PlaylistElementModule} from '../playlist-element/playlist-element.module';\r\nimport { SlickItemDirective } from './slick-item.directive';\r\n\r\n@NgModule({\r\n  imports:      [\r\n    CommonModule,\r\n    PlaylistElementModule\r\n  ],\r\n  declarations: [\r\n    CarouselComponent,\r\n    SlickItemDirective\r\n  ],\r\n  exports:      [\r\n    CarouselComponent\r\n  ],\r\n  providers:    [\r\n\r\n  ]\r\n})\r\n\r\nexport class CarouselModule {\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/carousel/carousel.module.ts","import {Input, AfterViewInit, Directive, ElementRef, Host, OnDestroy} from '@angular/core';\r\nimport {CarouselComponent} from \"./carousel.component\";\r\n\r\n@Directive({\r\n  selector: '[appSlickItem]'\r\n})\r\nexport class SlickItemDirective implements OnDestroy, AfterViewInit {\r\n  @Input() tcolor: string;  //RuiTest no input needed\r\n  constructor(private el: ElementRef, @Host() private carousel: CarouselComponent) {\r\n  }\r\n  ngAfterViewInit() {\r\n    this.carousel.addSlide(this);\r\n  }\r\n  ngOnDestroy() {\r\n    this.carousel.removeSlide(this);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/carousel/slick-item.directive.ts","import { Injectable } from '@angular/core';\r\nimport {Subject} from 'rxjs/Rx';\r\n\r\n@Injectable()\r\nexport class ChangePinPopupService {\r\n  show: Subject<boolean> = new Subject();\r\n\r\n  constructor() { }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/change-pin/change-pin-popup.service.ts","module.exports = \"<div *ngIf=\\\"isVisible\\\" class=\\\"popup-container\\\">\\r\\n  <div class=\\\"popup-close\\\" (click)=\\\"isVisible=false\\\"></div>\\r\\n  <div class=\\\"popup-content\\\">\\r\\n    <div>\\r\\n      <span class=\\\"close-button\\\" (click)=\\\"isVisible=false\\\"></span>\\r\\n      <div class=\\\"divEnterPin\\\">\\r\\n        <p class=\\\"pEnterPin\\\">{{globals.strings.INFO_PIN_INSERTION}}</p>\\r\\n        <input #ctrl=\\\"ngModel\\\" [(ngModel)]=\\\"thePin\\\" class=\\\"iEnterPin\\\" type=\\\"text\\\" (keyup)=\\\"handleKey($event)\\\" size=\\\"4\\\" min=\\\"\\\" maxlength=\\\"4\\\">\\r\\n        <p class=\\\"pRecoverPin\\\"><a (click)=\\\"recoverPin()\\\">{{globals.strings.SCREEN_RECOVER_PIN}}</a></p>\\r\\n        <div class=\\\"divBtnPin\\\">\\r\\n            <button class=\\\"btnEnterPin\\\" (click)=\\\"enterPin()\\\">{{globals.strings.PIN_NEW}}</button>\\r\\n        </div>\\r\\n        <div class=\\\"divPinErr\\\">\\r\\n            <p *ngIf=\\\"showErr\\\" class=\\\"pPinErr\\\">{{globals.strings.ERROR_PIN_SHORT}}</p>\\r\\n        </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n</div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/change-pin/change-pin.component.html\n// module id = ./src/app/change-pin/change-pin.component.html\n// module chunks = main","import { Component, OnInit } from '@angular/core';\r\nimport { GlobalsService} from '../globals.service';\r\nimport {HttpClient, HttpHeaders, HttpParams} from '@angular/common/http';\r\n\r\nimport { ChangePinPopupService} from './change-pin-popup.service';\r\nimport { RecoverPinPopupService} from '../recover-pin/recover-pin-popup.service';\r\n\r\n@Component({\r\n  selector: 'app-change-pin',\r\n  templateUrl: './change-pin.component.html'\r\n})\r\nexport class ChangePinComponent implements OnInit {\r\n  isVisible = false;\r\n  thePin: any;\r\n  showErr = false;\r\n  oldParentalPin: any;\r\n\r\n  constructor(\r\n    public globals: GlobalsService,\r\n    private popup: ChangePinPopupService,\r\n    private recoverPinPopup: RecoverPinPopupService,\r\n    private http: HttpClient) {\r\n      popup.show.subscribe((val: boolean) => this.showPopup());\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  showPopup() {\r\n    this.isVisible = true;\r\n    this.thePin = '';\r\n    this.showErr = false;\r\n    this.oldParentalPin = '';\r\n  }\r\n\r\n  enterPin() {\r\n    if (this.thePin.toString().length !== 4) {\r\n      this.showErr = true;\r\n      return;\r\n    }\r\n    alert('Code commented... waiting for server side development')\r\n    /*\r\n    let path = this.globals.endpoints.updateParentalPin;\r\n    path = path.replace('{account_token}', this.globals.accountToken);\r\n\r\n    const headers = new HttpHeaders()\r\n      .set('Accept-Language', this.globals.settings.default_language)\r\n      .set('Authorization', this.globals.settings.authToken);\r\n\r\n    const params = new HttpParams()\r\n      .set('device_type', 'web')\r\n      .set('parentalpin' , this.thePin.toString()) must be sent on the string TODO\r\n      .set('oldparentalpin', this.oldParentalPin); send parentalpin and oldparentalpin on the string\r\n\r\n    // PUT: Change; POST: user input verification\r\n    this.http.put(path, {headers: headers, params: params})\r\n      .toPromise()\r\n      .then()\r\n      .catch(err => console.error(err));\r\n   */\r\n  }\r\n\r\n  handleKey(event: any) {\r\n    const entry = event.target.value.toString();\r\n    let filtered = '';\r\n    let c = '';\r\n    let i;\r\n    this.showErr = false;\r\n    let limit = entry.length;\r\n    if (limit > 4) {  // assuming that the PIN length is 4\r\n      limit = 4;\r\n    }\r\n    for (i = 0; i < limit; i++) {\r\n      c = entry.substring(i, i + 1);\r\n      if (c >= '0' && c <= '9') {\r\n        filtered += c;\r\n      }\r\n    }\r\n    this.thePin = filtered;\r\n  }\r\n\r\n  recoverPin() {\r\n    this.isVisible = false;\r\n    this.recoverPinPopup.show.next(true);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/change-pin/change-pin.component.ts","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\n\r\nimport { ChangePinComponent } from './change-pin.component';\r\nimport { ChangePinPopupService} from './change-pin-popup.service';\r\n\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    ReactiveFormsModule\r\n  ],\r\n  declarations: [ChangePinComponent],\r\n  providers: [ChangePinPopupService],\r\n  exports: [ChangePinComponent]\r\n})\r\nexport class ChangePinModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/change-pin/change-pin.module.ts","/*\r\nThis code is ran before anything else in the website\r\n */\r\n\r\nimport {Injectable} from '@angular/core'\r\nimport {APIDataResponse, GlobalsService} from './globals.service'\r\nimport 'rxjs/add/operator/toPromise';\r\nimport {HttpClient, HttpHeaders, HttpParams} from \"@angular/common/http\";\r\nimport {SubscriptionsService} from \"./subscriptions/subscriptions.service\";\r\n\r\n@Injectable()\r\nexport class ConfigService {\r\n\r\n  constructor(\r\n    private http: HttpClient,\r\n    private globals: GlobalsService,\r\n    private subscriptionService: SubscriptionsService\r\n  ) {}\r\n\r\n  load(): Promise<boolean> {\r\n\r\n    return new Promise<boolean>((resolve) => {\r\n      // First off, get settings and chain other vital tasks\r\n      // build_version doesn't seem to be relevant on website, defaulting to '1'\r\n      const params = new HttpParams()\r\n        .set('device_type', 'web')\r\n        .set('device_layout', 'web')\r\n        .set('build_version', '1');\r\n\r\n      this.http.get<APIDataResponse>(this.globals.endpoints.settings, {params: params})\r\n        .toPromise()\r\n        .then(\r\n          res => {\r\n            this.globals.settings = res.data;\r\n\r\n            if (this.globals.settings.user_configurations.hasOwnProperty('authentication_providers'))\r\n            {\r\n              this.globals.nbrOfLoginProviders = this.globals.settings.user_configurations.authentication_providers.length;\r\n            }\r\n\r\n            // FIXME: delete after testing!\r\n            //this.globals.nbrOfLoginProviders = 3;\r\n\r\n            // Get available languages.\r\n            const params = new HttpParams()\r\n              .set('device_type', 'web')\r\n              .set('limit', '20')\r\n              .set('page', '1');\r\n\r\n            this.http.get<APIDataResponse>(this.globals.endpoints.languages, {params: params})\r\n              .toPromise()\r\n              .then(\r\n                res => {\r\n                  this.globals.languages = res.data;\r\n\r\n                  // Get the app's strings based on the default language\r\n                  // TODO: implement browser language detection for auto selection of the language (fallback to EN)\r\n                  const headers = new HttpHeaders()\r\n                    .set('Accept-Language', this.globals.settings.default_language);\r\n                  const params = new HttpParams()\r\n                    .set('device_type', 'web');\r\n\r\n                  this.http.get<APIDataResponse>(this.globals.endpoints.strings, {headers: headers, params: params})\r\n                    .toPromise()\r\n                    .then(\r\n                      res => {\r\n                        this.globals.strings = res.data;\r\n\r\n                        // Get the available subscriptions for this platform\r\n                        // @MOD 2018-03-19 - Check if the rules allow subscriptions\r\n                        if (this.globals.rules.subscriptions)\r\n                          this.subscriptionService.getAllSubscriptions();\r\n\r\n\r\n                          /*\r\n                           * @Bug fix/feature implementation 2018-05-19 - (pdoriam)\r\n                           * Maintain user logged-in status after refresh/between sessions\r\n                           * @Notes: check if there's an auth_token and profile_token in local storage\r\n                           *         and auto-login user if so.\r\n                           */\r\n                          let profileToken = localStorage.getItem(this.globals.localStorageKeyPrefix+'CURRPROF');\r\n                          let authToken = localStorage.getItem(this.globals.localStorageKeyPrefix+'AUTHTOKEN');\r\n                          let accToken = localStorage.getItem(this.globals.localStorageKeyPrefix+'ACCTOKEN');\r\n\r\n                          if (profileToken!=null && authToken!=null && accToken!=null) {\r\n                              // Auto-login user\r\n                              let endpoint = this.globals.endpoints.sessionStatus.replace('{profile_token}', profileToken);\r\n                              let headers = new HttpHeaders()\r\n                                  .set('Authorization', 'bearer '+authToken);\r\n                              let params = new HttpParams()\r\n                                  .set('device_type', 'web');\r\n\r\n                              this.http.get<APIDataResponse>(endpoint, {headers: headers, params: params})\r\n                                  .toPromise()\r\n                                  .then(res => {\r\n                                      // Success, session is still alive, set the global vars and the get the user info\r\n                                      this.globals.userLoggedIn = true;\r\n                                      this.globals.accountToken = accToken;\r\n                                      this.globals.authToken = authToken;\r\n                                      this.globals.accountProfileToken = profileToken;\r\n\r\n                                      // Get the user details for filling the info\r\n                                      let headers = new HttpHeaders()\r\n                                          .set('Authorization', 'bearer '+this.globals.authToken);\r\n\r\n                                      let params = new HttpParams()\r\n                                          .set('device_type', 'web');\r\n\r\n                                      this.http.get<APIDataResponse>(this.globals.endpoints.profile + profileToken, {headers: headers, params: params})\r\n                                          .toPromise()\r\n                                          .then(res => {\r\n                                              this.globals.currProfile = res.data;\r\n                                              // Instantly update the user's current avatar on screen\r\n                                              if (this.globals.currProfile.profile_picture.url !== '')\r\n                                                  this.globals.currAvatar = this.globals.currProfile.profile_picture.url;\r\n\r\n                                              resolve(true);\r\n                                          })\r\n                                          .catch(function (error) {\r\n                                              console.error(error);\r\n                                              resolve(true);\r\n                                          });\r\n                                  })\r\n                                  .catch(function (error) {\r\n                                      console.error(error);\r\n                                      // Either way resolve this promise and get back to business\r\n                                      // @notes: the user will have to login...\r\n                                      resolve(true);\r\n                                  });\r\n                          }\r\n                          else {\r\n                              // Either way resolve this promise and get back to business\r\n                              // @notes: the user will have to login...\r\n                              resolve(true);\r\n                          }\r\n                      }\r\n                    )\r\n                    .catch(function (error) {\r\n                      console.error(error);\r\n                    });\r\n                }\r\n              )\r\n              .catch(function (error) {\r\n                console.error(error);\r\n              });\r\n          }\r\n        )\r\n        .catch(function (error) {\r\n          console.error(error);\r\n        });\r\n    });\r\n\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/config.service.ts","module.exports = \"<!-- Based on Zeplin mockups -->\\r\\n<!-- LAYOUT A -->\\r\\n<!-- @Notes: Layout type A doesn't have \\\"related\\\" list -->\\r\\n<div class=\\\"details-container details-a\\\" *ngIf=\\\"layoutType=='details_page_A'\\\">\\r\\n  <div class=\\\"details-content flex-grid\\\">\\r\\n    <div class=\\\"details-title col-100\\\">{{data?.asset.name}}<span class=\\\"detailsArrow\\\"><i class=\\\"fa fa-arrow-right\\\" aria-hidden=\\\"true\\\"></i></span>{{detailsTitle}}</div>\\r\\n    <div class=\\\"col-100 details-layout-a-image-big\\\">\\r\\n      <img data-src=\\\"{{coverImage}}\\\">\\r\\n      <div *ngIf=\\\"hasTrailer\\\" class=\\\"moviesTrailer\\\">\\r\\n        <a>\\r\\n        <i class=\\\"fa fa-play\\\" aria-hidden=\\\"true\\\"></i><br>\\r\\n        {{globals.strings.DETAILS_SCREEN_BUTTON_TRAILER}}\\r\\n        </a>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n  </div>\\r\\n\\r\\n  <!-- Table-based approach. right column contains another table -->\\r\\n  <table id=\\\"layoutA_contentDetailsTbl\\\">\\r\\n    <tr>\\r\\n      <!-- LEFT COLUMN -->\\r\\n      <td id=\\\"layoutA_contentDetails\\\">\\r\\n        <span class=\\\"movie_title\\\">{{data?.asset.name}}</span>\\r\\n        <br/>\\r\\n        <a innerHtml={{buildRating()}} (click)=\\\"showRatingPopup()\\\"></a> <br/>\\r\\n        <!-- Production year | length | genres | age rating -->\\r\\n        {{data.asset.production_year}} |\\r\\n        {{minutesToTime(data.asset.length)}} |\\r\\n        {{getAgeRating()}} <br/>\\r\\n\\r\\n        <!-- Directors -->\\r\\n        <div class=\\\"cast\\\"  *ngIf=\\\"data?.asset.cast?.directors && data?.asset.cast?.directors.length > 0\\\">\\r\\n          <ul>\\r\\n            <label class=\\\"directors\\\">{{globals.strings.DETAILS_SCREEN_DIRECTORS}}:</label>\\r\\n            <li *ngFor=\\\"let element of data?.asset.cast.directors\\\">{{element.name}}</li>\\r\\n          </ul>\\r\\n        </div>\\r\\n\\r\\n        <!-- Writers -->\\r\\n        <div class=\\\"cast\\\" *ngIf=\\\"data?.asset.cast?.writers && data?.asset.cast?.writers.length > 0\\\">\\r\\n          <ul>\\r\\n            <label>{{globals.strings.DETAILS_SCREEN_WRITERS}}:</label>\\r\\n            <li *ngFor=\\\"let element of data?.asset.cast.writers\\\">{{element.name}}</li>\\r\\n          </ul>\\r\\n        </div>\\r\\n\\r\\n        <!-- Cast -->\\r\\n        <div class=\\\"cast\\\"  *ngIf=\\\"data?.asset.cast?.actors && data?.asset.cast?.actors.length > 0\\\">\\r\\n          <ul>\\r\\n            <label class=\\\"actors\\\">{{globals.strings.DETAILS_SCREEN_ACTORS}}:</label>\\r\\n            <li *ngFor=\\\"let element of data?.asset.cast.actors\\\">{{element.name}}</li>\\r\\n          </ul>\\r\\n        </div>\\r\\n\\r\\n        <!-- Movie long description -->\\r\\n        <div class=\\\"details-info\\\">\\r\\n          <p>{{data?.asset.long_description}}</p>\\r\\n        </div>\\r\\n      </td>\\r\\n\\r\\n      <!-- RIGHT COLUMN -->\\r\\n      <td id=\\\"layoutA_contentShareBtns\\\" align=\\\"right\\\">\\r\\n        <table>\\r\\n          <tr>\\r\\n            <td colspan=\\\"4\\\" class=\\\"icon_buttons_col\\\">\\r\\n              <button class=\\\"icon_button\\\"\\r\\n                      *ngFor=\\\"let btn of data?.screen.layout.buttons_positioning.icon_button\\\"\\r\\n                      [innerHtml]= 'btn.action==\\\"favorite\\\" && isFavourite ?  btn.on_image : btn.off_image'\\r\\n                      (click)=\\\"iconBtnClick(btn.action)\\\"\\r\\n                      [ngClass]=\\\"{'favourite': btn.action=='favorite' && isFavourite}\\\">\\r\\n              </button>\\r\\n            </td>\\r\\n          </tr>\\r\\n          <tr>\\r\\n            <td class=\\\"full_icon_buttons_col\\\">\\r\\n              <button class=\\\"full_button\\\"\\r\\n                      *ngFor=\\\"let btn of data?.screen.layout.buttons_positioning.full_button\\\"\\r\\n                      innerHtml={{buildFullBtnHtml(btn.on_image,btn.name)}}\\r\\n                      (click)=\\\"fullBtnClick(btn.action)\\\">\\r\\n                {{btn.name}}\\r\\n              </button>\\r\\n            </td>\\r\\n          </tr>\\r\\n        </table>\\r\\n\\r\\n\\r\\n      </td>\\r\\n    </tr>\\r\\n  </table>\\r\\n\\r\\n\\r\\n  <div class=\\\"cast\\\" *ngIf=\\\"data?.asset.cast?.music_composers && data?.asset.cast?.music_composers.length > 0\\\">\\r\\n    <ul>\\r\\n      <label>{{globals.strings.DETAILS_SCREEN_MUSIC_COMPOSER}}:</label>\\r\\n      <li *ngFor=\\\"let element of data?.asset.cast.music_composers\\\">{{element.name}}</li>\\r\\n    </ul>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"cast\\\" *ngIf=\\\"data?.asset.cast?.singers && data?.asset.cast?.singers.length > 0\\\">\\r\\n    <ul>\\r\\n      <label>{{globals.strings.DETAILS_SCREEN_SINGERS}}:</label>\\r\\n      <li *ngFor=\\\"let element of data?.asset.cast.singers\\\">{{element.name}}</li>\\r\\n    </ul>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"cast\\\" *ngIf=\\\"data?.asset.cast?.song_writers && data?.asset.cast?.song_writers.length > 0\\\">\\r\\n    <ul>\\r\\n      <label>{{globals.strings.DETAILS_SCREEN_SING_WRITERS}}:</label>\\r\\n      <li *ngFor=\\\"let element of data?.asset.cast.song_writers\\\">{{element.name}}</li>\\r\\n    </ul>\\r\\n  </div>\\r\\n\\r\\n<!--  <a routerLink=\\\"play\\\" class=\\\"play-button\\\"><button>{{globals.strings.DETAILS_SCREEN_BUTTON_PLAY}}</button></a>-->\\r\\n\\r\\n</div>\\r\\n\\r\\n\\r\\n<!-- LAYOUT B -->\\r\\n<div class=\\\"details-container details-b\\\" *ngIf=\\\"layoutType=='details_page_B'\\\">\\r\\n  <div class=\\\"details-content flex-grid\\\">\\r\\n    <div class=\\\"details-title\\\">{{data?.asset.name}}<span class=\\\"detailsArrow\\\"><i class=\\\"fa fa-arrow-right\\\" aria-hidden=\\\"true\\\"></i></span>{{globals.strings.DETAILS_SCREEN_DETAILS_LABEL}}</div>\\r\\n    <div class=\\\"col-100 details-layout-b-image-big\\\" [ngStyle]=\\\"{'background-color': data?.screen.layout.background.color}\\\">\\r\\n      <!--\\r\\n      <img class=\\\"img-responsive\\\" *ngIf=\\\"data?.asset.type=='movies'\\\" src=\\\"{{data?.asset.images.banner.url}}\\\">\\r\\n      <img class=\\\"img-responsive\\\" *ngIf=\\\"data?.asset.type=='series' || data?.asset.type=='seasons'\\\" src=\\\"{{data?.asset.images.backdrop.url}}\\\">\\r\\n      <img class=\\\"img-responsive\\\" *ngIf=\\\"data?.asset.type=='channels'\\\" src=\\\"{{data?.asset.image.url}}\\\">\\r\\n      -->\\r\\n      <img class=\\\"img-responsive\\\" data-src=\\\"{{coverImage}}\\\">\\r\\n      <div *ngIf=\\\"hasTrailer\\\" class=\\\"moviesTrailer\\\">\\r\\n        <a>\\r\\n          <i class=\\\"fa fa-play\\\" aria-hidden=\\\"true\\\"></i><br>\\r\\n          {{globals.strings.DETAILS_SCREEN_BUTTON_TRAILER}}\\r\\n        </a>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <!-- this goes right, so must appear first :P -->\\r\\n  <div class=\\\"movie-all-buttons\\\">\\r\\n    <table>\\r\\n      <tr>\\r\\n        <td colspan=\\\"4\\\" class=\\\"icon_buttons_col\\\">\\r\\n          <button class=\\\"icon_button\\\"\\r\\n                  *ngFor=\\\"let btn of data?.screen.layout.buttons_positioning.icon_button\\\"\\r\\n                  (click)=\\\"iconBtnClick(btn.action)\\\"\\r\\n                  [innerHtml]= 'btn.action==\\\"favorite\\\" && isFavourite ?  btn.on_image : btn.off_image'\\r\\n                  [ngClass]=\\\"{'favourite': btn.action=='favorite' && isFavourite}\\\">\\r\\n          </button>\\r\\n        </td>\\r\\n      </tr>\\r\\n      <tr>\\r\\n        <td class=\\\"full_icon_buttons_col\\\">\\r\\n          <div style=\\\"display: inline-block\\\" *ngFor=\\\"let btn of data?.screen.layout.buttons_positioning.full_button\\\">\\r\\n            <button class=\\\"full_button\\\"\\r\\n                    *ngIf=\\\"!userIsEntitled || btn.action=='play'\\\"\\r\\n                    innerHtml={{buildFullBtnHtml(btn.on_image,btn.name)}}\\r\\n                    (click)=\\\"fullBtnClick(btn.action)\\\">\\r\\n              {{btn.name}}\\r\\n            </button>\\r\\n\\r\\n          </div>\\r\\n\\r\\n        </td>\\r\\n      </tr>\\r\\n    </table>\\r\\n  </div>\\r\\n\\r\\n\\r\\n  <div class=\\\"movie-details\\\">\\r\\n    <table>\\r\\n      <tr>\\r\\n        <td class=\\\"movie-poster\\\"><img src=\\\"{{data?.asset.images.poster.url}}\\\"></td>\\r\\n        <td class=\\\"movie-info\\\">\\r\\n          <a innerHtml={{buildRating()}} (click)=\\\"showRatingPopup()\\\"></a> <br/>\\r\\n          <!-- Production year | length | genres | age rating -->\\r\\n          {{data.asset.production_year}} |\\r\\n          {{minutesToTime(data.asset.length)}} |\\r\\n          {{getAgeRating()}}\\r\\n\\r\\n          <!-- Directors -->\\r\\n          <div class=\\\"cast\\\"  *ngIf=\\\"data?.asset.cast?.directors && data?.asset.cast?.directors.length > 0\\\">\\r\\n            <ul>\\r\\n              <label class=\\\"directors\\\">{{globals.strings.DETAILS_SCREEN_DIRECTORS}}:</label>\\r\\n              <li *ngFor=\\\"let element of data?.asset.cast.directors\\\">{{element.name}}</li>\\r\\n            </ul>\\r\\n          </div>\\r\\n\\r\\n          <!-- Cast -->\\r\\n          <div class=\\\"cast\\\"  *ngIf=\\\"data?.asset.cast?.actors && data?.asset.cast?.actors.length > 0\\\">\\r\\n            <ul>\\r\\n              <label class=\\\"actors\\\">{{globals.strings.DETAILS_SCREEN_ACTORS}}:</label>\\r\\n              <li *ngFor=\\\"let element of data?.asset.cast.actors\\\">{{element.name}}</li>\\r\\n            </ul>\\r\\n          </div>\\r\\n\\r\\n          <!-- Movie long description -->\\r\\n          <div class=\\\"details-info\\\">\\r\\n            <p>{{data?.asset.long_description}}</p>\\r\\n          </div>\\r\\n        </td>\\r\\n      </tr>\\r\\n    </table>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"seasonsWrapper\\\" *ngIf=\\\"hasSeasons\\\">\\r\\n    <div class=\\\"seasonsTitle\\\">{{globals.strings.ASSET_RELATED_SEASON_TITLE}}</div>\\r\\n    <app-carousel [data]=\\\"seasonsList\\\" [isSeasons]=\\\"true\\\"></app-carousel>\\r\\n  </div>\\r\\n\\r\\n  <!-- Related content -->\\r\\n  <div class=\\\"relatedWrapper\\\" *ngIf=\\\"hasRelated\\\">\\r\\n    <div class=\\\"relatedTitle\\\">{{globals.strings.ASSET_RELATED_TITLE}}</div>\\r\\n    <div class=\\\"carousel-container\\\">\\r\\n      <app-carousel [data]=\\\"relatedList\\\"></app-carousel>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<!-- LAYOUT D -->\\r\\n<!-- <a routerLink=\\\"/{{globals.pageTitle}}\\\">{{globals.pageTitle}}</a>  <a routerLink=\\\"/{{globals.pageTitle}}\\\">{{data?.asset.name}}</a> -->\\r\\n<div class=\\\"details-container details-d\\\" *ngIf=\\\"layoutType=='details_page_D'\\\">\\r\\n  <div class=\\\"details-primary-title\\\"><div class=\\\"breadCrumb\\\" (click)=\\\"crumbClick(globals.pageTitleSlug)\\\">{{globals.pageTitle}}</div> <span class=\\\"detailsArrow\\\"><i class=\\\"fa fa-arrow-right\\\" aria-hidden=\\\"true\\\"></i></span> {{data?.asset.name}} </div>\\r\\n  <div class=\\\"details-content flex-grid2\\\">  <!-- retirei  flex-grid -->\\r\\n    <div class=\\\"col-60 details-layout-D-image-banner\\\" [ngStyle]=\\\"{'background-color': data?.screen.layout.background.color}\\\">\\r\\n      <div style=\\\"position: relative\\\"><img class=\\\"img-responsive\\\" data-src=\\\"{{coverImage}}\\\" (error)=\\\"setNoImageCover()\\\">\\r\\n        <div  class=\\\"playArrow\\\" (click)=\\\"fullBtnClick('play')\\\"></div>\\r\\n      </div>\\r\\n      <!--\\r\\n      <div *ngIf=\\\"hasTrailer\\\" class=\\\"moviesTrailer\\\">\\r\\n        <a>\\r\\n          <i class=\\\"fa fa-play\\\" aria-hidden=\\\"true\\\"></i><br>\\r\\n          {{globals.strings.DETAILS_SCREEN_BUTTON_TRAILER}}\\r\\n        </a>\\r\\n      </div>\\r\\n      -->\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"col-40 movie-details-d\\\">\\r\\n      <table class=\\\"movie-info\\\">\\r\\n        <tr>\\r\\n          <td><div class=\\\"details-title-d\\\">{{data?.asset.name}}</div></td>\\r\\n        </tr>\\r\\n        <tr>\\r\\n            <td><div [style.display]=\\\"'inline'\\\" [innerHtml]=\\\"buildRating()\\\"></div><button class=\\\"rateBtn\\\" (click)=\\\"showRatingPopup()\\\">{{globals.strings.RATE_ASSET_TITLE}}</button></td>\\r\\n        </tr>\\r\\n\\r\\n        <tr>         <!-- Production year | length | genres | age rating -->\\r\\n          <td>\\r\\n            {{(data.asset.production_year==undefined || data.asset.production_year=='1900'?'':data.asset.production_year)}}\\r\\n            {{(data.asset.length==undefined || data.asset.length==0?'':' | ' + minutesToTime(data.asset.length))}}\\r\\n            {{(getAgeRating()=='N/A'?'':' | ' + getAgeRating())}}\\r\\n          </td>\\r\\n        </tr>\\r\\n\\r\\n        <tr>\\r\\n          <td>         <!-- Directors -->\\r\\n            <div class=\\\"cast\\\"  *ngIf=\\\"data?.asset.cast?.directors && data?.asset.cast?.directors.length > 0\\\">\\r\\n              <ul>\\r\\n                <li class=\\\"directors\\\">{{globals.strings.DETAILS_SCREEN_DIRECTORS}}:</li>\\r\\n                <li class=\\\"listdirectors\\\" *ngFor=\\\"let element of data?.asset.cast.directors\\\">{{element.name}}</li>\\r\\n              </ul>\\r\\n            </div>\\r\\n          </td>\\r\\n        </tr>\\r\\n\\r\\n        <tr>\\r\\n          <td>         <!-- Cast -->\\r\\n            <div class=\\\"cast\\\"  *ngIf=\\\"data?.asset.cast?.actors && data?.asset.cast?.actors.length > 0\\\">\\r\\n              <ul>\\r\\n                <li class=\\\"actors\\\">{{globals.strings.DETAILS_SCREEN_ACTORS}}:</li>\\r\\n                <li class=\\\"listactors\\\" *ngFor=\\\"let element of data?.asset.cast.actors\\\">{{element.name}}</li>\\r\\n              </ul>\\r\\n            </div>\\r\\n          </td>\\r\\n        </tr>\\r\\n\\r\\n        <tr>\\r\\n          <td>         <!-- Movie long description -->\\r\\n            <div class=\\\"details-info\\\">\\r\\n              {{data?.asset.long_description}}\\r\\n            </div>\\r\\n          </td>\\r\\n        </tr>\\r\\n      </table>\\r\\n\\r\\n\\r\\n      <div class=\\\"movie-all-buttons\\\">\\r\\n        <table>\\r\\n          <tr *ngIf=\\\"data.screen.layout.show_video_provider\\\">\\r\\n            <img class=\\\"img-provider\\\" [src]=\\\"providerImage\\\" (error)=\\\"setNoImageProv()\\\">\\r\\n          </tr>\\r\\n          <tr>\\r\\n            <td colspan=\\\"4\\\" class=\\\"icon_buttons_col\\\">\\r\\n              <button class=\\\"icon_button\\\"\\r\\n                      *ngFor=\\\"let btn of data?.screen.layout.buttons_positioning.icon_button\\\"\\r\\n                      (click)=\\\"iconBtnClick(btn.action)\\\"\\r\\n                      [innerHtml]= 'btn.action==\\\"favorite\\\" && isFavourite ?  btn.on_image : btn.off_image'\\r\\n                      [ngClass]=\\\"{'favourite': btn.action=='favorite' && isFavourite}\\\">\\r\\n              </button>\\r\\n            </td>\\r\\n          </tr>\\r\\n          <tr>\\r\\n            <td class=\\\"full_icon_buttons_col\\\">\\r\\n              <!-- {{data?.screen.layout.buttons_positioning.full_button | json}}<br><br><br><br>  -->\\r\\n              <div style=\\\"display: inline-block\\\" *ngFor=\\\"let btn of data?.screen.layout.buttons_positioning.full_button\\\">\\r\\n                <button class=\\\"full_button\\\"\\r\\n                        *ngIf=\\\"showFullButtons(entitlementsReady,btn.action)\\\"\\r\\n                        innerHtml={{buildFullBtnHtml(btn.on_image,btn.name)}}\\r\\n                        (click)=\\\"fullBtnClick(btn.action)\\\">\\r\\n                  {{btn.name}}\\r\\n                </button>\\r\\n              </div>\\r\\n            </td>\\r\\n          </tr>\\r\\n        </table>\\r\\n      </div>\\r\\n\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n<!-- {{data.screen.blocks[0].widgets[0].layout.show_playlist_title}} -->\\r\\n  <h4 *ngIf=\\\"hasSeasons && data.screen.blocks[0].widgets[0].layout.show_playlist_title == 1\\\">{{globals.strings.ASSET_TYPE_SEASONS}}</h4>\\r\\n<!-- {{data.layout.move_after_behaviour}} -->\\r\\n  <div class=\\\"seasonsWrapper season_text\\\" *ngIf=\\\"hasSeasons && seasonLayoutType==='season_title'\\\">\\r\\n    <app-carousel [data]=\\\"seasonsList\\\" [isSeasons]=\\\"true\\\"></app-carousel>\\r\\n    <div *ngIf=\\\"!this.hasEpisodes\\\" class=\\\"noEpisodes\\\">{{(this.globals.strings.SEASON_EMPTY!=undefined?this.globals.strings.SEASON_EMPTY:'Hardcoded:No available season episodes')}}</div>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"seasonsWrapper season_text\\\" *ngIf=\\\"hasSeasons && seasonLayoutType==='season_number'\\\">\\r\\n    <table class=\\\"seasonNumberTbl\\\">\\r\\n      <td>{{globals.strings.SEASON_NUMBER_TITLE}}</td>\\r\\n      <td><app-carousel [data]=\\\"seasonsList\\\" [isSeasons]=\\\"true\\\"></app-carousel></td> <!-- removed [typeCarousel]=\\\"seasonstypeCarousel\\\" (parentCallback)=\\\"detailsCallback($event[0],$event[1])\\\" -->\\r\\n    </table>\\r\\n    <div *ngIf=\\\"!this.hasEpisodes\\\" class=\\\"noEpisodes\\\">{{(this.globals.strings.SEASON_EMPTY!=undefined?this.globals.strings.SEASON_EMPTY:'Hardcoded:No available season episodes')}}</div>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"seasonsWrapper season_image\\\" *ngIf=\\\"hasSeasons && seasonLayoutType==='playlist'\\\">\\r\\n    <app-carousel [data]=\\\"seasonsList\\\" [isSeasons]=\\\"true\\\" ></app-carousel> <!-- (parentCallback)=\\\"detailsCallback($event[0],$event[1])\\\" -->\\r\\n    <div *ngIf=\\\"!this.hasEpisodes\\\" class=\\\"noEpisodes\\\">{{(this.globals.strings.SEASON_EMPTY!=undefined?this.globals.strings.SEASON_EMPTY:'Hardcoded:No available season episodes')}}</div>\\r\\n  </div>\\r\\n\\r\\n  <table *ngIf=\\\"hasSeasons && hasEpisodes\\\" class=\\\"seasonsEpisodesTbl\\\">\\r\\n    <tr  *ngFor=\\\"let episode of episodesList.playlist.contents\\\">\\r\\n        <!-- Call back functions -->\\r\\n        <td class=\\\"episodeImage\\\">\\r\\n          <img [src]=\\\"episodeImg(episode.image.url)\\\" (error)=\\\"episode.image.url=globals.API.slice(0,-4)+'uploads/placeholder/placeholder.png'\\\">\\r\\n          <div  class=\\\"playArrow\\\" (click)=\\\"playClicked(episode.id,episode.video.streams.url)\\\"></div>\\r\\n        </td>\\r\\n        <td class=\\\"seasonsEpisodesCol\\\">\\r\\n          {{episode.name}}<br>\\r\\n          {{episode.short_description}}\\r\\n        </td>\\r\\n        <td class=\\\"episode-share-icon\\\">\\r\\n          <!-- <i class=\\\"fa fa-share-alt\\\"></i>  -->\\r\\n          <button class=\\\"icon_button\\\"\\r\\n                  (click)=\\\"iconBtnClick('share')\\\"\\r\\n                  [innerHtml]= \\\"isShared ?  data?.screen.layout.buttons_positioning.icon_button[0].on_image : data?.screen.layout.buttons_positioning.icon_button[0].off_image\\\">\\r\\n          </button>\\r\\n        </td>\\r\\n    </tr>\\r\\n  </table><br>\\r\\n\\r\\n  <div class=\\\"relatedWrapper\\\" *ngIf=\\\"hasRelated\\\">\\r\\n    <div class=\\\"relatedTitle\\\">{{globals.strings.ASSET_RELATED_TITLE}}</div>\\r\\n    <div class=\\\"carousel-container\\\">\\r\\n      <app-carousel class=\\\"detailsRelatedCarousel\\\" [data]=\\\"relatedList\\\"></app-carousel>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n<!-- LAYOUT Z :P -->\\r\\n<div class=\\\"details-container details-b\\\" *ngIf=\\\"layoutType=='details_page_Z'\\\">\\r\\n  <div class=\\\"details\\\">\\r\\n    <div class=\\\"details-content\\\">\\r\\n      <div class=\\\"details-image\\\">\\r\\n        <img data-src=\\\"{{data?.asset.images.poster.url}}\\\">\\r\\n      </div>\\r\\n      <div class=\\\"details-info\\\">\\r\\n        <h1>{{data?.asset.name}}</h1>\\r\\n        <p>{{data?.asset.long_description}}</p>\\r\\n        <a routerLink=\\\"play\\\" class=\\\"play-button\\\"><button>Play</button></a>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<!-- TODO: LAYOUT C -->\\r\\n\\r\\n<!-- TODO: LAYOUT D -->\\r\\n\\r\\n\\r\\n<!-- Fallback - No layout coming from API :S -->\\r\\n<div class=\\\"details-container details-b\\\" *ngIf=\\\"layoutType==''\\\">\\r\\n  <div class=\\\"details\\\">\\r\\n    <div class=\\\"details-content\\\">\\r\\n      <div class=\\\"details-image\\\">\\r\\n        <img data-src=\\\"{{data?.asset.images.poster.url}}\\\">\\r\\n      </div>\\r\\n      <div class=\\\"details-info\\\">\\r\\n        <h1>{{data?.asset.name}}</h1>\\r\\n        <p>{{data?.asset.long_description}}</p>\\r\\n        <a routerLink=\\\"play\\\" class=\\\"play-button\\\"><button>Play</button></a>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n\\r\\n\\r\\n<!-- RATING MODAL -->\\r\\n<div *ngIf=\\\"ratingPopUpVisible\\\" class=\\\"popup-container\\\">\\r\\n  <div class=\\\"popup-close\\\" (click)=\\\"ratingPopUpVisible=false\\\"></div>\\r\\n  <div class=\\\"popup-content\\\">\\r\\n    <div id=\\\"ratingContent\\\">\\r\\n      <span class=\\\"close-button\\\" (click)=\\\"ratingPopUpVisible=false\\\"></span>\\r\\n\\r\\n      <h3 class=\\\"popup-title\\\">{{globals.strings.RATE_ASSET_TITLE}}</h3>\\r\\n\\r\\n      <div class=\\\"popup-body\\\">\\r\\n\\r\\n        <div *ngIf=\\\"data?.asset.rating===0\\\">\\r\\n          <p>{{globals.strings.FIRST_TO_RATE_PROMPT}}</p>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"ratingWrapper\\\">\\r\\n          <fieldset class=\\\"rating\\\">\\r\\n            <input type=\\\"radio\\\"\\r\\n                   value=\\\"5\\\"\\r\\n                   [name]=\\\"ratingStar\\\"\\r\\n                   [checked]=\\\"rating===5\\\" /><!-- [checked]=\\\"rating===5\\\" />  -->\\r\\n            <label title=\\\"Rocks!\\\" (click)='starClick(5)'>5 stars</label>\\r\\n\\r\\n            <input type=\\\"radio\\\"\\r\\n                   value=\\\"4\\\"\\r\\n                   [name]=\\\"ratingStar\\\"\\r\\n                   [checked]=\\\"rating===4\\\" />\\r\\n            <label title=\\\"Pretty good\\\" (click)='starClick(4)'>4 stars</label>\\r\\n\\r\\n            <input type=\\\"radio\\\"\\r\\n                   value=\\\"3\\\"\\r\\n                   [name]=\\\"ratingStar\\\"\\r\\n                   [checked]=\\\"rating===3\\\" />\\r\\n            <label title=\\\"Meh\\\" (click)='starClick(3)'>3 stars</label>\\r\\n\\r\\n            <input type=\\\"radio\\\"\\r\\n                   value=\\\"2\\\"\\r\\n                   [name]=\\\"ratingStar\\\"\\r\\n                   [checked]=\\\"rating===2\\\" />\\r\\n            <label title=\\\"Kinda bad\\\" (click)='starClick(2)'>2 stars</label>\\r\\n\\r\\n            <input type=\\\"radio\\\"\\r\\n                   value=\\\"1\\\"\\r\\n                   [name]=\\\"ratingStar\\\"\\r\\n                   [checked]=\\\"rating===1\\\" />\\r\\n            <label title=\\\"Really bad\\\" (click)='starClick(1)'>1 star</label>\\r\\n          </fieldset>\\r\\n        </div>\\r\\n        <button class=\\\"pressBtn\\\" (click)=\\\"rateAsset()\\\">{{globals.strings.RATE_ASSET_TITLE}}</button>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/details/details.component.html\n// module id = ./src/app/details/details.component.html\n// module chunks = main","import {Component, OnDestroy, OnInit, AfterViewInit, ChangeDetectionStrategy, ChangeDetectorRef} from '@angular/core';\r\nimport {Router, ActivatedRoute} from '@angular/router';\r\nimport {DetailsService} from './details.service';\r\nimport {GlobalsService} from '../globals.service';\r\nimport {LoadingService} from '../loading/loading.service';\r\nimport { ISubscription } from \"rxjs/Subscription\";\r\nimport swal from 'sweetalert2';\r\nimport 'slick-carousel/slick/slick';\r\nimport {Widget} from '../models/widget';\r\nimport {Content} from \"../models/content\";\r\nimport {Layout} from \"../models/layout\";\r\nimport {UtilsService} from \"../utils.service\";\r\nimport {PlaylistService} from \"../models/playlist.service\";\r\nimport index from \"@angular/cli/lib/cli\";\r\nimport {LoginService} from \"../login/login.service\"; // Incomplete as of 2018-2-1\r\n\r\n@Component({\r\n  selector: 'app-details',\r\n  //changeDetection: ChangeDetectionStrategy.OnPush,\r\n  templateUrl: './details.component.html'\r\n})\r\n\r\n/*\r\n@Directive({\r\n  selector: 'img[src]',\r\n  host: {\r\n    '[src]': 'checkPath(src)',\r\n    '(error)': 'onError()'\r\n  }\r\n})\r\n*/\r\n\r\nexport class DetailsComponent implements OnInit, OnDestroy {\r\n\r\n  data: any;\r\n  assetSlug: string;                    // Quick ref to the asset's id (actually it's the slug being passed)\r\n  assetId: string;                      // Quick ref to the asset's id\r\n  detailsTitle: string;                 // Holds the title to the details page (Movie, Episode, etc)\r\n  layoutType: string;                   // Holds the layout type (details_page_X)\r\n  assetType: string;                    // Holds the asset type (movies, series, ...)\r\n  imageTemplate: string;                // defines the cover image to use in the details\r\n  coverImage: string;                   // Url to the cover image\r\n  providerImage: string;                // Url of the provider's image\r\n  aspectRatio: number;                  // defines the aspect ratio to apply to the image above\r\n  ratingPopUpVisible: boolean = false;\r\n  rating: number = 0;                   // Holds the number of stars clicked\r\n  hasTrailer: boolean = false;          // Whether to show \"Play\" (trailer) on top of the asset's image or not\r\n  hasRelated: boolean = false;          // Whether to show the related list or not\r\n  hasSeasons: boolean = false;          // Whether to show a series's list of seasons or not\r\n  hasEpisodes: boolean = false;         // Whether we have a season's episode list or not\r\n  seasonsList: any;                  // List of seasons\r\n  episodesList: any;                 // Widget List of episodes\r\n  relatedList: Widget;\r\n  layout: Layout;\r\n  relatedListPresentationOrder: string; // This defaults to LTR below...\r\n  isFavourite: boolean = false;         // If this asset is a favorite\r\n  isShared: boolean = false;            // This item is shared\r\n  seasonLayoutType: string;             // How to display the seasons, either: enum: season_number, playlist or season_title\r\n  assetRating: number = 0;              // Rating of the asset, if user is logged in then this is the rating of the user\r\n\r\n  private rateSubscription: ISubscription;  // to subscribe, and then unsubscibe to rate.\r\n\r\n  RuiTeste: boolean=false;\r\n  Ruitmp: string;\r\n\r\n  // Hack to make a broken heart (aka unfavourite :P )\r\n  unFavouriteHtml = '<span class=\"fa-stack broken-heart\">' +\r\n    '<i class=\"fa fa-heart fa-stack-1x\"></i>' +\r\n    '<i class=\"fa fa-bolt fa-stack-1x fa-inverse\"></i>' +\r\n    '</span>';\r\n\r\n  /* This determines what buttons are available to the user on the view  */\r\n  userIsEntitled: boolean=false;\r\n  entitlementsReady: boolean=false; // Whether the entitlements have been read\r\n\r\n  constructor(private service: DetailsService,\r\n              private router: Router,\r\n              private route: ActivatedRoute,\r\n              public globals: GlobalsService,\r\n              private loading: LoadingService,\r\n              private utils: UtilsService,\r\n              private login: LoginService\r\n             ) {\r\n\r\n  }\r\n\r\n  ngOnInit() {\r\n    // Initialize data in case we're refreshing in order to avoid double \"everything\" :P\r\n    this.data = [];\r\n\r\n    // Subscribe to asset's entitlements\r\n    this.service.entitlements.subscribe( value => {\r\n        this.entitlementsReady = true;\r\n        if (value.length > 0)\r\n          this.userIsEntitled = true;\r\n    });\r\n\r\n    // Subscribe to is favorite check\r\n    this.service.isFavourite.subscribe(value => {\r\n        this.isFavourite = value;\r\n    });\r\n\r\n    this.route.params\r\n      .subscribe(params => {\r\n        this.assetSlug = params.id;\r\n        this.getDetails(this.assetSlug);\r\n      });\r\n//    this.login.finishedLogin.subscribe(()=>{\r\n//      this.globals.\r\n//    })\r\n    this.service.asset\r\n      .subscribe(\r\n        response => {\r\n          this.data = response;\r\n          \r\n\r\n          // Check if the user rated this asset\r\n          this.rateSubscription=this.service.assetUserRate.subscribe(val =>{\r\n              // Have been given the indication that the rating is between 0 and 100\r\n              this.assetRating=Math.round(val.data.rating/20);\r\n          })\r\n          if (this.globals.userLoggedIn)\r\n            this.service.getmyRateAsset(this.data.asset.id);\r\n          else\r\n              this.assetRating = Math.round(this.data.asset.rating/20);;\r\n\r\n          // If user logs in then get asset rating\r\n          this.login.finishedLogin.subscribe(()=>{this.service.getmyRateAsset(this.data.asset.id)});\r\n\r\n          this.layoutType = response.screen.layout.screen_type;\r\n          this.assetType = response.asset.type;\r\n          this.assetId = this.data.asset.id;\r\n          // get entitlements for this asset (see notes on the service's function)\r\n          if (this.globals.accountProfileToken!== '' && this.globals.accountProfileToken!==null)\r\n              this.service.getEntitlements(this.assetId);\r\n          else\r\n            this.entitlementsReady = true;  // This is needed to trigger the showFullButton function\r\n\r\n          /**\r\n           * Check if this asset is already a favorite.\r\n           * User must be logged in as this depends on the current profile.\r\n           */\r\n          if (this.globals.userLoggedIn) {\r\n            this.service.getFavorite(this.data.asset.id);\r\n          }\r\n\r\n          // Determine the cover image to use\r\n          this.imageTemplate = this.data.screen.layout.background.image_template;\r\n          this.aspectRatio = this.data.screen.layout.image.aspect_ratio;\r\n          if (this.data.asset.images[this.imageTemplate]!=undefined){\r\n            this.coverImage = this.data.asset.images[this.imageTemplate].url;\r\n          }\r\n          this.providerImage=this.data.asset.video_provider.image_logo.url;\r\n\r\n\r\n\r\n          //  Take care of image resizing\r\n          //let resizeType = this.data.screen.blocks[0].widgets[0].layout.image_resize_type;\r\n          //let formatRatio = this.data.screen.blocks[0].widgets[0].layout.assets_format_ratio;\r\n          //this.coverImage = this.resizeImage(this.coverImage, 1320, formatRatio, resizeType);\r\n          //this.coverImage = this.utils.resizeImage(this.coverImage,1320,1, 'fit');\r\n\r\n          this.loading.set(false);\r\n\r\n          // How to display the seasons and their episodes\r\n          this.seasonLayoutType = this.data.screen.layout.season_selection_type;\r\n          if(this.RuiTeste)\r\n            this.seasonLayoutType='season_number';  // RuiTESTING: season_number, playlist or season_title\r\n          // Set the details title\r\n          switch (this.assetType) {\r\n            case 'movies':\r\n              this.detailsTitle = this.globals.strings.DETAILS_SCREEN_MOVIE_DETAILS;\r\n\r\n              /**\r\n               * Related content for Movies\r\n               * test the existence (length) of blocks, widgets and contents first\r\n               */\r\n              if (this.data.screen.blocks.length > 0) {\r\n                if (this.data.screen.blocks[0].widgets.length > 0) {\r\n                  if (this.data.screen.blocks[0].widgets[0].playlist.contents.length > 0) {\r\n                    this.hasRelated = true;\r\n                    this.relatedList = this.data.screen.blocks[0].widgets[0];\r\n                    this.relatedListPresentationOrder = this.relatedList.layout.presentation_order;\r\n                    if (this.relatedListPresentationOrder === '' || this.relatedListPresentationOrder === null)\r\n                      this.relatedListPresentationOrder = 'LTR';    // default\r\n                  }\r\n                }\r\n              }\r\n              break;\r\n            case 'episodes':\r\n              this.detailsTitle = this.globals.strings.DETAILS_SCREEN_EPISODE_DETAILS;\r\n              break;\r\n            case 'series':\r\n              this.detailsTitle = this.globals.strings.DETAILS_SCREEN_SERIES_DETAILS;\r\n\r\n              /**\r\n               * Related content for series\r\n               * block[0] - list of seasons\r\n               * block[1] - list of episodes for season 1\r\n               * block[2] - (optional) Related content\r\n               */\r\n\r\n              for (let block of this.data.screen.blocks) {\r\n                // CHECKME: Only one widget per block (or so I've been told...)\r\n                switch (block.widgets[0].playlist.type) {\r\n                  case 'seasons':\r\n                    this.hasSeasons = true;\r\n                    this.seasonsList = block.widgets[0];\r\n                    this.expandSeasonListContent(this.seasonsList.playlist.contents,this.seasonLayoutType);\r\n                    break;\r\n\r\n                  case 'episodes':\r\n                    this.hasEpisodes = true;\r\n                    this.episodesList = block.widgets[0];\r\n                    break;\r\n\r\n                  case 'related':\r\n                    this.hasRelated = true;\r\n                    this.relatedList = block.widgets[0];\r\n                    this.relatedListPresentationOrder = this.relatedList.layout.presentation_order;\r\n                    if (this.relatedListPresentationOrder === '' || this.relatedListPresentationOrder === null)\r\n                      this.relatedListPresentationOrder = 'LTR';    // default\r\n                    break;\r\n                }\r\n              }\r\n              this.verifySeasonEpisodes();\r\n\r\n              break;\r\n            case 'seasons':\r\n              this.detailsTitle = this.globals.strings.DETAILS_SCREEN_SEASON_DETAILS;\r\n              break;\r\n            default:\r\n              // FIXME: hardcoded string\r\n              this.detailsTitle = \"Details\";\r\n              break;\r\n          }\r\n\r\n          // @Notes: Trailer isn't available in series/episodes yet.\r\n          if (this.data.asset.hasOwnProperty('video') && this.data.asset.video.trailer) {\r\n            // Show trailer ?\r\n            if (this.data.asset.video.trailer.slug !== null)\r\n              this.hasTrailer = true;\r\n            else\r\n              this.hasTrailer = false;\r\n\r\n          }\r\n        }\r\n      );\r\n\r\n    // Subscribe to view Episodes of selected Season\r\n    this.service.Season.subscribe(res =>{\r\n      this.episodesList.playlist.contents = res.data;\r\n      this.verifySeasonEpisodes();\r\n    });\r\n\r\n    // Subscribe to favorites addition\r\n    this.service.favoriteAdded.subscribe(val => {\r\n      if (val === true) {\r\n        swal({\r\n            type: 'success',\r\n            title: '<span style=\"color: #fff;\" class=\"title\">'+this.globals.strings.DETAILS_SCREEN_BUTTON_FAVOURITE+'</span>',\r\n            html:  '<span style=\"color: #fff;\">'+this.globals.strings.FAVORITE_ADD_SUCCESS+'</span>',\r\n            background: '#2a292a'\r\n          }\r\n        );\r\n      }\r\n      else {\r\n        // Failure to add favorite\r\n        swal({\r\n            type: 'error',\r\n            title: '<span style=\"color: #fff;\" class=\"title\">'+this.globals.strings.SCREEN_ERROR_TITLE+'</span>',\r\n            html:  '<span style=\"color: #fff;\">'+this.globals.strings.GENERAL_ERROR+'</span>',\r\n            background: '#2a292a'\r\n          }\r\n        );\r\n      }\r\n\r\n    });\r\n\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    //this.service.asset.unsubscribe(); // this raises an error?!\r\n    this.rateSubscription.unsubscribe();  // must passhandle of subscription\r\n  }\r\n\r\n  /**\r\n   * Get an asset's details\r\n   * @param {string} id\r\n   */\r\n  getDetails(id: string) {\r\n    this.loading.set(true);\r\n    this.service.getAsset(id);\r\n  }\r\n\r\n  /**\r\n   * Handle click on one of the \"icon\" buttons (favorite, share, ...)\r\n   * @param {string} action\r\n   */\r\n  iconBtnClick(action: string) {\r\n    // User must be logged in first in order to perform these ops\r\n    if (!this.globals.userLoggedIn) {\r\n      swal({\r\n          type: 'warning',\r\n          title: '<span style=\"color: #fff;\" class=\"title\">'+this.globals.strings.POPUP_SIGN_IN_REQUIRED_TITLE+'</span>',\r\n          html:  '<span style=\"color: #fff;\">'+this.globals.strings.POPUP_SIGN_IN_REQUIRED_BODY+'</span>',\r\n          background: '#2a292a'\r\n        }\r\n      );\r\n      return;\r\n    }\r\n\r\n    switch (action) {\r\n      case 'favorite':\r\n        // Ok ... bit shady approach ... but ... if it's already a favourite ... *un*favourite it :P\r\n        if (!this.isFavourite)\r\n          this.service.setFavorite(this.assetId); // *Must* be ID. Slug not supported.\r\n        else\r\n          this.service.unsetFavourite(this.assetId);\r\n        break;\r\n\r\n      case 'share':\r\n        break;\r\n    }\r\n\r\n  }\r\n\r\n  /**\r\n   * Handle clicking on one of the \"full\" buttons (play, subscribe, share...)\r\n   * @param {string} action\r\n   */\r\n  fullBtnClick(action: string) {\r\n    // No matter what action user must be logged in first\r\n   if (!this.globals.userLoggedIn && action!='more_info') {\r\n      swal({\r\n          type: 'warning',\r\n          title: '<span style=\"color: #fff;\" class=\"title\">'+this.globals.strings.POPUP_SIGN_IN_REQUIRED_TITLE+'</span>',\r\n          html:  '<span style=\"color: #fff;\">'+this.globals.strings.POPUP_SIGN_IN_REQUIRED_BODY+'</span>',\r\n          background: '#2a292a'\r\n        }\r\n      );\r\n      return;\r\n    }\r\n\r\n    switch (action) {\r\n      case 'share':\r\n        // TODO\r\n        break;\r\n      case 'favorite':\r\n        // TODO\r\n        break;\r\n      case 'play':\r\n        if(this.hasSeasons) {\r\n          // Play first episode first season\r\n          this.playClicked(this.data.screen.blocks[1].widgets[0].playlist.contents[0].id,this.data.screen.blocks[1].widgets[0].playlist.contents[0].video.streams.url);\r\n        } else\r\n          this.playClicked(this.data.asset.id,this.data.asset.video.streams.url);\r\n//          this.router.navigate(['/play', this.data.asset.id]);\r\n        break;\r\n      case 'subscribe':\r\n        // TODO\r\n        break;\r\n      case 'more_info':\r\n        // TODO\r\n        break;\r\n    }\r\n\r\n  }\r\n\r\n  /**\r\n   * Convert minutes to Hh Mm\r\n   * @param {string} minutes\r\n   * @returns {string}\r\n   */\r\n  minutesToTime(minutes: string): string {\r\n    let time = \"\";\r\n\r\n    if(minutes == undefined)\r\n      return time;\r\n    let min = Number(minutes);\r\n    let hours = Math.floor(min / 60);\r\n\r\n    min = Math.floor(min % 60);\r\n\r\n    if (hours > 0)\r\n      time = String(hours)+'h ';\r\n\r\n    time += String(min)+'m';\r\n    return time;\r\n\r\n  }\r\n\r\n  /**\r\n   * Get the country code for the age rating.\r\n   * @Notes: First check if the user is logged in.\r\n   * If so:\r\n   *      from the currProfile->parental_controls->setting->country_code\r\n   * If not:\r\n   *      from globals->settings->default_age_rating_country_code\r\n   * @returns {string}\r\n   */\r\n  getAgeRatingCC(): string {\r\n    var countryCode = \"\";\r\n\r\n    if (this.globals.currProfile!=null)\r\n      countryCode = this.globals.currProfile.parental_controls.setting.country_code;\r\n    else\r\n      countryCode = this.globals.settings.default_age_rating_country_code;\r\n    return countryCode;\r\n  }\r\n\r\n  /**\r\n   * Get the asset's PGR\r\n   * @Notes: uses country code to do so\r\n   * @returns {string}\r\n   */\r\n  getAgeRating(): string {\r\n    var countryCode = this.getAgeRatingCC();\r\n    var ageRating = \"N/A\";\r\n\r\n    if (Array.isArray(this.data.asset.age_rating)) {\r\n      for (let entry of this.data.asset.age_rating) {\r\n        if (entry.country_code == countryCode) {\r\n          ageRating = entry.description;\r\n          break;\r\n        }\r\n      }\r\n    }\r\n    return ageRating;\r\n  }\r\n\r\n  /**\r\n   * Get the asset's rating in the form of stars (1-5)\r\n   * @returns {string}\r\n   */\r\n  buildRating() : string {\r\n    //console.log(\"Rui in buildRating: assetRating=\"+this.assetRating);\r\n    let stars = \"\";\r\n    for (var i=1; i<=5; i++) {\r\n      if (this.assetRating >= i)\r\n        stars+= '<i class=\"fa fa-star\" aria-hidden=\"true\"></i>';\r\n      else\r\n        stars+= '<i class=\"fa fa-star-o\" aria-hidden=\"true\"></i>';\r\n    }\r\n    //this.refresh=false;\r\n    return stars;\r\n  }\r\n\r\n\r\n  /**\r\n   * Concatenate the full buttons' html with their text\r\n   * @param {string} html\r\n   * @param {string} btn_text\r\n   * @returns {string}\r\n   */\r\n  buildFullBtnHtml(html: string, btn_text: string) : string {\r\n    return html + '   <span>'+btn_text+'</span>';\r\n  }\r\n\r\n  /**\r\n   * Bring up a rating popup for the current asset\r\n   */\r\n  showRatingPopup() {\r\n    // Make sure the user is logged in\r\n    if (this.globals.accountProfileToken) {\r\n        this.ratingPopUpVisible = true;\r\n        this.rating=0;\r\n    } else {\r\n      // Show a warning dialog\r\n      swal({\r\n          type: 'warning',\r\n          title: '<span style=\"color: #fff;\" class=\"title\">'+this.globals.strings.POPUP_SIGN_IN_REQUIRED_TITLE+'</span>',\r\n          html:  '<span style=\"color: #fff;\">'+this.globals.strings.POPUP_SIGN_IN_REQUIRED_BODY+'</span>',\r\n          background: '#2a292a'\r\n        }\r\n      );\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Rate an asset based on the number of given stars\r\n   * @param {number} rating\r\n   *\r\n   * @Notes: the endpoint ONLY accepts IDs. No slugs!\r\n   */\r\n  rateAsset() {\r\n    // Make sure the user is logged in\r\n\r\n    this.ratingPopUpVisible = false;\r\n    if (this.globals.accountProfileToken) {\r\n        this.service.rateAsset(this.data.asset.id, 20 * this.rating);\r\n    } else {\r\n      // Show a warning dialog\r\n      swal({\r\n          type: 'warning',\r\n          title: '<span style=\"color: #fff;\" class=\"title\">'+this.globals.strings.POPUP_SIGN_IN_REQUIRED_TITLE+'</span>',\r\n          html:  '<span style=\"color: #fff;\">'+this.globals.strings.POPUP_SIGN_IN_REQUIRED_BODY+'</span>',\r\n          background: '#2a292a'\r\n        }\r\n      );\r\n    }\r\n\r\n  }\r\n\r\n  starClick(nbrStars: number) {\r\n    this.rating = nbrStars;\r\n  }\r\n\r\n  /**\r\n   * Used on the ngFor directive for tracking purposes\r\n   * @param index\r\n   * @param element\r\n   * @returns {number}\r\n   */\r\n  trackByContent(index: number, element: Content): number {\r\n    return element.id;\r\n  }\r\n\r\n  /**\r\n   * Resizes an image according to a set width and it's height ratio\r\n   * @param url\r\n   * @param width\r\n   * @param ratio\r\n   * @param resizeType - \"fit\" || \"crop\"\r\n   * @returns {string}\r\n   */\r\n  resizeImage(url: string, width: number, ratio: number, resizeType: string) {\r\n    if(url==undefined)\r\n      return;\r\n    // FIXME: forcing \"crop\" at this time. Modify whenever content comes with the right resizeType\r\n    resizeType = \"crop\";\r\n    let string = url.split('.');\r\n    // FIXME: Also not observing aspect ratio coming from the api\r\n    //string[string.length-2] += '-h'+Math.round(width*ratio)+'_w'+width + '_' + resizeType;\r\n    string[string.length-2] += '-h317'+'_w'+width + '_' + resizeType;\r\n    return string.join('.');\r\n  }\r\n\r\n  expandSeasonListContent(itemsList: any, type: string){\r\n    let typeCarousel: string;\r\n    let displayText: string;\r\n    let i=0;\r\n    let iniSlide: boolean;\r\n    itemsList.forEach(element =>{\r\n      switch (type) {\r\n        case 'season_title':\r\n          typeCarousel='text';\r\n          //displayText=this.globals.strings.SEASON_NUMBER_TITLE +' '+this.data.screen.blocks[0].widgets[0].playlist.contents[i].season_number;\r\n            displayText=this.data.screen.blocks[0].widgets[0].playlist.contents[i].name;\r\n          break;\r\n        case 'season_number':\r\n          typeCarousel='text';\r\n          displayText=this.data.screen.blocks[0].widgets[0].playlist.contents[i].season_number;\r\n          break;\r\n        case 'playlist':\r\n          typeCarousel='image';\r\n          displayText=this.globals.strings.SEASON_NUMBER_TITLE +' '+this.data.screen.blocks[0].widgets[0].playlist.contents[i].season_number;\r\n          break;\r\n      }\r\n      iniSlide=false;\r\n      if(i==0)\r\n        iniSlide=true;\r\n      // the 'view' element is constructed according to comments in carousel.components.ts\r\n      element[\"view\"]={type:typeCarousel,text:displayText,selected:iniSlide,callback:this.detailsCallback.bind(this),param:\"Nada a declarar\"};\r\n      i++;\r\n    })\r\n  }\r\n\r\n  verifySeasonEpisodes(){\r\n    if(this.episodesList.playlist.contents.length==0){\r\n      this.hasEpisodes=false;\r\n    }else{\r\n      this.hasEpisodes=true;\r\n    }\r\n  }\r\n\r\n  detailsCallback(userVal:string, assetId: string){\r\n    console.log(userVal);\r\n    this.service.getSeason(assetId);\r\n  }\r\n\r\n  playClicked(playId: string, playUrl: string) {\r\n    if (!this.globals.userLoggedIn) {\r\n        swal({\r\n                type: 'warning',\r\n                title: '<span style=\"color: #fff;\" class=\"title\">'+this.globals.strings.POPUP_SIGN_IN_REQUIRED_TITLE+'</span>',\r\n                html:  '<span style=\"color: #fff;\">'+this.globals.strings.POPUP_SIGN_IN_REQUIRED_BODY+'</span>',\r\n                background: '#2a292a'\r\n            }\r\n        );\r\n        return;\r\n    }\r\n    // Going to check video_provider\r\n    if (this.data.asset.video_provider.player_type == 'website' || this.data.asset.video_provider.player_type == 'deeplinking') {\r\n      //window.location.href=playUrl;\r\n      window.open(playUrl, '_blank');\r\n    } else\r\n      this.router.navigate(['/play', playId]);\r\n  }\r\n\r\n  setNoImageCover() {\r\n    this.coverImage=this.globals.API.slice(0,-4)+'uploads/placeholder/placeholder.png';\r\n  }\r\n  setNoImageProv(){\r\n    this.providerImage=this.globals.API.slice(0,-4)+'uploads/placeholder/placeholder.png';\r\n  }\r\n\r\n  episodeImg(imgUrl: string) {\r\n      return imgUrl;\r\n    //return this.utils.resizeImage(imgUrl,100,1, 'fit');  // resizing is now done in CSS\r\n  }\r\n\r\n  crumbClick(waytoGo: string) {\r\n      this.router.navigate([waytoGo]);\r\n  }\r\n\r\n  showFullButtons(entitleReady: boolean, action: string) {\r\n    if (!entitleReady)\r\n      return false;\r\n    if (!this.userIsEntitled)\r\n      return true;\r\n    if (this.userIsEntitled && action=='play')\r\n      return true;\r\n    return false;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/details/details.component.ts","import {NgModule}           from '@angular/core';\r\nimport {CommonModule}       from '@angular/common';\r\nimport {DetailsComponent}   from './details.component';\r\nimport {DetailsService} from './details.service';\r\nimport {DetailsResolve} from './details.resolve';\r\nimport {CarouselModule} from '../carousel/carousel.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    CarouselModule\r\n  ],\r\n  declarations: [\r\n    DetailsComponent\r\n  ],\r\n  exports: [\r\n    DetailsComponent\r\n  ],\r\n  providers: [\r\n    DetailsService,\r\n    DetailsResolve\r\n  ]\r\n})\r\n\r\nexport class DetailsModule {\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/details/details.module.ts","import { Injectable } from '@angular/core';\r\nimport { Resolve, ActivatedRouteSnapshot } from '@angular/router';\r\nimport { DetailsService } from './details.service';\r\n\r\n@Injectable()\r\nexport class DetailsResolve implements Resolve<any> {\r\n\r\n  constructor(private service: DetailsService) {}\r\n\r\n  resolve(route: ActivatedRouteSnapshot) {\r\n    return this.service.getAsset(route.params['id']);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/details/details.resolve.ts","import { Injectable } from '@angular/core';\r\nimport {HttpClient, HttpHeaders, HttpParams} from \"@angular/common/http\";\r\nimport {APIDataResponse, APISuccessResponse, GlobalsService} from '../globals.service';\r\nimport {Subject} from \"rxjs/Subject\";\r\nimport {Asset} from \"../models/asset\";\r\nimport {Related} from \"../models/related\";\r\nimport swal from 'sweetalert2';\r\nimport {LoadingService} from \"../loading/loading.service\";\r\n\r\n@Injectable()\r\nexport class DetailsService {\r\n\r\n  public asset: Subject<Asset> = new Subject<Asset>();\r\n  private _asset: Asset;    // So that we can immediately access the members :P\r\n  public assetUserRate: Subject<any> = new Subject();\r\n  public related: Subject<Related> = new Subject<Related>();\r\n  public favoriteAdded: Subject<boolean> = new Subject<boolean>();\r\n  public isFavourite: Subject<boolean> = new Subject<boolean>();\r\n  public entitlements: Subject<any> = new Subject<any>();\r\n  public Season: Subject<any> = new Subject<any>();\r\n\r\n  constructor(\r\n    private http: HttpClient,\r\n    private globals: GlobalsService,\r\n    private loading: LoadingService\r\n  ) {}\r\n\r\n  /**\r\n   * Get an asset's details\r\n   * @param {string} id\r\n   * @param {boolean} tvShow\r\n   * @param {number} seasonId\r\n   *\r\n   * @Notes The layout type is already included in the returned response\r\n   *        This determines which layout to show in the view (template)\r\n   */\r\n  getAsset(id: string, tvShow: boolean = false, seasonId: number = null) {\r\n    let headers = new HttpHeaders()\r\n      .set('Accept-Language', this.globals.settings.default_language);\r\n    let params = new HttpParams()\r\n      .set('device_type', 'web')\r\n      .set('device_layout', 'web');\r\n\r\n    /*\r\n      As per the API documentation:\r\n      In case a tvshow is being requested, set here the season that API should reply with season episodes\r\n     */\r\n    if (tvShow === true && seasonId !== null)\r\n      params.set('season_id', String(seasonId));\r\n\r\n    this.http.get<APIDataResponse>(this.globals.endpoints.assets+'/'+id, {headers: headers, params: params})\r\n      .toPromise()\r\n      .then(res => {\r\n        this.asset.next(res.data);\r\n        this._asset = res.data;\r\n        this.loading.set(false);\r\n      })\r\n      .catch(function (error) {\r\n        console.error(error);\r\n      });\r\n  }\r\n\r\n  /**\r\n   * Get an asset's related list of movies\r\n   * @param {string} id\r\n   *\r\n   * @Notes No idea what this endpoint is good for as the asset's response\r\n   *        from the API already returns a list of related content under\r\n   *        'playlist->contents' ... :S\r\n   */\r\n  getRelated(id: string) {\r\n    // we must replace the asset Id in the path\r\n    var endPoint = this.globals.endpoints.assetsRelated.replace('{asset_id}', id);\r\n\r\n    let headers = new HttpHeaders()\r\n      .set('Accept-Language', this.globals.settings.default_language);\r\n    let params = new HttpParams()\r\n      .set('device', 'web')\r\n      .set('device_type', 'web')\r\n      .set('device_layout', 'web')\r\n      .set('layout_id', String(this._asset.screen.layout.id));\r\n\r\n    this.http.get<APIDataResponse>(endPoint, {headers: headers, params: params})\r\n      .toPromise()\r\n      .then( res => {\r\n        this.related.next(res.data);\r\n      })\r\n      .catch(function (error) {\r\n        console.error(error);\r\n      });\r\n  }\r\n\r\n  /**\r\n   * Set an asset as a favorite for the current account's profile\r\n   * @param {string} id\r\n   */\r\n  setFavorite(id: string) {\r\n    let headers = new HttpHeaders()\r\n      .set('Accept-Language', this.globals.settings.default_language)\r\n      .set('Authorization', 'Bearer '+this.globals.authToken);\r\n\r\n    let params = new HttpParams()\r\n      .set('device_type', 'web');\r\n\r\n    let endpoint = this.globals.endpoints.assetsFavorite\r\n      .replace('{profile_token}', this.globals.accountProfileToken)\r\n      .replace('{asset_id}', id);\r\n\r\n    this.http.post<APISuccessResponse>(endpoint, null, {headers: headers, params: params})\r\n      .toPromise()\r\n      .then(res => {\r\n        this.favoriteAdded.next(true);\r\n        this.isFavourite.next(true);\r\n      })\r\n      .catch(reason => {\r\n        console.error('Failure to add favorite - '+reason);\r\n        this.favoriteAdded.next(false);\r\n      });\r\n  }\r\n\r\n  /**\r\n   * Remove an asset from the favourites list\r\n   * @param {string} id\r\n   */\r\n  unsetFavourite(id: string) {\r\n    let headers = new HttpHeaders()\r\n      .set('Accept-Language', this.globals.settings.default_language)\r\n      .set('Authorization', 'Bearer '+this.globals.authToken);\r\n\r\n    let params = new HttpParams()\r\n      .set('device_type', 'web');\r\n\r\n    let endpoint = this.globals.endpoints.assetsFavorite\r\n      .replace('{profile_token}', this.globals.accountProfileToken)\r\n      .replace('{asset_id}', id);\r\n\r\n    this.http.delete<APIDataResponse>(endpoint, {headers: headers, params: params})\r\n      .toPromise()\r\n      .then(res => {\r\n        this.isFavourite.next(false);\r\n        swal({\r\n            type: 'success',\r\n            title: '<span style=\"color: #fff;\" class=\"title\">'+this.globals.strings.CONTENT_GROUP_BTN_FAVOURITES+'</span>',\r\n            html:  '<span style=\"color: #fff;\">'+this.globals.strings.FAVORITE_REMOVE_SUCCESS+'</span>',\r\n            background: '#2a292a'\r\n          }\r\n        );\r\n      })\r\n      .catch(reason => {\r\n        console.error('Failure to remove favorite - '+reason);\r\n        this.isFavourite.next(false);\r\n      });\r\n\r\n  }\r\n\r\n  /**\r\n   * Check if the asset is a favorite\r\n   * @param {string} id\r\n   */\r\n  getFavorite(id: string) {\r\n    let headers = new HttpHeaders()\r\n      .set('Accept-Language', this.globals.settings.default_language)\r\n      .set('Authorization', 'Bearer '+this.globals.authToken);\r\n\r\n    let params = new HttpParams()\r\n      .set('device_type', 'web');\r\n\r\n    let endpoint = this.globals.endpoints.assetsFavorite\r\n      .replace('{profile_token}', this.globals.accountProfileToken)\r\n      .replace('{asset_id}', id);\r\n\r\n    this.http.get<APIDataResponse>(endpoint, {headers: headers, params: params})\r\n      .toPromise()\r\n      .then(res => {\r\n        if (res.data.favourite == true)\r\n          this.isFavourite.next(true);\r\n        else\r\n          this.isFavourite.next(false);\r\n      })\r\n      .catch(reason => {\r\n        console.error('Failure to add favorite - '+reason);\r\n        this.isFavourite.next(false);\r\n      });\r\n\r\n  }\r\n\r\n  /**\r\n   * GET my rate of an asset with 1 to 5 stars\r\n   * @param {string} id\r\n   * @param {number} rating\r\n   */\r\n  getmyRateAsset(id: string) {\r\n    // replace the current profile token in the path\r\n    let firstPass = this.globals.endpoints.assetsRate.replace('{profile_token}', this.globals.accountProfileToken);\r\n    // replace the asset Id in the path\r\n    let endPoint = firstPass.replace('{asset_id}', id);\r\n\r\n    let headers = new HttpHeaders()\r\n      .set('Accept-Language', this.globals.settings.default_language)\r\n      .set('Authorization', 'Bearer '+this.globals.authToken);\r\n\r\n    let params = new HttpParams()\r\n      .set('device_type', 'web');\r\n\r\n    this.http.get<APISuccessResponse>(endPoint, {headers: headers, params: params})\r\n      .toPromise()\r\n      .then(res => {\r\n        // return rating\r\n          this.assetUserRate.next(res);\r\n        })\r\n      .catch(function (error) {\r\n        console.error(error);\r\n      });\r\n  }\r\n\r\n    /**\r\n     * Rate an asset with 1 to 5 stars\r\n     * @param {string} id\r\n     * @param {number} rating\r\n     */\r\n    rateAsset(id: string, rating: number) {\r\n        // replace the current profile token in the path\r\n        let firstPass = this.globals.endpoints.assetsRate.replace('{profile_token}', this.globals.accountProfileToken);\r\n        // replace the asset Id in the path\r\n        let endPoint = firstPass.replace('{asset_id}', id);\r\n\r\n        let headers = new HttpHeaders()\r\n            .set('Accept-Language', this.globals.settings.default_language)\r\n            .set('Authorization', 'Bearer '+this.globals.authToken);\r\n\r\n        let params = new HttpParams()\r\n            .set('device_type', 'web');\r\n\r\n\r\n        this.http.post<APISuccessResponse>(endPoint, {rating: rating}, {headers: headers, params: params})\r\n            .toPromise()\r\n            .then(res => {\r\n                // just show a success dialog\r\n                swal({\r\n                        type: 'success',\r\n                        title: '<span style=\"color: #fff;\" class=\"title\">'+this.globals.strings.GENERIC_THANK_YOU+'</span>',\r\n                        html:  '<span style=\"color: #fff;\">'+this.globals.strings.DETAILS_RATING_SUCCESS+'</span>',\r\n                        background: '#2a292a'\r\n                    }\r\n                );\r\n                this.assetUserRate.next({data:{rating:rating}});\r\n            })\r\n            .catch(function (error) {\r\n                console.error(error);\r\n                swal({\r\n                        type: 'error',\r\n                        title: '<span style=\"color: #fff;\" class=\"title\">'+this.globals.strings.SCREEN_ERROR_TITLE+'</span>',\r\n                        html:  '<span style=\"color: #fff;\">'+this.globals.strings.GENERAL_ERROR+'</span>',\r\n                        background: '#2a292a'\r\n                    }\r\n                );\r\n\r\n            });\r\n    }\r\n\r\n  /**\r\n   * Get the entitlements for an asset, for a given profile\r\n   * @Notes: the response might change for a finer grain type of control.\r\n   *         For now just assuming that a user can play an asset and don't show\r\n   *         any additional buttons on the asset's details page\r\n   * @param {string} assetId - only accepts numerical id. no slugs allowed (@2018-03-01)\r\n   */\r\n  getEntitlements(assetId: string) {\r\n    const headers = new HttpHeaders()\r\n      .set('Accept-Language', this.globals.settings.default_language)\r\n      .set('Authorization', 'Bearer ' + this.globals.authToken);\r\n    const params = new HttpParams()\r\n      .set('device_type', 'web');\r\n\r\n    /* Path \"vars\" */\r\n    let endpoint = this.globals.endpoints.entitlements\r\n      .replace('{profile_token}', this.globals.accountProfileToken)\r\n      .replace('{asset_id}', assetId);\r\n\r\n    this.http.get<APIDataResponse>(endpoint, {headers: headers, params: params})\r\n      .toPromise()\r\n      .then(res => {\r\n        this.entitlements.next(res.data);\r\n      })\r\n      .catch(error => {\r\n        console.error(error);\r\n        this.entitlements.next([]);\r\n      });\r\n  }\r\n\r\n  /**\r\n   * GET /tvshow/{tvshow_id}/season/{season_id}/episodes\r\n   * @param {string} id\r\n   * @param {boolean} tvShow\r\n   * @param {number} seasonId\r\n   */\r\n  getSeason(seasonId: string, showId?: string, layoutId?: string) {\r\n    this.loading.set(true);\r\n    // Are now going to suppose that the asset has been read and that this.asset will give showId and layoutId\r\n    let showId2=this._asset.asset.id;\r\n    let layoutId2 = this._asset.screen.blocks[1].widgets[0].layout.id.toString();\r\n    //console.log('getseason '+ seasonId);\r\n\r\n    //API path\r\n    let headers = new HttpHeaders()\r\n      .set('Accept-Language', this.globals.settings.default_language);\r\n\r\n    //API query\r\n    let params = new HttpParams()\r\n      .set('device_type', 'web')\r\n      .set('device_layout', 'web')\r\n      .set('layout_id',layoutId2); // seasonId vem no SeasData.screen.blocks[1].widgets[0].layout.id\r\n\r\n    //API path\r\n    let endpoint = this.globals.endpoints.seasonsEpisodes\r\n      .replace('{tvshow_id}',showId2)\r\n      .replace('{season_id}', seasonId);\r\n\r\n    this.http.get<APIDataResponse>(endpoint, {headers: headers, params: params})\r\n      .toPromise()\r\n      .then(res => {\r\n        this.Season.next(res);\r\n        this.loading.set(false);\r\n      })\r\n      .catch(function (error) {\r\n        console.error(error);\r\n        this.loading.set(false);\r\n      });\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/details/details.service.ts","module.exports = \"<div id=\\\"footer-first\\\">\\r\\n  <div id=\\\"footer-menu\\\">\\r\\n    <a *ngIf=\\\"hasSubscriptions\\\" routerLink=\\\"pricing\\\" (click)=\\\"onClick()\\\">{{globals.strings.SUBSCRIPTIONS_PLAN_TITLE || \\\"Subscription Plans\\\"}}</a>\\r\\n    <a *ngIf=\\\"hasTermsConditions\\\" routerLink=\\\"settings/terms-conditions\\\" (click)=\\\"onClick()\\\">{{globals.strings.SETTINGS_TERMS_AND_CONDITIONS}}</a>\\r\\n    <a *ngIf=\\\"hasHelp\\\" routerLink=\\\"help\\\" (click)=\\\"onClick()\\\">{{globals.strings.SETTINGS_SCREEN_HELP}}</a>\\r\\n    <a *ngIf=\\\"hasFaq\\\" routerLink=\\\"faq\\\" (click)=\\\"onClick()\\\">{{globals.strings.SETTINGS_SCREEN_FAQ}}</a>\\r\\n    <!--<a>Item5</a>-->\\r\\n  </div>\\r\\n  <div id=\\\"footer-logo\\\"><img src=\\\"{{globals.settings.logo_image.url}}\\\"></div>\\r\\n</div>\\r\\n<div style=\\\"clear: both\\\"></div>\\r\\n<div id=\\\"copyright\\\">Copyright 2018 - TVAPP agency.com</div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/footer/footer.component.html\n// module id = ./src/app/footer/footer.component.html\n// module chunks = main","import {Component, OnInit} from '@angular/core';\r\nimport { GlobalsService} from '../globals.service';\r\nimport { SettingsService} from \"../settings/settings.service\";\r\n\r\n@Component({\r\n  selector: 'app-footer',\r\n  templateUrl: './footer.component.html'\r\n})\r\n\r\nexport class FooterComponent implements OnInit {\r\n  hasSubscriptions =  false;\r\n  hasTermsConditions =  false;\r\n  hasHelp = false;\r\n  hasFaq = false;\r\n\r\n  constructor( public globals: GlobalsService, public settingService: SettingsService ) {}\r\n\r\n  ngOnInit() {\r\n    if (this.globals.subscriptions !== undefined) {\r\n      this.hasSubscriptions = true;\r\n    }\r\n    if (this.globals.settings.hasOwnProperty('terms_conditions_slug') && this.globals.settings.terms_conditions_slug !== '') {\r\n      this.hasTermsConditions = true;\r\n    }\r\n    if (this.globals.settings.hasOwnProperty('help_slug') && this.globals.settings.help_slug !== '') {\r\n      this.hasHelp = true;\r\n    }\r\n    if (this.globals.settings.hasOwnProperty('faq_slug') && this.globals.settings.faq_slug !== '') {\r\n      this.hasFaq = true;\r\n    }\r\n  }\r\n\r\n  onClick() {\r\n    this.settingService.setBreadCrums(false);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/footer/footer.component.ts","import {NgModule}           from '@angular/core';\r\nimport {CommonModule}       from '@angular/common';\r\nimport {FooterComponent}   from './footer.component';\r\nimport {FooterService} from './footer.service';\r\nimport {RouterModule} from \"@angular/router\";\r\n\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule\r\n  ],\r\n  declarations: [\r\n    FooterComponent\r\n  ],\r\n  exports: [\r\n    FooterComponent\r\n  ],\r\n  providers: [\r\n    FooterService\r\n  ]\r\n})\r\n\r\nexport class FooterModule {\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/footer/footer.module.ts","import { Injectable } from '@angular/core';\r\nimport { Http, Response } from '@angular/http';\r\n\r\nimport { Observable } from 'rxjs/Observable';\r\nimport 'rxjs/add/operator/catch';\r\nimport 'rxjs/add/operator/map';\r\n\r\n@Injectable()\r\nexport class FooterService {\r\n\r\n  constructor(private http: Http) {}\r\n\r\n  private extractData(res: Response) {\r\n    let body = res.json();\r\n    if (body) {\r\n      return body.data || body;\r\n    } else {\r\n      return {};\r\n    }\r\n  }\r\n\r\n  private handleError(error: any) {\r\n    let errMsg = (error.message) ? error.message :\r\n      error.status ? `${error.status} - ${error.statusText}` : 'Server error';\r\n    console.error(errMsg);\r\n    return Observable.throw(errMsg);\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/footer/footer.service.ts","/*\r\nContains global variables used throughout the website\r\n */\r\n\r\nimport { Injectable } from '@angular/core';\r\nimport {Subscriptions} from \"./models/subscriptions\";\r\nimport {ProfileSubscriptions} from \"./models/profile-subscriptions\";\r\nimport { environment } from '../environments/environment';\r\nimport {AgeRatings} from \"./models/age-ratings\";\r\n\r\n@Injectable()\r\n\r\nexport class GlobalsService {\r\n  // API: string = 'http://stripestaging.tvacms.com/api/';       // NO CACHE\r\n  API: string = 'http://stagingapi.tvacms.com/api/';       // NO CACHE\r\n  pageTitle: string;                                            // Contains the title of the current page\r\n  pageTitleSlug: string;                                        // slug of the current page\r\n  // accountSlug: string;                                          // slug of account settings\r\n  menu: any;                                                    // Object containing the menu items of the website\r\n  menuId: string;                                               // Contains the menu ID\r\n  selectedMenu: string;                                         // The selected menu\r\n  optionId: string;                                             // Contains the menu option ID\r\n  languages: any;                                               // List of available languages\r\n  strings: any;                                                 // Contains all the strings used throughout the app\r\n  settings: any;                                                // Contains all the app's default settings\r\n  favorites: any;                                               // Contains the list of favorites for the *current* profile\r\n  subscriptions: Subscriptions;                                 // Contains all the available subscriptions\r\n  profileSubscriptions: ProfileSubscriptions;                   // Contains an array of current profile's subscriptions\r\n  ageRatings: AgeRatings;                                       // Contains the list of age ratings (language dependent)\r\n\r\n  /* FACEBOOK LOGIN PARAMS */\r\n  fbParams = environment.fbParams;\r\n\r\n  /* LOGIN AND USER RELATED */\r\n  userLoggedIn = false;                                 // Whether the user successfully logged in or not\r\n  localStorageKeyPrefix = 'tvapptemp-2.0-';             // WARNING: changing this on version updates also logs out users!\r\n  accountToken: string = null;                          // Holds the account token\r\n  authToken: string = null;                             // Holds the authentication token, necessary to other API calls\r\n  tempAuthToken: string = null;                         // Holds the temporary auth token (when all sessions have been spent)\r\n  authTokenExpiration = 0;                              // Unix timestamp (0 == doesn't expire) -- seems to default to 1 week\r\n  accountProfileToken: string = null;                   // Holds the current profile token\r\n  userProfiles: APIProfile[] = [];                      // List of user profiles\r\n  currProfile: any = null;\r\n  defaultAvatar = 'assets/ic-default-avatar.png';       // The default avatar in user area after logout\r\n  currAvatar = 'assets/ic-default-avatar.png';          // User current avatar\r\n  profileAvatars: any[];                                // Hold the list of available avatars images\r\n  hasActiveSubscription: boolean = false;               // Quick check flag for subscription status ...\r\n  nbrOfLoginProviders: number = 1;                      // Determined upon getting settings from the API\r\n\r\n  currUsername: string;\r\n  currPassword: string;\r\n\r\n  /* PAYMENTS RELATED */\r\n  stripePubKey: string = environment.stripePubKey;      // It's set to the test or real keys depending on the environment\r\n                                                        // ( see /environments/environment*.ts )\r\n\r\n\r\n  endpoints: any = {\r\n    settings: this.API + 'settings',\r\n    languages: this.API + 'languages',\r\n    strings: this.API + 'languages/strings',\r\n    menus: this.API + 'menus',\r\n    menuId: this.API + 'menus/' + this.menuId,\r\n    menuDefault: this.API + 'menus/default',\r\n    //menuOption: this.API + 'menus/' + this.menuId + '/option/' + this.optionId, // Old way\r\n    menuOption: this.API + 'menus/{menu_id}/option/{option_id}',                  // GET menuoption details\r\n    register: this.API + 'account/register',                                      // Register a new user\r\n    login: this.API + 'account/login',                                            // Login user\r\n    socialLogin: this.API + 'account/social_login',                               // Social Login user\r\n    logout: this.API+'account/'+this.accountToken+'/logout',                      // Logout user\r\n    liveSessions: this.API+'account/{account_token}/live_sessions',               // Get the live sessions for the current account\r\n    profiles: this.API + 'account/{account_token}/profiles',                      // CRUD endpoint\r\n    profile: this.API + 'account/',                                               // current account profile token follows ...\r\n    profileAvatars: this.API + 'profile_avatars',                                 // Get profile avatars\r\n    assets: this.API + 'assets',                                                  // Get an asset; Id follows\r\n    assetsRelated: this.API + '{asset_id}/related',                               // Get an asset's related content; {asset_id} to be str_replaced\r\n    assetsRate: this.API + 'account/{profile_token}/rate/{asset_id}',             // Rate an asset; {profile_token}, {asset_id} to be str_replaced\r\n    assetsFavorite: this.API + 'account/{profile_token}/favourites/{asset_id}',   // (POST) Set an asset as a favorite for the current account's profile\r\n                                                                                  // (GET) check if the asset is a favorite\r\n                                                                                  // (DELETE) remove the asset from the favourites list\r\n    assetsStream: this.API + 'assets/{asset_id}/streams/{stream_id}',             // Get an asset's stream for playing\r\n    seasonsEpisodes: this.API + 'tvshow/{tvshow_id}/season/{season_id}/episodes',  // GET of a certain TVshow the episodes of a certain season\r\n\r\n    /* Parental control related */\r\n    setParentalControl: this.API + 'account/{profile_token}/parental_control',    // Set parental control on/off OR apply setting\r\n                                                                                  // AND set parental pin\r\n\r\n\r\n    ageRatings: this.API + 'age_ratings/{country_code}',\r\n    verifyParentalPin: this.API + 'account/{profile_token}/parentalpin',          // (POST) Verify parental pin\r\n    recoverParentalPin: this.API + 'account/{profile_token}/recover_parentalpin', // (PUT)  Recover parental pin\r\n    changeParentalPin: this.API + 'account/{profile_token}/parentalpin',          // (PUT)  Update parental pin\r\n\r\n    /* Subscriptions and payments related */\r\n    subscriptions: this.API + 'subscriptions',                                    // Provide all the available subscriptions\r\n    profileSubscriptions: this.API + 'account/{profile_token}/subscriptions',     // Get all of a given profile's subscriptions\r\n    profilePaymentMethods: this.API + 'account/{profile_token}/{payment_gateway}/payment_methods',  // Get the current profile's payment methods, given a gateway\r\n                                                                                                    // @Notes: currently available gateways: ['stripe', 'voucher']\r\n    purchase: this.API + 'account/{profile_token}/purchase',                      // Purchase/subscribe a product in a store\r\n    cancelSubscription: this.API + 'account/{profile_token}/subscriptions',       // Cancel a subscription for a give profile\r\n\r\n    /* Entitlements */\r\n    entitlements: this.API + 'account/{profile_token}/entitlements/{asset_id}',   // Get user entitlements for the asset for a given profile\r\n    pairingCode: this.API + 'account/{profile_token}/pairing_code',               // PUT - add pairingcode on website to validate STV session\r\n\r\n    /* Password related */\r\n    changePassword: this.API + 'account/{profile_token}/password',                 // PUT - Change Profile Password\r\n\r\n    /* User session related */\r\n    sessionStatus: this.API + 'account/{profile_token}/status_session',            // GET - Get information about the session if it's still active\r\n\r\n\r\n  };\r\n\r\n  /* Enable or disable functionality here for specific customers */\r\n  rules = {\r\n    register: false,\r\n    multipleProfiles: false,\r\n    subscriptions: false,\r\n    socialMediaFB: true,          // Enable disable social media links pending customer's indication (not avaiable in  the API)\r\n    socialMediaTwitter: true,\r\n    socialMediaInstagram: true,\r\n    facebookLogin: false,\r\n    purchasePin: false,\r\n    manageCreditCard: false\r\n  };\r\n\r\n  // TVCable rules:\r\n  tvcableGroup_asset_types=0;\r\n  tvcableAsset_types='movies,series,channels';\r\n  tvcableSearchQuery= '&device_type=web&device_layout=web&asset_types='+this.tvcableAsset_types+'&group_asset_types='+this.tvcableGroup_asset_types;\r\n  //tvcableSearchQuery= 'device_type=web&device_layout=web&asset_types='+this.tvcableAsset_types;\r\n}\r\n\r\n\r\n// All API responses are enclosed in [data]\r\nexport interface APIDataResponse {\r\n  data: any;\r\n};\r\n\r\nexport interface APISuccessResponse {\r\n  success: number,\r\n  code: string,\r\n  description: string,\r\n  metadata: {}\r\n}\r\n\r\nexport interface APIErrorResponse {\r\n  code: string,\r\n  description: string,\r\n  error: string\r\n};\r\n\r\nexport interface APILoginSuccess {\r\n  'account_token': string,\r\n  'auth_token': string,\r\n  'auth_expires': number,\r\n  'session_slots_available': number\r\n}\r\n\r\nexport interface APIProviderLoginSuccess {\r\n  account_token: string,\r\n  auth_token: string,\r\n  auth_expires: number,\r\n  session_slots_available: string,\r\n  login_providers_tokens: [\r\n    {\r\n      provider: string,\r\n      auth_token: string\r\n    }\r\n    ]\r\n}\r\n\r\nexport interface APIProfile {\r\n      id: number,\r\n      name: string,\r\n      token: string,\r\n      image: {\r\n        url: string\r\n      },\r\n      avatar: {\r\n        url: string\r\n      },\r\n      mobile_number: string,\r\n      address: string,\r\n      post_code: string\r\n}\r\n\r\nexport interface APIProfileInfo {\r\n  email: string,\r\n  last_login: number,\r\n  name: string,\r\n  mobile_number: string,\r\n  address: string,\r\n  country: string,\r\n  stripe_user_token: string,\r\n  profile_picture: {\r\n    url: string,\r\n    name: string\r\n  },\r\n  user_language: string,\r\n  eligible_for_trial: boolean,\r\n  gender: string,\r\n  birth_date: string,\r\n  parental_controls: {\r\n    enabled: boolean,\r\n    setting: {\r\n      id: number,\r\n      name: string,\r\n      description: string,\r\n      level: number,\r\n      country_code: string,\r\n      image: {\r\n        url: string\r\n      }\r\n    }\r\n  },\r\n  favourites: any [],\r\n  bookmarks: [\r\n    {\r\n      asset_id: number,\r\n      video_id: number,\r\n      bookmark: number\r\n    }\r\n    ],\r\n  purchases: [\r\n    {\r\n      asset_id: number\r\n    }\r\n    ],\r\n  rentals: [\r\n    {\r\n      asset_id: number,\r\n      start_date: number,\r\n      end_date: number\r\n    }\r\n    ],\r\n  subscriptions: [\r\n    {\r\n      id: string,\r\n      plan_id: string,\r\n      plan_name: string,\r\n      plan_interval: string,\r\n      start_date: number,\r\n      end_date: number,\r\n      payment_gateway: string\r\n    }\r\n    ]\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/globals.service.ts","module.exports = \"<div class=\\\"genre-selection genre-selection-epg\\\" *ngIf=\\\"layout.show_genres\\\">\\r\\n  <ul>\\r\\n    <li (click)=\\\"changeGenre()\\\" [class.selected]=\\\"currentGenre == undefined\\\">\\r\\n      All Channels\\r\\n    </li>\\r\\n    <li *ngFor=\\\"let el of genres\\\" (click)=\\\"changeGenre(el.slug)\\\" [class.selected]=\\\"currentGenre == el.slug\\\">\\r\\n      {{el.name}}\\r\\n    </li>\\r\\n  </ul>\\r\\n</div>\\r\\n\\r\\n\\r\\n<!-- STANDARD GUIDE DESIGN -->\\r\\n<div class=\\\"guide-container\\\">\\r\\n  <div class=\\\"days-container\\\">\\r\\n    <ul class=\\\"days\\\">\\r\\n      <li *ngFor=\\\"let el of days\\\" (click)=\\\"selectDay(el.id)\\\" [ngClass]=\\\"{focus : el.id == day}\\\">\\r\\n        {{el.name}}\\r\\n      </li>\\r\\n    </ul>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"current-epg\\\" *ngIf=\\\"layout.show_selected_program_info=='top'\\\">\\r\\n    <div class=\\\"current-epg-container\\\">\\r\\n      <div class=\\\"epg-info\\\">\\r\\n        <h3 class=\\\"epg-current-channel\\\">\\r\\n          <p>{{currentChannel.name}}</p>\\r\\n          <p class=\\\"now-playing-time\\\">\\r\\n            {{currentShow.isPlaying ? 'ON NOW&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;' : ''}}{{currentShow.start_time_string}}\\r\\n            - {{currentShow.end_time_string}}\\r\\n          </p>\\r\\n        </h3>\\r\\n        <h3 class=\\\"epg-current-show\\\">{{currentShow.name}}</h3>\\r\\n        <div class=\\\"epg-description\\\">{{currentShow.description}}</div>\\r\\n      </div>\\r\\n\\r\\n      <!-- PLAYER -->\\r\\n      <div class=\\\"epgPlayerContainer\\\" *ngIf=\\\"layout.show_preview!='none'\\\">\\r\\n        <video class=\\\"video-js\\\" controls preload=\\\"auto\\\" data-setup=\\\"{}\\\" id=\\\"epgPlayer\\\" *ngIf=\\\"layout.show_preview=='video'\\\"></video>\\r\\n\\r\\n        <img src=\\\"{{currentShow.image.url}}\\\" *ngIf=\\\"layout.show_preview=='image'\\\">\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"smaller-epg\\\" *ngIf=\\\"smallScreen\\\" [ngClass]=\\\"{epgOpacity : epgOpacity}\\\">\\r\\n    <div class=\\\"smaller-epg-container\\\">\\r\\n      <div class=\\\"channels\\\">\\r\\n        <div class=\\\"channels-small-inner\\\"\\r\\n             [ngStyle]=\\\"{'transform': 'translate3d(' + this.channelsPosition + 'px, 0, 0)'}\\\">\\r\\n          <div class=\\\"channel-logo\\\" *ngFor=\\\"let el of data\\\"\\r\\n               [ngClass]=\\\"{selected: currentChannel.channel_number == el.channel_number}\\\"\\r\\n               (click)=\\\"selectChannel(el)\\\">\\r\\n            <img src=\\\"{{el.image.url}}\\\">\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n    <div class=\\\"selected-channel\\\">\\r\\n      <div *ngFor=\\\"let el of currentChannel.scheduling\\\" class=\\\"selected-channel-program\\\"\\r\\n           [ngClass]=\\\"{selected: el.id == currentShow.id}\\\">\\r\\n\\r\\n        <div class=\\\"info-container\\\" (click)=\\\"selectShow(el)\\\">\\r\\n          <div class=\\\"now-playing-time\\\">\\r\\n            <div class=\\\"on-now-tag\\\" *ngIf=\\\"el.isPlaying\\\">ON NOW</div>\\r\\n            <p class=\\\"now-playing-time\\\">{{el.start_time_string}} - {{el.end_time_string}}</p>\\r\\n          </div>\\r\\n          <div class=\\\"title\\\">{{el.name}}</div>\\r\\n          <!--TODO get real \\\"no descrption\\\" message -->\\r\\n          <div class=\\\"description\\\">{{el.description || 'No description available'}}</div>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"options\\\">\\r\\n          <div *ngIf=\\\"el.isPlaying\\\">\\r\\n            <a>\\r\\n              <img src=\\\"assets/ic_epg_play.png\\\">\\r\\n              <p>Watch live</p>\\r\\n            </a>\\r\\n          </div>\\r\\n          <div class=\\\"borders\\\">\\r\\n            <a ui-sref=\\\"info\\\">\\r\\n              <img src=\\\"assets/ic_epg_info.png\\\">\\r\\n              <p>Info</p>\\r\\n            </a>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"bottom-border\\\"></div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"standard-epg\\\" ng-show=\\\"!smallScreen\\\" [ngClass]=\\\"{epgOpacity : epgOpacity}\\\">\\r\\n    <div class=\\\"time\\\">\\r\\n      <div class=\\\"time-inner\\\" [ngStyle]=\\\"{'transform' : 'translate3d(' + this.epgPosition + 'px, 0, 0)'}\\\">\\r\\n        <div *ngFor=\\\"let el of time; let i = index\\\" [ngStyle]=\\\"{'left' : i * 120 + 'px'}\\\"\\r\\n             [hidden]=\\\"-epgPosition > i*120 - 18 || (containerWidth - epgPosition) < ((i * 120 - 18) + 136)\\\">\\r\\n          {{el}}\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n    <div id=\\\"standard-epg-container\\\" [ngStyle]=\\\"{'height': epgHeight}\\\">\\r\\n      <div class=\\\"epg-control-right\\\" (click)=\\\"moveEpg(1)\\\"></div>\\r\\n      <div class=\\\"epg-control-left\\\" (click)=\\\"moveEpg(2)\\\"></div>\\r\\n      <div *ngFor=\\\"let el of data\\\" class=\\\"channels\\\">\\r\\n        <div class=\\\"channel-logo\\\" (click)='selectChannel(el)'>\\r\\n          <img src=\\\"{{el.image.url}}\\\">\\r\\n        </div>\\r\\n        <div class=\\\"shows\\\">\\r\\n          <div class=\\\"shows-inner\\\" [ngStyle]=\\\"{'transform' : 'translate3d(' + this.epgPosition + 'px, 0, 0)'}\\\">\\r\\n            <div *ngFor=\\\"let show of el.scheduling\\\" (click)=\\\"selectShow(show, el)\\\" class=\\\"element\\\"\\r\\n                 [ngStyle]=\\\"{'width' : show.width + 'px', 'left' : show.left + 'px'}\\\">\\r\\n              <div class=\\\"show-title-big\\\"\\r\\n                   [ngClass]=\\\"{selected: currentShow.id == show.id, playing: show.isPlaying}\\\"\\r\\n                   [ngStyle]=\\\"{'width' : (show.width - 15) + 'px'}\\\">\\r\\n                <span [ngStyle]=\\\"getTextPosition(show)\\\">{{show.name}}</span>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n</div>\\r\\n\\r\\n<div *ngIf=\\\"popup\\\" class=\\\"popup-container\\\">\\r\\n  <div class=\\\"popup-close\\\" (click)=\\\"popup=false\\\"></div>\\r\\n  <div class=\\\"popup-content epg-popup\\\">\\r\\n    <h1>{{currentShow.name}}</h1>\\r\\n    <h2>{{currentShow.start_time_string}} - {{currentShow.end_time_string}}</h2>\\r\\n    <p>{{currentShow.description}}</p>\\r\\n    <div class=\\\"epg-popup-options\\\">\\r\\n      <button>WATCH</button>\\r\\n      <button *ngIf=\\\"(currentShow.start_time * 1000) > nowMs\\\">REMINDER</button>\\r\\n    </div>\\r\\n    </div>\\r\\n</div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/guide/guide.component.html\n// module id = ./src/app/guide/guide.component.html\n// module chunks = main","import {Component, OnInit} from '@angular/core';\r\nimport {GuideService} from './guide.service';\r\nimport {GlobalsService} from '../globals.service';\r\nimport {Router} from '@angular/router';\r\nimport {LoadingService} from '../loading/loading.service';\r\nimport {EpgLayout} from '../models/epg-layout';\r\nimport {EpgChannel} from '../models/epg-channel';\r\nimport {Genre} from '../models/genre';\r\nimport {Scheduling} from '../models/scheduling';\r\n\r\n\r\n\r\n\r\nimport * as moment from 'moment';\r\n\r\n@Component({\r\n  selector: 'app-guide',\r\n  templateUrl: './guide.component.html',\r\n  host: {\r\n    '(window:resize)': 'onResize()'\r\n  }\r\n})\r\n\r\nexport class GuideComponent implements OnInit {\r\n\r\n  data: Array<EpgChannel>;\r\n  genres: Array<Genre> = [];\r\n  layout: EpgLayout = new EpgLayout();\r\n  errorMessage: string;\r\n  currentShow: Scheduling = new Scheduling();\r\n  selectedChannel: number = 0;\r\n  currentChannel: EpgChannel = new EpgChannel();\r\n  days: any = [];\r\n  day: number = 0;\r\n  epgOpacity: boolean = false;\r\n  smallScreen: boolean = window.innerWidth < 768;\r\n  epgPosition: number = 0;\r\n  containerWidth: number = 0;\r\n  screenWidth: number = 0;\r\n  channelsPosition: number = 0;\r\n  showingOptions: string = '';\r\n  time: Array<string> = [];\r\n  todayMs: number;\r\n  nowMs: number;\r\n  epgHeight: string;\r\n  currentGenre: string = undefined;\r\n  popup: boolean = false;\r\n\r\n  // epgDragDistance: number = 70;\r\n\r\n  constructor(private service: GuideService,\r\n              private globals: GlobalsService,\r\n              private router: Router,\r\n              private loading: LoadingService\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.globals.pageTitle = 'Live TV Guide';\r\n    this.createTimeMarkers();\r\n\r\n    //Gets the milliseconds since midnight so we know where the EPG starts\r\n    let d: Date = new Date();\r\n    let e: Date = new Date(d);\r\n    this.epgPosition = -(+e - d.setHours(0, 0, 0, 0)) / 1000 / 60 * 4;\r\n\r\n    //Little visual fix so that if EPG is too soon or too late\r\n    //we prevent it leaving white space on one of the sides\r\n    if (this.epgPosition < -438) {\r\n      this.epgPosition += 438;\r\n    }\r\n    if (this.epgPosition > -438) {\r\n      this.epgPosition = 0;\r\n    }\r\n    if (this.epgPosition < -4580) {\r\n      this.epgPosition = -4580;\r\n    }\r\n\r\n    let today = new Date();\r\n    today.setHours(0, 0, 0, 0);\r\n    this.todayMs = today.getTime();\r\n    this.nowMs = new Date().getTime();\r\n    this.getGuide(this.todayMs, this.currentGenre);\r\n  }\r\n\r\n\r\n  /**\r\n   * Callback for when the user resizes the window, which manages the EPG width\r\n   */\r\n  onResize() {\r\n    let oldWidth = this.screenWidth;\r\n    this.screenWidth = window.innerWidth;\r\n    this.smallScreen = this.screenWidth < 768;\r\n    this.containerWidth = document.getElementById('standard-epg-container').offsetWidth;\r\n    if (this.screenWidth > oldWidth && this.epgPosition <= -4580) {\r\n      this.epgPosition -= oldWidth - this.screenWidth;\r\n    }\r\n  }\r\n\r\n\r\n  /**\r\n   * Gets the EPG data and sets up the next necessary steps when a new batch of data is requested\r\n   * @param {number} startTime\r\n   * @param {genre} Genre of the channels\r\n   */\r\n  getGuide(startTime: number, genre: string) {\r\n    this.loading.set(true);\r\n    this.epgOpacity = true;\r\n\r\n    //Start comes in ms but the API wants seconds, hence the / 1000\r\n    this.service.getGuide(startTime / 1000, genre)\r\n      .subscribe(\r\n        response => {\r\n          this.data = response.blocks[0].widgets[0].playlist.contents;\r\n          if(!this.genres.length) {\r\n            this.genres = response.blocks[0].widgets[0].playlist.genres;\r\n          }\r\n          this.layout = response.blocks[0].widgets[0].layout;\r\n        },\r\n        error => this.errorMessage = <any>error,\r\n        () => {\r\n          if(!this.days.length) {\r\n            this.createDays(this.layout.number_days_backward, this.layout.number_days_forward);\r\n          }\r\n          this.containerWidth = document.getElementById('standard-epg-container').offsetWidth;\r\n          this.epgHeight = (this.data.length * 44) - 4 + 'px';\r\n          this.epgOpacity = false;\r\n          this.parseData();\r\n          this.currentChannel = this.data[0];\r\n          this.getSelected();\r\n          //Gets the show that is currently playing\r\n          for (let i = 0; i < this.data[this.selectedChannel].scheduling.length; i++) {\r\n            if (this.data[this.selectedChannel].scheduling[i].isPlaying) {\r\n              this.currentShow = this.data[this.selectedChannel].scheduling[i];\r\n              break;\r\n            }\r\n          }\r\n          this.loading.set(false);\r\n        });\r\n  }\r\n\r\n\r\n  /**\r\n   * Converts a timestamp to human readable time\r\n   * @param value\r\n   * @returns {string}\r\n   */\r\n  static dateToTime(value) {\r\n    value = new Date(value);\r\n    let minutes = value.getMinutes();\r\n    let hours = value.getHours();\r\n    return ('0' + hours).slice(-2) + ':' + ('0' + minutes).slice(-2);\r\n  }\r\n\r\n\r\n  /**\r\n   * Parses the EPG data into a format the layout can use\r\n   */\r\n  parseData() {\r\n    let timeNow = new Date().getTime() * 1000;\r\n    this.data.forEach(value => {\r\n      value.scheduling.forEach(value => {\r\n        let start = new Date(value.start_time * 1000);\r\n        let end = new Date(value.end_time * 1000);\r\n        value.duration = end.getTime() - start.getTime();\r\n        value.start_time_string = GuideComponent.dateToTime(start);\r\n        value.end_time_string = GuideComponent.dateToTime(end);\r\n        value.width = value.duration / 1000 / 60 * 4;\r\n        value.left = ((value.start_time * 1000) - this.todayMs) / 1000 / 60 * 4;\r\n        if (value.start_time * 1000 < timeNow && value.end_time * 1000 > timeNow) {\r\n          value.isPlaying = true;\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n\r\n  /**\r\n   * Created the days list that the EPG can have\r\n   * @param {number} forward\r\n   * @param {number} backward\r\n   */\r\n  createDays(backward, forward) {\r\n    let daysBackward = [], daysForward = [];\r\n\r\n    //First we create the days before the present day\r\n    for (let i = backward; i > 0; i--) {\r\n      let dayObj: any = {};\r\n      dayObj.id = -i;\r\n      dayObj.day = moment().add(-i, 'days').format(\"D\");\r\n      dayObj.weekday = moment().add(-i, 'days').format(\"ddd\");\r\n      dayObj.name = dayObj.weekday + ' ' + dayObj.day;\r\n      dayObj.date = moment().add(-i, 'days').format(\"x\");\r\n      daysBackward.push(dayObj);\r\n    }\r\n\r\n    //Then we create the days from today up until the maximum allowed days\r\n    for (let i = 0; i < forward; i++) {\r\n      let dayObj: any = {};\r\n      dayObj.id = i;\r\n      dayObj.day = moment().add(i, 'days').format(\"D\");\r\n      dayObj.weekday = moment().add(i, 'days').format(\"ddd\");\r\n      dayObj.name = dayObj.weekday + ' ' + dayObj.day;\r\n      dayObj.date = moment().add(i, 'days').format(\"x\");\r\n      daysForward.push(dayObj);\r\n    }\r\n\r\n    daysBackward[daysBackward.length - 1].name = 'Yesterday';\r\n    daysForward[0].name = 'Today';\r\n    daysForward[1].name = 'Tomorrow';\r\n\r\n    this.days = daysBackward.concat(daysForward);\r\n  }\r\n\r\n\r\n  /**\r\n   * Creates the time markers above the EPG\r\n   */\r\n  createTimeMarkers() {\r\n    for (let i = 0; i < 24; i++) {\r\n      this.time.push((i < 10 ? '0' + i : i) + ':' + '00');\r\n      this.time.push((i < 10 ? '0' + i : i) + ':' + '30');\r\n    }\r\n  }\r\n\r\n\r\n  /**\r\n   * Changes the currently selected day\r\n   * @param {number} day\r\n   */\r\n  selectDay(day) {\r\n    this.day = day;\r\n\r\n    //Get today's date\r\n    let start = new Date();\r\n\r\n    //Add the number of days we need (if we choose today, this variable comes as 0)\r\n    start.setDate(start.getDate() + day);\r\n\r\n    //Get the beginning and end of the day\r\n    start.setHours(0, 0, 0, 0);\r\n\r\n    //Get the timestamp\r\n    let startMs = start.getTime();\r\n    this.todayMs = startMs;\r\n\r\n    //Get the EPG data for the new day\r\n    this.getGuide(startMs, this.currentGenre);\r\n  }\r\n\r\n\r\n  /**\r\n   * Sets the currently selected show and its respective channel\r\n   * @param {Object} show\r\n   * @param {Object} channel\r\n   */\r\n  selectShow(show, channel) {\r\n    if (channel && channel.channel_number !== this.currentChannel.channel_number) {\r\n      this.currentChannel = channel;\r\n    }\r\n    if(this.layout.show_selected_program_info=='popup') {\r\n      this.popup=true;\r\n    }\r\n    this.currentShow = show;\r\n    this.showingOptions = show.id == this.showingOptions ? '' : show.id;\r\n\r\n  }\r\n\r\n\r\n  /**\r\n   * Changes the currently selected channel\r\n   * @param {Object} channel\r\n   */\r\n  selectChannel(channel) {\r\n    this.currentChannel = channel;\r\n    //Gets the show that is currently playing\r\n    for (let i = 0; i < this.currentChannel.scheduling.length; i++) {\r\n      if (this.currentChannel.scheduling[i].isPlaying) {\r\n        this.selectShow(this.currentChannel.scheduling[i], undefined);\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  /**\r\n   * Verifies which show is currently playing in a given channel\r\n   */\r\n  getSelected() {\r\n    if (this.day == 0) {\r\n      let timeNow = new Date().getTime() / 1000;\r\n\r\n      //Loop the channels\r\n      this.data.forEach(channel => {\r\n        for (let i in channel.scheduling) {\r\n          channel.scheduling[i].isPlaying = false;\r\n          if (channel.scheduling[i].start_time < timeNow && channel.scheduling[i].end_time > timeNow) {\r\n            channel.scheduling[i].isPlaying = true;\r\n            channel.nowPlaying = channel.scheduling[i];\r\n            break;\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n\r\n  /**\r\n   * Defines the length of the inner span of each element\r\n   * so that the text is never outside the user view\r\n   * @param {Object} show\r\n   * @returns {Object} styles\r\n   */\r\n  getTextPosition(show) {\r\n    if (-show.left > this.epgPosition && -show.left < this.epgPosition + 1280) {\r\n      let newLeft = -this.epgPosition - show.left;\r\n      return {\r\n        transform: 'translate3d(' + newLeft + 'px, 0, 0)',\r\n        width: show.width - newLeft - 24 + 'px'\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  /**\r\n   * Moves the EPG according to the navigation button that was pressed\r\n   * @param {number} direction\r\n   */\r\n  moveEpg(direction) {\r\n    let maxMove = 4580;\r\n    if (this.containerWidth < 1280 && this.epgPosition <= -4580) {\r\n      maxMove += 1280 - this.containerWidth;\r\n    }\r\n    switch (direction) {\r\n      case 1:\r\n        this.epgPosition - 229 > -maxMove ? this.epgPosition -= 229 : this.epgPosition = -maxMove;\r\n        break;\r\n      case 2:\r\n        this.epgPosition + 229 < 0 ? this.epgPosition += 229 : this.epgPosition = 0;\r\n        break;\r\n    }\r\n  }\r\n\r\n\r\n  /**\r\n   * Filters the EPG according to a specific genre\r\n   * @param genre\r\n   */\r\n  changeGenre(genre: string) {\r\n    if(genre!=this.currentGenre) {\r\n      this.currentGenre = genre;\r\n      this.getGuide(this.todayMs, genre)\r\n    }\r\n  }\r\n\r\n  // /**\r\n  //  *\r\n  //  * @param event\r\n  //  */\r\n  // dragLeft(event) {\r\n  //   event.preventDefault();\r\n  //   let dragDistance = this.epgDragDistance * Math.abs(event.velocity);\r\n  //   this.epgPosition - dragDistance > -4580 ? this.epgPosition -= dragDistance : this.epgPosition = -4580;\r\n  // }\r\n  //\r\n  // /**\r\n  //  *\r\n  //  * @param event\r\n  //  */\r\n  // dragRight(event) {\r\n  //   event.preventDefault();\r\n  //   let dragDistance = this.epgDragDistance * Math.abs(event.velocity);\r\n  //   this.epgPosition + dragDistance < 0 ? this.epgPosition += dragDistance : this.epgPosition = 0;\r\n  // }\r\n\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/guide/guide.component.ts","import {NgModule}           from '@angular/core';\r\nimport {CommonModule}       from '@angular/common';\r\nimport {GuideComponent}   from './guide.component';\r\nimport {GuideService} from './guide.service';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  declarations: [\r\n    GuideComponent\r\n  ],\r\n  exports: [\r\n    GuideComponent\r\n  ],\r\n  providers: [\r\n    GuideService,\r\n  ]\r\n})\r\n\r\nexport class GuideModule {\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/guide/guide.module.ts","import { Injectable } from '@angular/core';\r\nimport { Http, Response } from '@angular/http';\r\n\r\nimport {GlobalsService} from '../globals.service';\r\n\r\nimport { Observable } from 'rxjs/Observable';\r\nimport 'rxjs/add/operator/catch';\r\nimport 'rxjs/add/operator/map';\r\n\r\n@Injectable()\r\nexport class GuideService {\r\n\r\n  constructor(\r\n    private http: Http,\r\n    private globals: GlobalsService\r\n  ) {}\r\n\r\n  private extractData(res: Response) {\r\n    let body = res.json();\r\n    if (body) {\r\n      return body.data || body;\r\n    } else {\r\n      return {};\r\n    }\r\n  }\r\n\r\n  private handleError(error: any) {\r\n    let errMsg = (error.message) ? error.message :\r\n      error.status ? `${error.status} - ${error.statusText}` : 'Server error';\r\n    console.error(errMsg);\r\n    return Observable.throw(errMsg);\r\n  }\r\n\r\n  getGuide(start: number, genre: string): Observable<any> {\r\n    let url = this.globals.API + `epg?device_type=web&device_layout=web&datetimestamp=${start}`;\r\n    if(genre != undefined) {\r\n      url +=`&genre_id=${genre}`;\r\n    }\r\n    return this.http\r\n      .get(url)\r\n      .map(this.extractData)\r\n      .catch(this.handleError);\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/guide/guide.service.ts","module.exports = \"<div\\r\\n  class=\\\"listing-container\\\"\\r\\n  [style.opacity]=\\\"showCarousel ? 1 : 0\\\"\\r\\n  dir=\\\"{{data.layout.presentation_order == 'RTL' ? 'RTL' : 'LTR'}}\\\">\\r\\n  <app-playlist-element *ngFor=\\\"let el of data.playlist.contents; trackBy: trackByContent\\\"\\r\\n                        [data]=\\\"el\\\"\\r\\n                        [layout]=\\\"data.layout\\\"\\r\\n                        [style.width]=\\\"colSize\\\"\\r\\n                        class=\\\"listing-item\\\">\\r\\n  </app-playlist-element>\\r\\n<!-- <div>ruiteste</div>  -->\\r\\n    <div *ngIf=\\\"isLoading\\\" class=\\\"wait\\\">\\r\\n      <div class=\\\"bounce1\\\"></div>\\r\\n      <div class=\\\"bounce2\\\"></div>\\r\\n      <div class=\\\"bounce3\\\"></div>\\r\\n    </div>\\r\\n</div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/listing/listing.component.html\n// module id = ./src/app/listing/listing.component.html\n// module chunks = main","import {Component, OnInit, Input, AfterViewInit, ElementRef, OnDestroy} from '@angular/core';\r\nimport {PlaylistService} from '../models/playlist.service';\r\nimport {Content} from '../models/content';\r\nimport * as $ from \"jquery\";\r\nimport { GlobalsService} from \"../globals.service\";\r\nimport {ListingService} from \"./listing.service\";\r\n\r\n@Component({\r\n  selector: 'app-listing',\r\n  templateUrl: './listing.component.html',\r\n  host: {\r\n    '(window:resize)': 'onResize($event)',\r\n    '(window:scroll)': 'onScroll($event)',\r\n  }\r\n})\r\n\r\nexport class ListingComponent implements OnInit, AfterViewInit, OnDestroy {\r\n  @Input() data: any;\r\n  breakpoints: Array<number>;\r\n  step: number;\r\n  id: string;\r\n  isLoading: boolean;\r\n  colSize: string;\r\n  responsiveOptions: Array<any> = [];\r\n  showCarousel: boolean = false;\r\n\r\n  constructor(\r\n    private service: PlaylistService,\r\n    private elem: ElementRef,\r\n    private globals: GlobalsService,\r\n    private listingService: ListingService\r\n    ) {  }\r\n\r\n  trackByContent(index: number, element: Content): number { return element.id; }\r\n\r\n  onResize(event: any){\r\n    this.getElementWidth(event.target.innerWidth);\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    setTimeout(() => {\r\n      this.showCarousel = true;\r\n    },300);\r\n\r\n  }\r\n\r\n  ngOnInit() {\r\n\r\n    this.breakpoints = [5000, 1280, 768, 500];\r\n    this.step = Math.floor(this.data.layout.columns * 0.25);\r\n\r\n    for (let i = 0; i < this.breakpoints.length; i++) {\r\n      let obj: any = {};\r\n      let currentStep = this.data.layout.columns - i * this.step;\r\n      obj.breakpoint = this.breakpoints[i];\r\n      obj.settings = {\r\n        slidesToShow: currentStep,\r\n        slidesToScroll: currentStep\r\n      };\r\n      this.responsiveOptions.push(obj);\r\n    }\r\n    this.getElementWidth(window.innerWidth);\r\n\r\n    //$('.endpageDiv').on('click',(e1,e2)=>{this.display_Cache()});\r\n    //document.getElementById('endpageDivId').addEventListener(\"click\", this.display_Cache.bind(this));\r\n\r\n    let pageUrl='';\r\n    let allLoaded=true;\r\n    if (this.data.playlist.pagination.url.next!=null) {\r\n      pageUrl=this.data.playlist.pagination.url.next.slice(0,this.data.playlist.pagination.url.next.length-1);\r\n      allLoaded=false;\r\n    }\r\n\r\n    // check if data has been extended(cached):\r\n    if (this.data.hasOwnProperty('extended'))\r\n      this.listingService.setState(pageUrl,this.data.extended.pageloaded,this.data.extended.pagerequested,this.data.extended.allloaded,this.data.playlist.pagination.limit,this.data.layout.number_max_elements);\r\n    else\r\n      this.listingService.setState(pageUrl,2,3,allLoaded,this.data.playlist.pagination.limit,this.data.layout.number_max_elements);\r\n\r\n    this.listingService.nextData.subscribe(val=>{ this.addSlides(val); })\r\n\r\n    // Subscribe to the loading status of pageloading\r\n    this.listingService.loading.subscribe((value => {\r\n      this.isLoading = value;\r\n    }));\r\n\r\n  }\r\n\r\n  ngOnDestroy(){\r\n    // Since data is cached, on reentering this component we will need to know the sate of the cached data\r\n    if (!this.data.hasOwnProperty('extended')) {\r\n      this.data[\"extended\"]={pagesloaded:this.listingService.getState_pageLoaded(),pagerequested: this.listingService.getState_pageRequested(),allloaded: this.listingService.getState_allLoaded()};\r\n    } else {\r\n      this.data.extended.pageloaded = this.listingService.getState_pageLoaded();\r\n      this.data.extended.pagerequested = this.listingService.getState_pageRequested();\r\n      this.data.extended.allloaded = this.listingService.getState_allLoaded();\r\n    }\r\n  }\r\n\r\n  getElementWidth(width: number) {\r\n    for(let i = this.responsiveOptions.length - 1; i >= 0 ; i--) {\r\n      if(width <= this.responsiveOptions[i].breakpoint) {\r\n        this.colSize = 100 / this.responsiveOptions[i].settings.slidesToShow + '%';\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  addSlides(newSlides: object) {\r\n    for (let i in newSlides) {\r\n      this.data.playlist.contents.push(newSlides[i]);\r\n      $(this.id).slick('slickAdd', newSlides[i].id);\r\n    }\r\n    console.log(\"adding....\");\r\n  }\r\n\r\n  onScroll(): void {\r\n    if ((window.innerHeight + window.scrollY) >= document.body.offsetHeight) {\r\n      // you're at the bottom of the page\r\n      if (!this.isLoading)\r\n          this.listingService.getNextPage();\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/listing/listing.component.ts","import {NgModule}           from '@angular/core';\r\nimport {CommonModule}       from '@angular/common';\r\nimport {ListingComponent}   from './listing.component';\r\nimport {PlaylistElementModule} from '../playlist-element/playlist-element.module';\r\nimport {ListingService} from \"./listing.service\";\r\nimport {LoadingService} from \"../loading/loading.service\";\r\n\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    PlaylistElementModule\r\n  ],\r\n  declarations: [\r\n    ListingComponent\r\n  ],\r\n  exports: [\r\n    ListingComponent\r\n  ],\r\n  providers: [\r\n    ListingService,\r\n    LoadingService\r\n  ]\r\n})\r\n\r\nexport class ListingModule {\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/listing/listing.module.ts","import { Injectable } from '@angular/core';\r\nimport {HttpClient, HttpHeaders} from \"@angular/common/http\";\r\nimport {APIDataResponse, GlobalsService} from \"../globals.service\";\r\nimport { Subject} from \"rxjs/Subject\";\r\n\r\n@Injectable()\r\nexport class ListingService {\r\n  nextData: Subject<any> = new Subject<any>();\r\n  loading: Subject<any> = new Subject<any>();\r\n  pageUrl: string;\r\n  pagesLoaded: number;\r\n  pageRequested: number;\r\n  pageLimit: number;\r\n  number_max_elements: number;\r\n  allLoaded: boolean;\r\n\r\n  constructor(  private http: HttpClient,  private globals: GlobalsService ) { }\r\n\r\n\r\n  getNextPage(){\r\n    if (this.allLoaded || this.pageRequested!=this.pagesLoaded+1)\r\n      return;\r\n    console.log(\"Going to load page:\"+this.pageUrl+this.pagesLoaded);\r\n    this.loading.next(true);\r\n    this.pageRequested++;\r\n    let headers = new HttpHeaders()\r\n      .set('Accept-Language', this.globals.settings.default_language);\r\n    this.http.get<APIDataResponse>(this.pageUrl+this.pagesLoaded, {headers: headers})\r\n      .toPromise()\r\n      .then(res => {\r\n        this.nextData.next(res.data);\r\n        if(res.data.length==0 || (this.pagesLoaded*this.pageLimit>=this.number_max_elements)) {\r\n          this.allLoaded = true;\r\n          this.loading.next(false);\r\n          console.log(\"Finnished....\");\r\n        }\r\n        this.pagesLoaded++;\r\n      })\r\n      .catch(function (error) {\r\n        this.loading.next(false);\r\n        console.error(error);\r\n      });\r\n  }\r\n\r\n  setState(pageUrl:string,pagesLoaded:number,pagesRequested:number,allLoaded:boolean,pageLimit:number,numMaxElements:number){\r\n    this.allLoaded=allLoaded;\r\n    this.pageUrl=pageUrl;\r\n    this.pagesLoaded=pagesLoaded;\r\n    this.pageRequested=pagesRequested;\r\n    this.pageLimit=pageLimit;\r\n    this.number_max_elements=numMaxElements;\r\n  }\r\n\r\n  getState_pageLoaded():number {\r\n    return this.pagesLoaded;\r\n  }\r\n  getState_pageRequested():number {\r\n    return this.pageRequested;\r\n  }\r\n  getState_allLoaded():boolean {\r\n    return this.allLoaded;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/listing/listing.service.ts","module.exports = \"\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/live-tv-preview/live-tv-preview.component.css\n// module id = ./src/app/live-tv-preview/live-tv-preview.component.css\n// module chunks = main","module.exports = \"<div  class=\\\"clearfix live-tv\\\" *ngIf=\\\"block\\\">\\r\\n    <div class=\\\"col-sm-6 text-center\\\" style=\\\"padding: 0;\\\" [ngClass]=\\\"{'player-style': (playerService.streamError$ | async)}\\\">\\r\\n        <app-player *ngIf=\\\"assetId && !(playerService.streamError$ | async)\\\" [assetId]=\\\"assetId\\\"></app-player>\\r\\n        <div  *ngIf=\\\"(playerService.streamError$ | async)\\\">\\r\\n            <img [src]=\\\"url\\\" *ngIf=\\\"url && (playerService.streamError$ | async)\\\" alt=\\\"\\\">\\r\\n            <img src=\\\"http://via.placeholder.com/264x220/000?text={{assetId}}\\\" alt=\\\"\\\" *ngIf=\\\"!url\\\">\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"col-sm-6 hidden-xs\\\"  style=\\\"padding: 25px 0 0\\\">\\r\\n        <ng-container  *ngFor=\\\"let program of scheduling; let i =index\\\">\\r\\n            <div *ngIf=\\\"i < 2\\\">\\r\\n                <h2>{{ i == 0 ? 'ON now' : \\\"What's next\\\"}}</h2>\\r\\n                <p style=\\\"font-weight: normal;font-size: medium\\\">{{program.name}}</p>\\r\\n                <p><strong> {{ program.start_time*1000 | date:'hh:mm a'}} - {{program.end_time*1000 | date:'hh:mm a'}}</strong></p>\\r\\n                <p style=\\\"font-weight: normal;font-size: medium\\\" >{{program.description}}</p>\\r\\n            </div>\\r\\n        </ng-container>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n<div *ngIf=\\\"block\\\" class=\\\"live-tv-carousel\\\">\\r\\n    <div *ngFor=\\\"let widget of block.widgets; let i = index\\\" [attr.data-index]=\\\"i\\\"\\r\\n         class=\\\"layout-container\\\">\\r\\n        <app-carousel [data]=\\\"widget\\\" [clickFn]=\\\"thumbClick.bind(this)\\\"\\r\\n        ></app-carousel>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"hidden-md hidden-lg hidden-sm\\\"  style=\\\"padding: 10px 0 0\\\">\\r\\n    <ng-container  *ngFor=\\\"let program of scheduling; let i =index\\\">\\r\\n        <div *ngIf=\\\"i < 2\\\">\\r\\n            <h2>{{ i == 0 ? 'ON now' : 'Whats next'}}</h2>\\r\\n            <p style=\\\"font-weight: normal;font-size: medium\\\">{{program.name}}</p>\\r\\n            <p><strong> {{ program.start_time*1000 | date:'hh:mm a'}} - {{program.end_time*1000 | date:'hh:mm a'}}</strong></p>\\r\\n            <p style=\\\"font-weight: normal;font-size: medium\\\" >{{program.description}}</p>\\r\\n        </div>\\r\\n    </ng-container>\\r\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/live-tv-preview/live-tv-preview.component.html\n// module id = ./src/app/live-tv-preview/live-tv-preview.component.html\n// module chunks = main","import {Component, OnInit} from '@angular/core';\r\nimport {LoadingService} from '../loading/loading.service';\r\nimport {LiveTvPreviewService} from './live-tv-preview.service';\r\nimport {Router} from '@angular/router';\r\nimport {PlayerService} from \"../player/player.service\";\r\n\r\n@Component({\r\n    selector: 'app-live-tv-preview',\r\n    templateUrl: './live-tv-preview.component.html',\r\n    styleUrls: ['./live-tv-preview.component.css']\r\n})\r\nexport class LiveTvPreviewComponent implements OnInit {\r\n    block: any;\r\n    scheduling: any;\r\n    assetId: string;\r\n    url: string;\r\n\r\n\r\n    constructor(private loading: LoadingService,\r\n                private liveTVService: LiveTvPreviewService,\r\n                public playerService: PlayerService) {\r\n    }\r\n\r\n    ngOnInit() {\r\n\r\n        this.liveTVService.getChannels().subscribe(res => {\r\n            res.blocks[0].widgets.forEach((data) => {\r\n                data.layout.columns = 5;\r\n                data.layout.show_elements_favorite = 'none';\r\n                data.layout.show_elements_rating = 'none';\r\n                data.layout.pagination_indicator = 'none';\r\n                data.layout.element_horizontal_spacing = 15;\r\n                data.layout.element_vertical_spacing = 15;\r\n                data.layout.assets_format_ratio = 1.2;\r\n                data.layout.presentation_order = 'LTR';\r\n                data.layout.show_elements_title = 'none';\r\n            });\r\n            this.block = res.blocks[0];\r\n            this.scheduling = this.block.widgets[0].playlist.contents[0].scheduling;\r\n\r\n            this.url = this.block.widgets[0].playlist.contents[0].image.url;\r\n            this.assetId = this.block.widgets[0].playlist.contents[0].id;\r\n            if(!this.scheduling.length) {\r\n                this.thumbClick(this.assetId, this.url);\r\n            }\r\n            this.loading.set(false);\r\n        });\r\n\r\n    }\r\n\r\n    thumbClick(id, url) {\r\n        this.assetId = id;\r\n        this.url = url;\r\n        this.liveTVService.getChannelDetails(id).subscribe(\r\n            prog => this.scheduling = prog.slice(0, 2));\r\n    }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/live-tv-preview/live-tv-preview.component.ts","import {NgModule} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\nimport {LiveTvPreviewComponent} from './live-tv-preview.component';\r\nimport {LiveTvPreviewService} from './live-tv-preview.service';\r\nimport {CarouselModule} from '../carousel/carousel.module';\r\nimport {ListingModule} from '../listing/listing.module';\r\nimport {PlayerModule} from '../player/player.module';\r\n\r\n@NgModule({\r\n    imports: [\r\n        CommonModule,\r\n        CarouselModule,\r\n        ListingModule,\r\n        PlayerModule\r\n    ],\r\n    declarations: [\r\n        LiveTvPreviewComponent\r\n    ],\r\n    exports: [\r\n        LiveTvPreviewComponent\r\n    ],\r\n    providers: [\r\n        LiveTvPreviewService\r\n    ]\r\n})\r\nexport class LiveTvPreviewModule {\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/live-tv-preview/live-tv-preview.module.ts","import { Injectable } from '@angular/core';\r\nimport {Observable} from 'rxjs/Observable';\r\nimport {GlobalsService} from '../globals.service';\r\nimport {Http, Response} from '@angular/http';\r\nimport 'rxjs/add/operator/map';\r\n\r\n@Injectable()\r\nexport class LiveTvPreviewService {\r\n\r\n  constructor(private http: Http,\r\n              private globals: GlobalsService\r\n  ) { }\r\n\r\n    private extractData(res: Response) {\r\n        let body = res.json();\r\n        if (body) {\r\n            return body.data || body;\r\n        } else {\r\n            return {};\r\n        }\r\n    }\r\n\r\n    private handleError(error: any) {\r\n        let errMsg = (error.message) ? error.message :\r\n            error.status ? `${error.status} - ${error.statusText}` : 'Server error';\r\n        console.error(errMsg);\r\n        return Observable.throw(errMsg);\r\n    }\r\n\r\n\r\n    getChannels(): Observable<any> {\r\n        let url = this.globals.API + `onnow?device_type=web&device_layout=web&page=1&limit=100&datetimestamp=${ (new Date().getTime() + new Date().getTimezoneOffset()*60*1000)/1000}`;\r\n        return this.http\r\n            .get(url)\r\n            .map(this.extractData)\r\n            .catch(this.handleError);\r\n    }\r\n\r\n    getChannelDetails(id): Observable<any> {\r\n        let url = this.globals.API + `channels/${id}/scheduling?device_type=web&device_layout=web&datetimestamp=${ (new Date().getTime() + new Date().getTimezoneOffset()*60*1000)/1000}`;\r\n        return this.http\r\n            .get(url)\r\n            .map(this.extractData)\r\n            .catch(this.handleError);\r\n    }\r\n\r\n    getProgramDetails(id, progID): Observable<any> {\r\n        let url = this.globals.API + `channels/${id}/scheduling/${progID}?device_type=web&device_layout=web`;\r\n        return this.http\r\n            .get(url)\r\n            .map(this.extractData)\r\n            .catch(this.handleError);\r\n    }\r\n\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/live-tv-preview/live-tv-preview.service.ts","module.exports = \"<div id=\\\"loadingContainer\\\" [class.loading]=\\\"loading\\\">\\r\\n  <div class=\\\"spinner\\\">\\r\\n    <div class=\\\"bounce1\\\"></div>\\r\\n    <div class=\\\"bounce2\\\"></div>\\r\\n    <div class=\\\"bounce3\\\"></div>\\r\\n  </div>\\r\\n</div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/loading/loading.component.html\n// module id = ./src/app/loading/loading.component.html\n// module chunks = main","import {Component, OnInit} from '@angular/core';\r\nimport {LoadingService} from './loading.service';\r\n\r\n@Component({\r\n  selector: 'app-loading',\r\n  templateUrl: './loading.component.html'\r\n})\r\n\r\nexport class LoadingComponent implements OnInit {\r\n  loading: boolean;\r\n\r\n  constructor(\r\n    private service: LoadingService\r\n  ) {}\r\n\r\n  ngAfterViewInit() {\r\n\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.service.loadingUpdated.subscribe(\r\n      (loading: any) => {\r\n        this.loading = this.service.get();\r\n      }\r\n    );\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/loading/loading.component.ts","import {NgModule}           from '@angular/core';\r\nimport {CommonModule}       from '@angular/common';\r\nimport {LoadingComponent}   from './loading.component';\r\nimport {LoadingService} from './loading.service';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  declarations: [\r\n    LoadingComponent\r\n  ],\r\n  exports: [\r\n    LoadingComponent\r\n  ],\r\n  providers: [\r\n    LoadingService\r\n  ]\r\n})\r\n\r\nexport class LoadingModule {\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/loading/loading.module.ts","import {EventEmitter} from '@angular/core';\r\n\r\nexport class LoadingService {\r\n\r\n  loading: boolean;\r\n  loadingUpdated: EventEmitter<any> = new EventEmitter();\r\n\r\n  set(loading: any) {\r\n    this.loading = loading;\r\n    this.loadingUpdated.emit(this.loading);\r\n  }\r\n\r\n  get() {\r\n    return this.loading;\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/loading/loading.service.ts","import {Subject} from 'rxjs/Rx';\r\n\r\nexport class LoginPopupService{\r\n  show:Subject<boolean> = new Subject();\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/login/login-popup.service.ts","module.exports = \"<div *ngIf=\\\"isVisible\\\" class=\\\"popup-container\\\">\\r\\n  <div class=\\\"popup-close\\\" (click)=\\\"isVisible=false\\\"></div>\\r\\n  <div class=\\\"popup-content\\\">\\r\\n    <div id=\\\"loginContent\\\">\\r\\n      <span class=\\\"close-button\\\" (click)=\\\"isVisible=false\\\"></span>\\r\\n        <button *ngIf=\\\"globals.rules.facebookLogin\\\" class=\\\"facebook_login_btn\\\" (click)=\\\"facebookLogin()\\\">{{globals.strings.LOGIN_SCREEN_LOGIN_WITH_FACEBOOK}}</button>\\r\\n\\r\\n      <div *ngIf=\\\"globals.nbrOfLoginProviders > 1\\\" class=\\\"styled-select semi-square\\\">\\r\\n\\r\\n        <select>\\r\\n          <option *ngFor=\\\"let provider of globals.settings.user_configurations.authentication_providers\\\">{{provider.provider}}</option>\\r\\n        </select>\\r\\n\\r\\n      </div>\\r\\n\\r\\n        <p class=\\\"popup-title\\\">{{globals.strings.LOGIN_SCREEN_ENTER_YOUR_CREDENTIALS}}</p>\\r\\n\\r\\n      <form id=\\\"loginFrm\\\">\\r\\n        <input [(ngModel)]=\\\"email\\\" type=\\\"email\\\" name=\\\"email\\\" id=\\\"email\\\" placeholder=\\\"{{globals.strings.LOGIN_SCREEN_USERNAME}}\\\">\\r\\n        <div class=\\\"loginPassword\\\">\\r\\n          <span class=\\\"fa\\\" [ngClass]=\\\"{'fa-eye-slash': showPassword, 'fa-eye': !showPassword}\\\" (click)=\\\"toggleEye()\\\"></span>\\r\\n          <input [(ngModel)]=\\\"password\\\" type=\\\"{{showPassword ? 'text' : 'password'}}\\\" name=\\\"password\\\" id=\\\"password\\\" placeholder=\\\"{{globals.strings.LOGIN_SCREEN_PASSWORD}}\\\">\\r\\n        </div>\\r\\n        <label id=\\\"id3-keepSigned\\\" for=\\\"keepSignedOption\\\"><input type=\\\"checkbox\\\" class=\\\"keepSignedCheckBox\\\" name=\\\"keepSignedOption\\\" id=\\\"keepSignedOption\\\"  aria-labelledby=\\\"id3-keepSigned\\\" aria-describedby=\\\"id3\\\" (click)=\\\"keepLoginData=!keepLoginData\\\"><span>{{globals.strings.LOGIN_SCREEN_KEEP_ME_SIGNED_IN}}</span></label>\\r\\n        <div class=\\\"actionBtnWrapper\\\">\\r\\n          <button (click)=\\\"providerLogin()\\\" class=\\\"pressBtn\\\">{{globals.strings.LOGIN_SCREEN_LOGIN}}</button>\\r\\n        </div>\\r\\n      </form>\\r\\n\\r\\n      <div class=\\\"actionBtnWrapper\\\">\\r\\n          <button *ngIf=\\\"globals.rules.register\\\" class=\\\"pressBtn\\\" (click)=\\\"showRegister()\\\" [disabled]=\\\"false\\\">{{globals.strings.SETTINGS_SCREEN_REGISTER}}</button>\\r\\n      </div>\\r\\n\\r\\n      <div>\\r\\n        <p><a id=\\\"forgotPassword\\\" (click)=\\\"forgotPassword()\\\">{{globals.strings.LOGIN_SCREEN_FORGOT_PASSWORD}}</a></p>\\r\\n        <p><a id=\\\"registerNewUser\\\" (click)=\\\"registerNewUser()\\\">{{globals.strings.LOGIN_SCREEN_DONT_HAVE_ACCOUNT}}</a></p>\\r\\n      </div>\\r\\n\\r\\n      <div *ngIf=\\\"errorMsg!==null\\\" class=\\\"errorMsgs\\\" @fadeInAnimation>{{errorMsg}}</div>\\r\\n\\r\\n      </div>\\r\\n    </div>\\r\\n</div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/login/login.component.html\n// module id = ./src/app/login/login.component.html\n// module chunks = main","import {AfterViewInit, Component, OnInit} from '@angular/core';\r\nimport {GlobalsService} from '../globals.service';\r\nimport {LoginPopupService} from './login-popup.service';\r\n/*import {FacebookService, LoginResponse} from \"ngx-facebook\";*/\r\nimport {HttpClient} from \"@angular/common/http\";\r\nimport { SessionsService } from \"../../app/sessions/sessions.service\";\r\n\r\n// import fade in animation\r\nimport { fadeInAnimation } from '../_animations/index';\r\nimport {LoginService} from \"./login.service\";\r\nimport swal from 'sweetalert2';\r\nimport {Router} from '@angular/router';\r\nimport {SubscriptionsService} from \"../subscriptions/subscriptions.service\";\r\nimport {ProfileSubscriptions} from \"../models/profile-subscriptions\";\r\nimport {RegisterPopupService} from \"../register/register-popup.service\";\r\ndeclare var $:any;\r\n\r\n\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.component.html',\r\n  // make fade in animation available to this component\r\n  animations: [fadeInAnimation]\r\n})\r\n\r\nexport class LoginComponent implements OnInit,  AfterViewInit {\r\n\r\n  isVisible: boolean = false;\r\n  showPassword: boolean = false;\r\n  email: string;    // when doing social_login it will be equal to username\r\n  password: string;\r\n  errorMsg: string = null;\r\n  keepLoginData: boolean = false;\r\n\r\n  finishedLogIn: boolean = false;               // Flag indicating whether the login process fully finished\r\n  profileSubscriptions: ProfileSubscriptions;\r\n  selectedProvider: any;\r\n\r\n  constructor(\r\n    private http: HttpClient,\r\n    public globals: GlobalsService,\r\n    private loginService: LoginService,\r\n    private popup: LoginPopupService,\r\n    /*private fb: FacebookService,*/\r\n    private router: Router,\r\n    private subscriptionsService: SubscriptionsService,\r\n    private register: RegisterPopupService,\r\n    private sessions: SessionsService\r\n  ) {\r\n    /*fb.init(this.globals.fbParams);*/\r\n    popup.show.subscribe((val: boolean) => this.showPopup());\r\n\r\n    // Subscribe to the service's subjects\r\n    this.loginService.finishedLogin.subscribe(value => {\r\n      this.finishedLogIn = value;\r\n      // If we're done with the login process, close the modal!\r\n      if (this.finishedLogIn === true) {\r\n        this.isVisible = false;\r\n        // Save the login into local storage if required\r\n        if (this.keepLoginData) {\r\n          this.saveLogin();\r\n        }\r\n\r\n        // Get the current profile's subscriptions\r\n        // @MOD (2018-03-19) check if the rules allow for subscriptions\r\n        if (this.globals.rules.subscriptions)\r\n          this.subscriptionsService.getProfileSubscriptions();\r\n      }\r\n    });\r\n\r\n    /* Subscribe to error messages coming from the login service */\r\n    this.loginService.errorMsg.subscribe(value => {\r\n      //this.errorMsg = value.message; // TEMPLATE\r\n      this.errorMsg = value.error.description; // TVCABLE\r\n\r\n      // Check if the number of sessions has already been used up\r\n      //if (value.status === 428) { // TEMPLATE\r\n      if (value.status=== 428) { // TVCABLE\r\n        // Get the short lived auth token\r\n        this.globals.tempAuthToken = value.error.auth_token;\r\n        this.globals.accountToken = value.error.account_token;\r\n\r\n        this.globals.currUsername=this.email;\r\n        this.globals.currPassword=this.password;\r\n\r\n        // Hide the login modal first\r\n        this.isVisible = false;\r\n\r\n        swal({\r\n            title: '<span style=\"color: #fff;\">'+this.globals.strings.LOGIN_FAILED_REMOVE_DEVICE+'</span>',\r\n            type: 'error',\r\n            showCancelButton: true,\r\n            confirmButtonText: this.globals.strings.BUTTON_REMOVE,\r\n            cancelButtonText: this.globals.strings.BUTTON_CANCEL,\r\n            background: '#2a292a'\r\n          }\r\n        ).then(result => {\r\n          if (result.value) {\r\n            this.router.navigate(['sessions']);\r\n          }\r\n        });\r\n\r\n      }\r\n    });\r\n\r\n\r\n    /* Subscribe to the profile's subscriptions coming from the subscriptions service */\r\n    this.subscriptionsService.profileSubscriptions.subscribe(value => {\r\n      this.profileSubscriptions = value;\r\n\r\n      let hasSubscriptions = false;\r\n      if (this.profileSubscriptions.hasOwnProperty('subscriptions')) {\r\n        if (this.profileSubscriptions.subscriptions.length > 0) {\r\n          hasSubscriptions = true;\r\n          this.globals.hasActiveSubscription = true;\r\n        }\r\n      }\r\n\r\n      if (!hasSubscriptions) {\r\n        this.globals.hasActiveSubscription = false;\r\n        swal({\r\n            html: '<span style=\"color: #fff;\">'+this.globals.strings.PROFILE_NO_ACTIVE_SUBSCRIPTIONS+'</span>',\r\n            type: 'warning',\r\n            confirmButtonText: this.globals.strings.BTN_SUBSCRIBE,\r\n            background: '#2a292a'\r\n          }\r\n        ).then(result => {\r\n          if (result.value) {\r\n            this.router.navigate(['subscribe']);\r\n          }\r\n        });\r\n      }\r\n    });\r\n\r\n\r\n  }\r\n\r\n  ngOnInit() {\r\n\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    $('.selectpicker').selectpicker();\r\n  }\r\n\r\n  showPopup() {\r\n    this.isVisible = true;\r\n    this.errorMsg = null;\r\n  }\r\n\r\n  toggleEye() {\r\n    this.showPassword = !this.showPassword;\r\n  }\r\n\r\n  /**\r\n   * Regular login using user email and password\r\n   */\r\n  login() {\r\n\r\n    // Remember to clear the temporary token upon login...\r\n    this.globals.tempAuthToken = null;\r\n\r\n    // Clear error message div\r\n    this.errorMsg = null;\r\n\r\n    this.loginService.login(this.email, this.password);\r\n\r\n  }\r\n\r\n  /**\r\n   * Provider login using the ID number of the user\r\n   */\r\n  providerLogin() {\r\n\r\n    // Remember to clear the temporary token upon login...\r\n    this.globals.tempAuthToken = null;\r\n\r\n    // Clear error message div\r\n    this.errorMsg = null;\r\n\r\n    // this.loginService.provider_login(\"tvcable\",this.globals.endpoints.socialLogin,this.email,this.password,null,null);\r\n    this.loginService.provider_login(\"tvacms\",this.globals.endpoints.login,this.email,this.password,null,null);\r\n  }\r\n\r\n  /**\r\n   Save login data (account token)\r\n   */\r\n  saveLogin() {\r\n    if (this.globals.accountToken!==null) {\r\n      localStorage.setItem(this.globals.localStorageKeyPrefix+'ACCTKN', this.globals.accountToken);\r\n    }\r\n  }\r\n\r\n\r\n  facebookLogin(): void {\r\n/*    this.fb.login()\r\n      .then((response: LoginResponse) => {\r\n        console.log('Logged in to facebook', response);\r\n        // TODO: call api with facebook's token (/account/social_login)\r\n        // Note: disregard email, password and token_secret (the latter only being used with twitter)\r\n      })\r\n      .catch(e => console.error('Error logging in'));*/\r\n  }\r\n\r\n  /*\r\n   Log/Signout functionality to be implemented in a different place... (in profiles drawer)\r\n   */\r\n\r\n\r\n  forgotPassword() {\r\n    //window.location.href='https://www.mitvcable.com/recuperar';\r\n    window.open('https://www.mitvcable.com/recuperar', '_blank');\r\n  }\r\n\r\n  registerNewUser() {\r\n    //window.location.href='https://www.mitvcable.com/registro';\r\n    window.open('https://www.mitvcable.com/registro', '_blank');\r\n  }\r\n\r\n  showRegister() {\r\n    this.register.show.next(true);\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/login/login.component.ts","import {NgModule}           from '@angular/core';\r\nimport {CommonModule}       from '@angular/common';\r\nimport {LoginComponent}   from './login.component';\r\nimport {LoginService} from './login.service';\r\nimport {RouterModule} from '@angular/router';\r\n/*import { FacebookService } from 'ngx-facebook';*/\r\nimport { SubscriptionsService} from \"../subscriptions/subscriptions.service\";\r\nimport { FormsModule } from '@angular/forms';\r\n\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule,\r\n    FormsModule\r\n  ],\r\n  declarations: [\r\n    LoginComponent\r\n  ],\r\n  exports: [\r\n    LoginComponent\r\n  ],\r\n  providers: [\r\n    LoginService,\r\n    /*FacebookService,*/\r\n    SubscriptionsService\r\n ]\r\n})\r\n\r\nexport class LoginModule {\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/login/login.module.ts","import { Injectable } from '@angular/core';\r\nimport {\r\n  APIDataResponse, APILoginSuccess, APIProviderLoginSuccess, APISuccessResponse,\r\n  GlobalsService\r\n} from '../globals.service';\r\nimport 'rxjs/add/operator/catch';\r\nimport 'rxjs/add/operator/map';\r\nimport {Subject} from \"rxjs/Subject\";\r\nimport {HttpClient, HttpHeaders, HttpParams} from \"@angular/common/http\";\r\n\r\n@Injectable()\r\nexport class LoginService {\r\n\r\n  public finishedLogin : Subject<boolean> = new Subject<boolean>();\r\n  public finishedLogout: Subject<boolean> = new Subject<boolean>();\r\n  public errorMsg : Subject<any> = new Subject<any>();\r\n\r\n  constructor(\r\n    private http: HttpClient,\r\n    private globals: GlobalsService\r\n  ) {\r\n    // Initialize Subjects to default values\r\n    this.finishedLogin.next(false);\r\n    this.errorMsg.next(null);\r\n\r\n\r\n  }\r\n\r\n  /**\r\n   * Login using providers\r\n   * @Notes: first stage only tvcable, with regular username/password login\r\n   *\r\n   * @param {string} grant_type - type of social login (twitter_token/facebook_token/tvcable)\r\n   * @param {string} auth_endpoint\r\n   * @param {string} username\r\n   * @param {string} password\r\n   * @param {string} social_token\r\n   * @param {string} token_secret - secret token need twitter login\r\n   */\r\n  provider_login(grant_type: string, auth_endpoint: string, username: string, password: string, social_token: string, token_secret: string ) {\r\n    // check if a DUID is already in local storage. If not generate a new one and store it.\r\n    var duid = localStorage.getItem(this.globals.localStorageKeyPrefix+'DUID');\r\n\r\n    if (duid === '' || duid === null) {\r\n      duid = this.generateDUID();\r\n      localStorage.setItem(this.globals.localStorageKeyPrefix+'DUID', duid);\r\n    }\r\n\r\n    const headers = new HttpHeaders()\r\n      .set('Accept-Language', this.globals.settings.default_language);\r\n\r\n    const body = {\r\n      email: username,\r\n      password: password,\r\n      grant_type: grant_type,\r\n      social_token: social_token,\r\n      token_secret: token_secret,\r\n      username: username,\r\n      device_type: 'web',\r\n      duid: duid\r\n    };\r\n\r\n    this.http.post<APIProviderLoginSuccess>(auth_endpoint, body, {headers: headers})\r\n      .toPromise()\r\n      .then( res => {\r\n        this.globals.userLoggedIn = true;\r\n        this.globals.accountToken = res.account_token;\r\n        this.globals.authToken = res.auth_token;\r\n        this.globals.authTokenExpiration = res.auth_expires;\r\n        this.errorMsg = null;\r\n\r\n          // Store the auth_token in local storage for future use (i.e. recover session after refresh or\r\n          // auto-login between sessions)\r\n          localStorage.setItem(this.globals.localStorageKeyPrefix+'AUTHTOKEN', res.auth_token);\r\n\r\n          // Also store the account token (needed by a number of API calls)\r\n          localStorage.setItem(this.globals.localStorageKeyPrefix+'ACCTOKEN', res.account_token);\r\n\r\n        // Step 2: Get the profiles\r\n        let headers = new HttpHeaders()\r\n          .set('Accept-Language', this.globals.settings.default_language)\r\n          .set('Authorization', 'bearer '+this.globals.authToken);\r\n        let params = new HttpParams()\r\n          .set('account_token', this.globals.accountToken)\r\n          .set('device_type', 'web');\r\n\r\n        let endpoint = this.globals.endpoints.profiles.replace('{account_token}', this.globals.accountToken);\r\n\r\n        this.http.get<APIDataResponse>(endpoint, {headers: headers, params: params})\r\n          .toPromise()\r\n          .then(\r\n            res => {\r\n              this.globals.userProfiles = res.data;\r\n\r\n              // Check if the user has already chosen a profile\r\n              let currProfileToken = localStorage.getItem(this.globals.localStorageKeyPrefix+'CURRPROF');\r\n              if (currProfileToken!=='' && currProfileToken!==null) {\r\n                // Go through the profiles list and get the current one's token\r\n                let found = false;\r\n                this.globals.userProfiles.forEach((element) => {\r\n                  if (element.token === currProfileToken) {\r\n                    found = true;\r\n                    this.globals.accountProfileToken = currProfileToken;\r\n                    // Step 3: With the profile token get the user's details\r\n                    this.getProfile(currProfileToken);\r\n                  }\r\n                });\r\n                // No match was found for the profile token in local storage; default to first\r\n                if (!found) {\r\n                  currProfileToken = this.globals.userProfiles[0].token;\r\n                  this.globals.accountProfileToken = currProfileToken;\r\n                  // Store the 1st one as the current profile\r\n                  localStorage.setItem(this.globals.localStorageKeyPrefix+'CURRPROF', currProfileToken);\r\n\r\n                  // Step 3: With the profile token get the user's details\r\n                  this.getProfile(currProfileToken);\r\n                }\r\n              }\r\n              else {\r\n                currProfileToken = this.globals.userProfiles[0].token;\r\n                this.globals.accountProfileToken = currProfileToken;\r\n                // Store the 1st one as the current profile\r\n                localStorage.setItem(this.globals.localStorageKeyPrefix+'CURRPROF', currProfileToken);\r\n\r\n                // Step 3: With the profile token get the user's details\r\n                this.getProfile(currProfileToken);\r\n              }\r\n\r\n              // Emit finished login to close the login modal and perform other tasks\r\n              this.finishedLogin.next(true);\r\n            }\r\n          )\r\n          .catch(function (error) {\r\n            console.error(error);\r\n          });\r\n\r\n      })\r\n      .catch(result => {\r\n        console.error(result);\r\n        this.errorMsg.next(result);\r\n      });\r\n\r\n  }\r\n\r\n  /**\r\n   * Regular login using email and password\r\n   */\r\n  login(email: string, password: string) {\r\n\r\n    // check if a DUID is already in local storage. If not generate a new one and store it.\r\n    var duid = localStorage.getItem(this.globals.localStorageKeyPrefix+'DUID');\r\n\r\n    if (duid === '' || duid === null) {\r\n      duid = this.generateDUID();\r\n      localStorage.setItem(this.globals.localStorageKeyPrefix+'DUID', duid);\r\n    }\r\n\r\n    let headers = new HttpHeaders()\r\n      .set('Accept-Language', this.globals.settings.default_language);\r\n\r\n    let params = {\r\n      device_type: 'web',\r\n      username: email,\r\n      email: email,\r\n      password: password,\r\n      duid: duid\r\n    };\r\n\r\n    // Login the user and get his/her profiles\r\n    // Damn this is thick ... 3 calls until we get the user's details ...\r\n    // Step 1: Login\r\n    this.http.post<APILoginSuccess>(this.globals.endpoints.login, params, {headers: headers})\r\n      .toPromise()\r\n      .then(res => {\r\n        //console.log(res);\r\n        this.globals.userLoggedIn = true;\r\n        this.globals.accountToken = res.account_token;\r\n        this.globals.authToken = res.auth_token;\r\n        this.globals.authTokenExpiration = res.auth_expires;\r\n        this.errorMsg = null;\r\n\r\n        // Store the auth_token in local storage for future use (i.e. recover session after refresh or\r\n        // auto-login between sessions)\r\n        localStorage.setItem(this.globals.localStorageKeyPrefix+'AUTHTOKEN', res.auth_token);\r\n\r\n        // Also store the account token (needed by a number of API calls)\r\n        localStorage.setItem(this.globals.localStorageKeyPrefix+'ACCTOKEN', res.account_token);\r\n\r\n\r\n        // Step 2: Get the profiles\r\n        let headers = new HttpHeaders()\r\n          .set('Accept-Language', this.globals.settings.default_language)\r\n          .set('Authorization', 'bearer '+this.globals.authToken);\r\n        let params = new HttpParams()\r\n          .set('account_token', this.globals.accountToken)\r\n          .set('device_type', 'web');\r\n\r\n        let endpoint = this.globals.endpoints.profiles.replace('{account_token}', this.globals.accountToken);\r\n\r\n        this.http.get<APIDataResponse>(endpoint, {headers: headers, params: params})\r\n          .toPromise()\r\n          .then(\r\n            res => {\r\n              this.globals.userProfiles = res.data;\r\n\r\n              // Check if the user has already chosen a profile\r\n              let currProfileToken = localStorage.getItem(this.globals.localStorageKeyPrefix+'CURRPROF');\r\n              if (currProfileToken!=='' && currProfileToken!==null) {\r\n                // Go through the profiles list and get the current one's token\r\n                let found = false;\r\n                this.globals.userProfiles.forEach((element) => {\r\n                  if (element.token === currProfileToken) {\r\n                    found = true;\r\n                    this.globals.accountProfileToken = currProfileToken;\r\n                    // Step 3: With the profile token get the user's details\r\n                    this.getProfile(currProfileToken);\r\n                  }\r\n                });\r\n                // No match was found for the profile token in local storage; default to first\r\n                if (!found) {\r\n                  currProfileToken = this.globals.userProfiles[0].token;\r\n                  this.globals.accountProfileToken = currProfileToken;\r\n                  // Store the 1st one as the current profile\r\n                  localStorage.setItem(this.globals.localStorageKeyPrefix+'CURRPROF', currProfileToken);\r\n\r\n                  // Step 3: With the profile token get the user's details\r\n                  this.getProfile(currProfileToken);\r\n                }\r\n              }\r\n              else {\r\n                currProfileToken = this.globals.userProfiles[0].token;\r\n                this.globals.accountProfileToken = currProfileToken;\r\n                // Store the 1st one as the current profile\r\n                localStorage.setItem(this.globals.localStorageKeyPrefix+'CURRPROF', currProfileToken);\r\n\r\n                // Step 3: With the profile token get the user's details\r\n                this.getProfile(currProfileToken);\r\n              }\r\n\r\n              // Emit finished login to close the login modal and perform other tasks\r\n              this.finishedLogin.next(true);\r\n            }\r\n          )\r\n          .catch(function (error) {\r\n            console.error(error);\r\n          });\r\n      })\r\n      .catch(result => {\r\n        console.error(result.message);\r\n        this.errorMsg.next(result);\r\n      });\r\n  }\r\n\r\n  /**\r\n   * Logout a user.\r\n   * This also serves for terminating a session on a different device (by using its Authorization token )\r\n   * @Notes: account token is already in the path. (see globals.service.ts)\r\n   */\r\n  logout() {\r\n    let headers = new HttpHeaders()\r\n      .set('Authorization', 'Bearer '+this.globals.authToken);\r\n\r\n    let params = new HttpParams()\r\n      .set('device_type', 'web');\r\n\r\n    this.http.delete<APISuccessResponse>(this.globals.endpoints.logout, {headers: headers, params: params})\r\n      .toPromise()\r\n      .then(res => {\r\n        this.finishedLogout.next(true);\r\n        this.globals.currAvatar = this.globals.defaultAvatar;\r\n\r\n          localStorage.removeItem(this.globals.localStorageKeyPrefix+'CURRPROF');\r\n          localStorage.removeItem(this.globals.localStorageKeyPrefix+'AUTHTOKEN');\r\n          localStorage.removeItem(this.globals.localStorageKeyPrefix+'ACCTOKEN');\r\n          this.globals.currAvatar = 'assets/ic-default-avatar.png'; // default avatar\r\n          this.globals.defaultAvatar = 'assets/ic-default-avatar.png';\r\n\r\n      })\r\n      .catch(function (error) {\r\n        console.error(error);\r\n      });\r\n  }\r\n\r\n\r\n  /**\r\n   * Get a profile's details\r\n   * @param {string} token\r\n   * @returns {boolean}\r\n   */\r\n  getProfile(token: string): boolean {\r\n    var success: boolean = false;\r\n    let headers = new HttpHeaders()\r\n      .set('Authorization', 'bearer '+this.globals.authToken);\r\n\r\n    let params = new HttpParams()\r\n      .set('device_type', 'web');\r\n\r\n    this.http.get<APIDataResponse>(this.globals.endpoints.profile + token, {headers: headers, params: params})\r\n      .toPromise()\r\n      .then(res => {\r\n        this.globals.currProfile = res.data;\r\n        // Instantly update the user's current avatar on screen\r\n        if (this.globals.currProfile.profile_picture.url !== '')\r\n          this.globals.currAvatar = this.globals.currProfile.profile_picture.url;\r\n\r\n        success = true;\r\n      })\r\n      .catch(function (error) {\r\n        console.error(error);\r\n      });\r\n    return success;\r\n  }\r\n\r\n  /**\r\n   * Generate Device Unique Id\r\n   * @returns {string} - '00000000-0000-0000-0000-000000000000'\r\n   */\r\n  generateDUID() {\r\n    function _p8(s) {\r\n      var p = (Math.random().toString(16)+\"000000000\").substr(2,8);\r\n      return s ? \"-\" + p.substr(0,4) + \"-\" + p.substr(4,4) : p ;\r\n    }\r\n    return _p8(false) + _p8(true) + _p8(true) + _p8(false);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/login/login.service.ts","module.exports = \"<app-screen *ngIf=\\\"data?.menu_option.option_type=='screen'\\\" [data]=\\\"data\\\"></app-screen>\\r\\n\\r\\n<app-guide *ngIf=\\\"data?.menu_option.option_type=='epg'\\\"></app-guide>\\r\\n\\r\\n<app-settings *ngIf=\\\"data?.menu_option.option_type=='custom' && data?.menu_option.custom_value=='settings'\\\"></app-settings>\\r\\n\\r\\n<app-live-tv-preview *ngIf=\\\"data?.menu_option.option_type=='liveTV'\\\"></app-live-tv-preview>\\r\\n\\r\\n\\r\\n<div *ngIf=\\\"globals.userLoggedIn && data?.menu_option.option_type=='my_stuff' && data?.menu_option.name==globals.strings.CONTENT_GROUP_BTN_FAVOURITES\\\">\\r\\n    <h1>FAVOURITES CUSTOM MENU TYPE</h1>\\r\\n</div>\\r\\n\\r\\n\\r\\n<!-- <app-live-tv-preview *ngIf=\\\"data?.menu_option.option_type=='livetv ' && data?.menu_option.custom_value=='preview '\\\"></app-live-tv-preview> -->\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/menu-item/menu-item.component.html\n// module id = ./src/app/menu-item/menu-item.component.html\n// module chunks = main","import {Component, OnInit} from '@angular/core';\r\nimport {ActivatedRoute} from '@angular/router';\r\nimport {MenuItem} from '../models/menu-item';\r\nimport {MenuItemService} from './menu-item.service';\r\nimport {GlobalsService} from '../globals.service';\r\n\r\n\r\n@Component({\r\n  selector: 'app-menu-item',\r\n  templateUrl: './menu-item.component.html'\r\n})\r\n\r\nexport class MenuItemComponent implements OnInit {\r\n\r\n  data: MenuItem;\r\n\r\n  constructor(\r\n              private service: MenuItemService,\r\n              private route: ActivatedRoute,\r\n              public globals: GlobalsService\r\n  ) {\r\n    // Ensure that menuitems data automatically updates\r\n    this.service.menuItem.subscribe(value => {\r\n      this.data = value;\r\n      this.getMenuItem();\r\n    });\r\n\r\n    // Update menuItem\r\n    this.route.params.subscribe(params => {\r\n      try {\r\n          this.service.getMenuItemById(this.route.snapshot.params['id'] || this.globals.menu[0].id);\r\n      }\r\n      catch {      }\r\n\r\n    });\r\n  }\r\n\r\n  ngOnInit() {  }\r\n\r\n  getMenuItem() {\r\n    let menuItem=this.data;\r\n    this.globals.pageTitle = this.data.menu_option.name;\r\n    this.globals.pageTitleSlug = this.data.menu_option.slug;\r\n    if(this.data.menu_option.option_type=='screen') {\r\n      for (let i in menuItem.screen.blocks) {\r\n        menuItem.screen.blocks[i].selected = menuItem.screen.blocks[i].block_type != 'tab' && menuItem.screen.blocks[i].block_type != 'combobox';\r\n      }\r\n      this.data = menuItem;\r\n    }\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/menu-item/menu-item.component.ts","import {NgModule}           from '@angular/core';\r\nimport {CommonModule}       from '@angular/common';\r\nimport {MenuItemComponent}   from './menu-item.component';\r\nimport {MenuItemService} from './menu-item.service';\r\nimport {MenuItemResolve} from './menu-item.resolve';\r\nimport {CarouselModule} from '../carousel/carousel.module';\r\nimport {ListingModule} from '../listing/listing.module';\r\nimport {GuideModule} from '../guide/guide.module';\r\nimport {ScreenModule} from '../screen/screen.module';\r\nimport {SettingsModule} from '../settings/settings.module';\r\nimport {LiveTvPreviewModule} from '../live-tv-preview/live-tv-preview.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    CarouselModule,\r\n    ListingModule,\r\n    GuideModule,\r\n    ScreenModule,\r\n    SettingsModule,\r\n    LiveTvPreviewModule\r\n  ],\r\n  declarations: [\r\n    MenuItemComponent\r\n  ],\r\n  exports: [\r\n    MenuItemComponent\r\n  ],\r\n  providers: [\r\n    MenuItemService,\r\n    MenuItemResolve\r\n  ]\r\n})\r\n\r\nexport class MenuItemModule {\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/menu-item/menu-item.module.ts","import { Injectable } from '@angular/core';\r\nimport { Resolve, ActivatedRouteSnapshot } from '@angular/router';\r\nimport { MenuItemService } from './menu-item.service';\r\n\r\n@Injectable()\r\nexport class MenuItemResolve implements Resolve<any> {\r\n\r\n  constructor(private service: MenuItemService) {}\r\n\r\n  resolve(route: ActivatedRouteSnapshot) {\r\n    return this.service.getMenuItemById(route.params['id']);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/menu-item/menu-item.resolve.ts","import { Injectable } from '@angular/core';\r\nimport {APIDataResponse, GlobalsService} from '../globals.service';\r\n//import 'rxjs/add/operator/catch';\r\n//import 'rxjs/add/operator/map';\r\nimport {HttpClient, HttpHeaders, HttpParams} from \"@angular/common/http\";\r\nimport {Subject} from \"rxjs/Subject\";\r\n\r\n@Injectable()\r\nexport class MenuItemService {\r\n\r\n  public menuItem: Subject<any> = new Subject<any>();\r\n\r\n  constructor(\r\n    private http: HttpClient,\r\n    private globals: GlobalsService\r\n  ) {}\r\n\r\n  getMenuItemById(optionId: string) {\r\n    //API path\r\n    let headers = new HttpHeaders()\r\n      .set('Accept-Language', this.globals.settings.default_language);\r\n\r\n    //API query\r\n    let params = new HttpParams()\r\n      .set('device_type', 'web')\r\n      .set('device_layout', 'web');\r\n\r\n    //API path\r\n    let endpoint = this.globals.endpoints.menuOption\r\n      .replace('{menu_id}',this.globals.menuId)\r\n      .replace('{option_id}', optionId);\r\n\r\n    return this.http.get<APIDataResponse>(endpoint, {headers: headers, params: params})\r\n      .toPromise()\r\n      .then(res => {\r\n        this.menuItem.next(res.data);\r\n      })\r\n      .catch(function (error) {\r\n        console.error(error);\r\n      });\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/menu-item/menu-item.service.ts","module.exports = \"<!-- MOBILE DESIGN -->\\r\\n<div id=\\\"responsive-header\\\" [class.open]=\\\"menuOpen\\\">\\r\\n  <p>{{globals.pageTitle}}</p>\\r\\n</div>\\r\\n<!-- DESKTOP VERSION TEMPLATE -->\\r\\n<div *ngIf=\\\"!menuCustom\\\" id=\\\"header\\\">\\r\\n  <div id=\\\"menu-container\\\">\\r\\n\\r\\n    <div id=\\\"menu\\\" [class.open]=\\\"menuOpen\\\">\\r\\n\\r\\n      <a routerLink=\\\"\\\" class=\\\"logo-big\\\"><img src=\\\"{{globals.settings.logo_image.url}}\\\"></a>\\r\\n\\r\\n      <div id=\\\"hamburger-icon\\\" (click)=\\\"toggleMenu()\\\">\\r\\n        <div id=\\\"nav-icon3\\\">\\r\\n          <span></span>\\r\\n          <span></span>\\r\\n          <span></span>\\r\\n          <span></span>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <nav>\\r\\n        <ul>\\r\\n          <li *ngFor=\\\"let el of data\\\" [class.selected]=\\\"isFocused(el.name)\\\">\\r\\n            <a routerLink=\\\"/{{el.slug}}\\\" (click)=\\\"toggleMenu()\\\"><img src=\\\"{{el.image.url}}\\\" *ngIf=\\\"el.image.url\\\">{{el.name}}</a>\\r\\n          </li>\\r\\n        </ul>\\r\\n      </nav>\\r\\n\\r\\n      <a routerLink=\\\"\\\" class=\\\"logo-small\\\"><img src=\\\"assets/logo.png\\\"></a>\\r\\n\\r\\n      <div class=\\\"user-area\\\">\\r\\n        <a id=\\\"user-avatar\\\"><img src=\\\"{{globals.currAvatar}}\\\"></a>\\r\\n        <!-- Show login and register buttons if user not logged in -->\\r\\n        <a *ngIf=\\\"!globals.userLoggedIn\\\" id=\\\"loginBtn\\\" (click)=\\\"showLogin()\\\">{{globals.strings.LOGIN_SCREEN_LOGIN}}</a>\\r\\n        <a *ngIf=\\\"!globals.userLoggedIn\\\" id=\\\"registerBtn\\\" (click)=\\\"showRegister()\\\">{{globals.strings.SETTINGS_SCREEN_REGISTER}}</a>\\r\\n        <!-- Show user name and email if user logged in and profile info successfully retrieved -->\\r\\n        <div id=\\\"userDetails\\\" *ngIf=\\\"globals.accountProfileToken!==null\\\" (click)=\\\"toggleProfilesDrawer()\\\">\\r\\n          <span id=\\\"userName\\\">{{globals.currProfile?.name}}</span>\\r\\n          <span id=\\\"userEmail\\\">\\r\\n            {{globals.currProfile?.email}}<li *ngIf=\\\"globals.userProfiles?.length > 1\\\" id=\\\"profilesCaret\\\" class=\\\"fa fa-caret-down\\\" aria-hidden=\\\"true\\\" #profilesCaret></li>\\r\\n          </span>\\r\\n\\r\\n          <profile-drawer></profile-drawer>\\r\\n\\r\\n\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"searchTools\\\">\\r\\n          <form (ngSubmit)=\\\"search()\\\">\\r\\n            <a><span class=\\\"fa fa-search\\\"></span></a>\\r\\n            <input type=\\\"text\\\" [(ngModel)]=\\\"searchTerm\\\" name=\\\"searchTerm\\\">\\r\\n          </form>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"social-login social\\\">\\r\\n        <a id=\\\"facebookLogin\\\" class=\\\"fa fa-facebook\\\"></a>\\r\\n        <a id=\\\"twitterLogin\\\" class=\\\"fa fa-twitter\\\"></a>\\r\\n        <a id=\\\"instagramLogin\\\" class=\\\"fa fa-instagram\\\"></a>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<div id=\\\"cover-content\\\" *ngIf=\\\"menuOpen\\\" (click)=\\\"toggleMenu()\\\"></div>\\r\\n\\r\\n\\r\\n\\r\\n<!-- CUSTOMER SPECIFIC MENU AREA -->\\r\\n<div  *ngIf=\\\"menuCustom\\\" id=\\\"header-custom\\\">\\r\\n  <div id=\\\"menu-container-custom\\\">\\r\\n    <div id=\\\"menu-custom\\\" [class.open]=\\\"menuOpen\\\">\\r\\n\\r\\n\\r\\n      <!-- menu left area for logo -->\\r\\n      <div id=\\\"logo-area-custom\\\">\\r\\n        <a routerLink=\\\"\\\"><img class=\\\"img-responsive\\\" src=\\\"{{globals.settings.logo_image.url}}\\\"></a>\\r\\n      </div>\\r\\n\\r\\n\\r\\n      <!-- For low resolution screens < 768px -->\\r\\n      <div id=\\\"hamburger-icon\\\">\\r\\n        <a id=\\\"user-avatar\\\" (click)=\\\"showLogin()\\\"><img [src]=\\\"this.globals.currAvatar\\\" (error)=\\\"avatarImage=globals.API.slice(0,-4)+'uploads/placeholder/placeholder.png'\\\"></a>\\r\\n        <div id=\\\"nav-icon3\\\"  (click)=\\\"toggleMenu()\\\">\\r\\n          <span></span>\\r\\n          <span></span>\\r\\n          <span></span>\\r\\n          <span></span>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div [style.height]=\\\"winHeight\\\" class=\\\"lowResMenu\\\" [class.openlowResMenu]=\\\"menuOpen\\\">\\r\\n          <table class=\\\"lowResMenAvaTbl\\\">\\r\\n            <tr>\\r\\n              <td><a id=\\\"user-avatar\\\" (click)=\\\"showLogin()\\\"><img [src]=\\\"this.globals.currAvatar\\\" (error)=\\\"avatarImage=globals.API.slice(0,-4)+'uploads/placeholder/placeholder.png'\\\"></a></td>\\r\\n              <td>\\r\\n                <!-- Show user name and email if user logged in and profile info successfully retrieved -->\\r\\n                <div id=\\\"userDetails\\\" *ngIf=\\\"globals.accountProfileToken!==null\\\" (click)=\\\"toggleProfilesDrawer()\\\">\\r\\n                  <span id=\\\"userName\\\">{{globals.currProfile?.name}}</span><br>\\r\\n                  <span id=\\\"userEmail\\\">\\r\\n                    {{globals.currProfile?.email}}<li *ngIf=\\\"globals.userProfiles?.length > 1 && globals.rules.multipleProfiles\\\" id=\\\"profilesCaret\\\" class=\\\"fa fa-caret-down\\\" aria-hidden=\\\"true\\\" #profilesCaret></li>\\r\\n                  </span>\\r\\n                  <profile-drawer></profile-drawer>\\r\\n                </div>\\r\\n              </td>\\r\\n            </tr>\\r\\n          </table>\\r\\n        <ng-container *ngFor=\\\"let el of data\\\">\\r\\n          <li *ngIf=\\\"el.name!=globals.strings.CONTENT_GROUP_BTN_FAVOURITES || globals.userLoggedIn\\\" [class.selected]=\\\"isFocused(el.name)\\\">\\r\\n            <div class=\\\"routeItm\\\" (click)=\\\"actionMenu(el.slug)\\\"><img src=\\\"{{el.image.url}}\\\" *ngIf=\\\"el.image.url\\\">{{el.name}}</div>\\r\\n          </li>\\r\\n        </ng-container>\\r\\n        <div class=\\\"searchTools\\\">\\r\\n            <form (ngSubmit)=\\\"search()\\\">\\r\\n                <a><span class=\\\"fa fa-search\\\" (click)=\\\"search()\\\"></span></a>\\r\\n                <input type=\\\"text\\\" [(ngModel)]=\\\"searchTerm\\\" name=\\\"searchTerm\\\">\\r\\n            </form>\\r\\n        </div>\\r\\n        <div class=\\\"social\\\">\\r\\n            <a *ngIf=\\\"globals.rules.socialMediaFB\\\" id=\\\"facebookLogin\\\" class=\\\"fa fa-facebook\\\"></a>&nbsp;\\r\\n            <a *ngIf=\\\"globals.rules.socialMediaTwitter\\\" id=\\\"twitterLogin\\\" class=\\\"fa fa-twitter\\\"></a>&nbsp;\\r\\n            <a *ngIf=\\\"globals.rules.socialMediaInstagram\\\" id=\\\"instagramLogin\\\" class=\\\"fa fa-instagram\\\"></a>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <!-- For higher resolution screens >= 768px -->\\r\\n\\r\\n      <nav *ngIf=\\\"winWidth>=768\\\">\\r\\n        <ul>\\r\\n          <ng-container *ngFor=\\\"let el of data\\\">\\r\\n            <li *ngIf=\\\"el.name!=globals.strings.CONTENT_GROUP_BTN_FAVOURITES || globals.userLoggedIn\\\" [class.selected]=\\\"isFocused(el.name)\\\">\\r\\n              <div class=\\\"routeItm\\\" (click)=\\\"actionMenu(el.slug)\\\"><img src=\\\"{{el.image.url}}\\\" *ngIf=\\\"el.image.url\\\">{{el.name}}</div>\\r\\n            </li>\\r\\n          </ng-container>\\r\\n        </ul>\\r\\n      </nav>\\r\\n\\r\\n<!--\\r\\n      <table [style.width]=\\\"'100%'\\\" class=\\\"menuTbl\\\">\\r\\n      <td></td>\\r\\n      <td><app-carousel *ngIf=\\\"winWidth>=768\\\" [data]=\\\"menuList\\\" [isSeasons]=\\\"false\\\"></app-carousel></td> <!-- removed [typeCarousel]=\\\"seasonstypeCarousel\\\" (parentCallback)=\\\"detailsCallback($event[0],$event[1])\\\"\\r\\n      </table>\\r\\n-->\\r\\n\\r\\n      <div *ngIf=\\\"winWidth >= 768\\\" class=\\\"user-area-custom\\\">\\r\\n        <table class=\\\"TopRightLoginTbl\\\">\\r\\n          <tr>\\r\\n            <td>\\r\\n            </td>\\r\\n            <td>\\r\\n              <a id=\\\"user-avatar\\\"><img [src]=\\\"this.globals.currAvatar\\\" (error)=\\\"avatarImage=globals.API.slice(0,-4)+'uploads/placeholder/placeholder.png'\\\"></a>\\r\\n              <!-- Show login and register buttons if user not logged in -->\\r\\n              <a *ngIf=\\\"!globals.userLoggedIn\\\" id=\\\"loginBtn\\\" (click)=\\\"showLogin()\\\">{{globals.strings.LOGIN_SCREEN_LOGIN}}</a>\\r\\n              <!-- Show user name and email if user logged in and profile info successfully retrieved -->\\r\\n              <div id=\\\"userDetails\\\" *ngIf=\\\"globals.accountProfileToken!==null\\\" (click)=\\\"toggleProfilesDrawer()\\\">\\r\\n                <span id=\\\"userName\\\">{{globals.currProfile?.name}}</span>\\r\\n                <span id=\\\"userEmail\\\">\\r\\n                  {{globals.currProfile?.email}}<li *ngIf=\\\"globals.userProfiles?.length > 1 && globals.rules.multipleProfiles\\\" id=\\\"profilesCaret\\\" class=\\\"fa fa-caret-down\\\" aria-hidden=\\\"true\\\" #profilesCaret></li>\\r\\n                </span>\\r\\n                <profile-drawer></profile-drawer>\\r\\n              </div>\\r\\n            </td>\\r\\n          </tr>\\r\\n          <tr>\\r\\n            <td>\\r\\n              <div class=\\\"social\\\">\\r\\n                <a *ngIf=\\\"globals.rules.socialMediaFB\\\" id=\\\"facebookLogin\\\" class=\\\"fa fa-facebook\\\"></a>&nbsp;\\r\\n                <a *ngIf=\\\"globals.rules.socialMediaTwitter\\\" id=\\\"twitterLogin\\\" class=\\\"fa fa-twitter\\\"></a>&nbsp;\\r\\n                <a *ngIf=\\\"globals.rules.socialMediaInstagram\\\" id=\\\"instagramLogin\\\" class=\\\"fa fa-instagram\\\"></a>\\r\\n              </div>\\r\\n            </td>\\r\\n            <td>\\r\\n              <div class=\\\"searchTools\\\">\\r\\n                <form (ngSubmit)=\\\"search()\\\">\\r\\n                  <a><span class=\\\"fa fa-search\\\" (click)=\\\"search()\\\"></span></a>\\r\\n                  <input type=\\\"text\\\" [(ngModel)]=\\\"searchTerm\\\" name=\\\"searchTerm\\\">\\r\\n                </form>\\r\\n              </div>\\r\\n            </td>\\r\\n          </tr>\\r\\n        </table>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n  </div>\\r\\n\\r\\n</div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/menu/menu.component.html\n// module id = ./src/app/menu/menu.component.html\n// module chunks = main","import {AfterViewInit, Component, HostListener, OnDestroy, OnInit} from '@angular/core';\r\nimport {MenuService} from \"./menu.service\";\r\nimport {GlobalsService} from '../globals.service';\r\nimport {LoginPopupService} from '../login/login-popup.service';\r\nimport {ActivatedRoute, Router} from '@angular/router';\r\nimport {ProfileDrawerService} from \"../profile-drawer/profile-drawer.service\";\r\nimport {LoadingService} from \"../loading/loading.service\";\r\n\r\n@Component({\r\n  selector: 'app-menu',\r\n  templateUrl: './menu.component.html'\r\n})\r\n\r\nexport class MenuComponent implements OnInit, AfterViewInit, OnDestroy {\r\n\r\n  @HostListener('window:resize') onResize() {\r\n    // guard against resize before view is rendered\r\n    this.winWidth=window.innerWidth;\r\n    this.winHeight=(window.innerHeight-110)+'px';\r\n  }\r\n  data: any;                  // Contains the menu items\r\n  menuList: any = {};         // menuList constructed for the Carousel Component\r\n  menuOpen: boolean = false;  // Defines if the menu drawer is open\r\n  searchTerm: string;\r\n  menuCustom: boolean = true; // If true the css will be specific for a customer (see _menu.scss)\r\n  avatarImgUrl: string;\r\n\r\n  winWidth: number;           // contains the window width\r\n  winHeight: string;          // contains window height\r\n\r\n  menuSubscriber: any;\r\n\r\n  constructor(\r\n    public globals: GlobalsService,\r\n    private login: LoginPopupService,\r\n    private router: Router,\r\n    private route: ActivatedRoute,\r\n    private profileDrawerService: ProfileDrawerService,\r\n    private menuService: MenuService,\r\n    private loading: LoadingService\r\n  ) {\r\n    // Ensure that menu data automatically updates, thus making the view \"dirty\" and refresh :P\r\n    this.menuSubscriber = this.menuService.data.subscribe(value => {\r\n      this.data = value;\r\n      this.expandMenuListContent(); // To initialize the carousel menu\r\n\r\n    });\r\n  }\r\n\r\n  ngOnInit() {\r\n    // Get the default menu, thus filling 'data'\r\n    this.menuService.getDefaultMenu();\r\n    this.winWidth=window.innerWidth;\r\n    this.winHeight=(window.innerHeight-110)+'px';\r\n    this.avatarImgUrl=this.globals.currAvatar\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    // unsubscribe to ensure no memory leaks\r\n    this.menuSubscriber.unsubscribe();\r\n  }\r\n\r\n  ngAfterViewInit() {  }\r\n\r\n\r\n  /**\r\n   * @Notes: refitted the function to have different actions depending on the number\r\n   * of user profiles. If multiple open the drawer else go directly to My Account\r\n   */\r\n  toggleProfilesDrawer() {\r\n    // Show the profile drawer, indicating that it's still loading the list of profiles\r\n    if (this.globals.userProfiles.length > 1)\r\n      this.profileDrawerService.toggle();\r\n    else\r\n      this.router.navigate(['settings/my-account/edit']);\r\n  }\r\n\r\n  showLogin() {\r\n    if (!this.globals.userLoggedIn)\r\n      this.login.show.next(true);\r\n  }\r\n\r\n  /**\r\n   * Opens and closes the menu and removes overflow if menu is open\r\n   */\r\n  toggleMenu() {\r\n    //First we verify if the hamburger menu is being shown, instead of the top menu.\r\n    //We do this by seeing if the resolution is lower than 768px (tabled width)\r\n    if (this.winWidth < 768) {\r\n      this.menuOpen = !this.menuOpen;\r\n      //If the menu is open, we set the overflow to hidden so it is not possible to scroll the content\r\n      if (this.menuOpen) {\r\n        document.body.style.overflow = 'hidden';\r\n      }\r\n      else {\r\n        document.body.style.overflow = 'auto';\r\n      }\r\n    }\r\n    //Otherwise we just guarantee that the menu is \"closed\" so that if the\r\n    //user re-sizes the window he won't suddenly have an open menu\r\n    else {\r\n      this.menuOpen = false;\r\n    }\r\n  }\r\n\r\n    /**\r\n     *\r\n     */\r\n    actionMenu(pageSlug: string) {\r\n        this.toggleMenu();\r\n        if ( this.globals.pageTitleSlug != pageSlug) {\r\n            this.globals.pageTitleSlug = pageSlug;\r\n            this.loading.set(true);\r\n            this.router.navigate([pageSlug]);\r\n        }\r\n    }\r\n\r\n  /**\r\n   * Verifies if the current page corresponds to the menu item defined in @title\r\n   * @param title\r\n   * @returns {boolean}\r\n   */\r\n  isFocused(title: string) {\r\n    return title == this.globals.pageTitle;\r\n  }\r\n\r\n  /**\r\n   * Redirects the user to the search results page and clears the search box\r\n   */\r\n  search() {\r\n    this.toggleMenu();\r\n    this.router.navigate(['search', this.searchTerm])\r\n      .then(nav => {\r\n        console.log(nav); // true if navigation is successful\r\n      }, err => {\r\n        console.log(err) // when there's an error\r\n      });\r\n  }\r\n\r\n\r\n  expandMenuListContent(){\r\n    this.menuList[\"playlist\"]={contents:{}};\r\n\r\n\r\n    // Each content element will have an extra view element with all that is needed (text, wether selected, callback and parameters )\r\n    // Run over this.data (content) and only include in MenuList those needed:\r\n    this.data.forEach(el =>{\r\n      if (el.name!=this.globals.strings.CONTENT_GROUP_BTN_FAVOURITES || this.globals.userLoggedIn) {\r\n          //this.menuList.playlist.push({Rui:'oi'});\r\n          //this.menuList.playlist.contents.push(el);\r\n          //this.menuList.playlist.contents.push({name: el.name, slug: el.slug});\r\n          //this.menuList.playlist.contents[\"view\"];\r\n          //this.menuList.playlist.contents.view.push({type:'text',text:el.name,selected:(el.slug==this.globals.pageTitleSlug?true:false),callback:this.menuCallback.bind(this),param:el.slug});\r\n      }\r\n    });\r\n    this.menuList[\"layout\"]={columns:9,                      move_after_behaviour:'right',\r\n                             assets_format_ratio: 1,         image_resize_type:'',\r\n                             presentation_order: 'LTR',      layout_type:'noloop',\r\n                             animation_transition_speed: 3,  pagination_indicator: 'none',\r\n                             show_elements_title: '',        element_vertical_spacing: 2,\r\n                             element_horizontal_spacing: 1,  metadata_position: ''};\r\n    this.menuList[\"id\"]='';\r\n    this.menuList[\"image\"]={url:''};\r\n  }\r\n\r\n  menuCallback(userVal:string, assetId: string){\r\n    this.actionMenu(userVal)\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/menu/menu.component.ts","import {NgModule}           from '@angular/core';\r\nimport {CommonModule}       from '@angular/common';\r\nimport {MenuComponent}   from './menu.component';\r\nimport {MenuService} from './menu.service';\r\nimport {RouterModule} from '@angular/router';\r\nimport {FormsModule} from '@angular/forms';\r\nimport {ProfileDrawerModule} from \"../profile-drawer/profile-drawer.module\";\r\nimport {CarouselModule} from '../carousel/carousel.module';\r\n\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule,\r\n    FormsModule,\r\n    ProfileDrawerModule,\r\n    CarouselModule\r\n  ],\r\n  declarations: [\r\n    MenuComponent\r\n  ],\r\n  exports: [\r\n    MenuComponent\r\n  ],\r\n  providers: [\r\n    MenuService\r\n ]\r\n})\r\n\r\nexport class MenuModule {\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/menu/menu.module.ts","import { Injectable } from '@angular/core';\r\nimport {HttpClient, HttpHeaders, HttpParams} from '@angular/common/http';\r\nimport {APIDataResponse, GlobalsService} from '../globals.service';\r\nimport {Menu} from './menu';\r\nimport 'rxjs/add/operator/catch';\r\nimport 'rxjs/add/operator/map';\r\nimport {Subject} from 'rxjs/Subject';\r\nimport {Router} from \"@angular/router\";\r\n\r\n@Injectable()\r\nexport class MenuService {\r\n\r\n\r\n  public data: Subject<Menu> = new Subject<Menu>();\r\n  //public windowSize: Subject<number> = new Subject<number>();\r\n\r\n  constructor(\r\n    private http: HttpClient,\r\n    private globals: GlobalsService,\r\n    private router: Router,\r\n  ) {\r\n    // will create a eventlistener for windows resizing events\r\n    //document.addEventListener( eventname, eventhandler);\r\n  }\r\n\r\n\r\n  getDefaultMenu() {\r\n    const headers = new HttpHeaders()\r\n      .set('Accept-Language', this.globals.settings.default_language);\r\n    const params = new HttpParams()\r\n      .set('device', 'web')\r\n      .set('device_type', 'web')\r\n      .set('device_layout', 'web');\r\n\r\n    this.http.get<APIDataResponse>(this.globals.endpoints.menus, {headers: headers, params: params})\r\n      .toPromise()\r\n      .then(res => {\r\n        // The first menu on the menus list is the one we use\r\n        this.globals.menuId = res.data[0].id;\r\n\r\n        const headers = new HttpHeaders()\r\n          .set('Accept-Language', this.globals.settings.default_language);\r\n        const params = new HttpParams()\r\n          .set('device', 'web')\r\n          .set('device_type', 'web')\r\n          .set('device_layout', 'web');\r\n\r\n        // Then we get the menu items from that menu\r\n        let endpoint = this.globals.API + 'menus/' + this.globals.menuId;\r\n        this.http.get<APIDataResponse>(endpoint, {headers: headers, params: params})\r\n          .toPromise()\r\n          .then(\r\n            res => {\r\n                // And we assign the data we get back, with the menu items, to a global \"menu\" object\r\n                this.globals.menu = res.data.options;\r\n                this.data.next(res.data.options);\r\n\r\n                // Navigate directly to the first menu option\r\n                this.router.navigate([this.globals.menu[0].slug]);\r\n            }\r\n          )\r\n          .catch(function (error) {\r\n            console.error(error);\r\n          });\r\n\r\n      })\r\n      .catch(function (error) {\r\n        console.error(error);\r\n      });\r\n  }\r\n\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/menu/menu.service.ts","import {Video} from \"./video\";\r\nimport {Scheduling} from \"./scheduling\";\r\n\r\n\r\nexport class EpgChannel {\r\n  age_rating: any;\r\n  channel_number: number;\r\n  id: number;\r\n  image: object;\r\n  name: string;\r\n  rating: number;\r\n  scheduling: Scheduling[];\r\n  nowPlaying: Scheduling;\r\n  short_description: string;\r\n  slug: string;\r\n  type: string;\r\n  video: Video;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/models/epg-channel.ts","export class EpgLayout {\r\n  days_date_format: string;\r\n  id: number;\r\n  name: string;\r\n  navigation_type: string;\r\n  number_channels: number;\r\n  number_days_backward: number;\r\n  number_days_forward: number;\r\n  number_hours: number;\r\n  program_selection_behaviour: string;\r\n  show_channel_number: number;\r\n  show_genres: number;\r\n  show_preview: string;\r\n  show_selected_program_info: string;\r\n  slug: string;\r\n  time_slot_duration: number;\r\n  type: string;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/models/epg-layout.ts","export class Layout {\r\n  animation_transition_speed: number;\r\n  assets_format_ratio: number;\r\n  element_horizontal_spacing: number;\r\n  element_order: number;\r\n  element_placeholder_image: string;\r\n  element_vertical_spacing: number;\r\n  id: number;\r\n  layout_type: string;\r\n  move_after_behaviour: string;\r\n  move_after_index_horizontal: number;\r\n  move_after_index_vertical: number;\r\n  navigation_type: string;\r\n  columns: number;\r\n  image_resize_type: string;\r\n  rows: number;\r\n  number_max_elements: number;\r\n  orientation: string;\r\n  pagination_indicator: string;\r\n  presentation_order: string;\r\n  show_arrows: number;\r\n  show_element_loader: number;\r\n  show_elements_favorite: string;\r\n  show_elements_rating: string;\r\n  show_elements_title: string;\r\n  show_elements_view_progress: string;\r\n  style: string;\r\n  title: string;\r\n  view_all_position: string;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/models/layout.ts","import { Injectable } from '@angular/core';\r\nimport { Http, Response } from '@angular/http';\r\n\r\nimport {GlobalsService} from '../globals.service';\r\n\r\nimport { Observable } from 'rxjs/Observable';\r\nimport 'rxjs/add/operator/catch';\r\nimport 'rxjs/add/operator/map';\r\nimport {Subject} from \"rxjs/Subject\";\r\nimport {Widget} from \"./widget\";\r\n\r\n@Injectable()\r\nexport class PlaylistService {\r\n  //public playList: Subject<Widget> = new Subject<Widget>();  // Subscribed by the Carousel component to change its content\r\n\r\n  constructor(\r\n    private http: Http,\r\n    private globals: GlobalsService\r\n  ) {}\r\n\r\n  private extractData(res: Response) {\r\n    let body = res.json();\r\n    if (body) {\r\n      return body.data || body;\r\n    } else {\r\n      return {};\r\n    }\r\n  }\r\n\r\n  private handleError(error: any) {\r\n    let errMsg = (error.message) ? error.message :\r\n      error.status ? `${error.status} - ${error.statusText}` : 'Server error';\r\n    console.error(errMsg);\r\n    return Observable.throw(errMsg);\r\n  }\r\n\r\n  getPlaylist(id: string, limit: number, page: number, genre?: string): Observable<any> {\r\n    let url = this.globals.API + `playlists/${id}?limit=${limit}&page=${page}&device_type=web&device_layout=web`;\r\n    if(genre!=undefined) {\r\n      url += `&genre_id=${genre}`;\r\n    }\r\n    return this.http\r\n      .get(url)\r\n      .map(this.extractData)\r\n      .catch(this.handleError);\r\n  }\r\n\r\n  getPlaylistPage(id: string, limit: number, page: number): Observable<any> {\r\n    return this.http\r\n      .get(this.globals.API + `playlists/${id}/assets?limit=${limit}&page=${page}&device_type=web&device_layout=web`)\r\n      .map(this.extractData)\r\n      .catch(this.handleError);\r\n  }\r\n\r\n  // RuiTest Used by the components that want to change the content of their carousel child component\r\n  //setPlayList(data: Widget){\r\n  //  this.playList.next(data);\r\n  //  console.log(\"new playList set\");\r\n  //}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/models/playlist.service.ts","export class Scheduling {\r\n  age_rating: Array<any>;\r\n  channel_id: number;\r\n  description: string;\r\n  duration: number;\r\n  empty_slot: number;\r\n  end_time: number;\r\n  end_time_string: string;\r\n  id: number;\r\n  image: any;\r\n  isPlaying: boolean;\r\n  left: number;\r\n  name: string;\r\n  rating: number;\r\n  short_description: string;\r\n  slug: string;\r\n  start_time: number;\r\n  start_time_string: string;\r\n  type: string;\r\n  width: number;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/models/scheduling.ts","export class User {\r\n  name: string;\r\n  email: string;\r\n  accountToken: string;\r\n  currProfileToken: string;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/models/user.ts","module.exports = \"<p class=\\\"paymentMethodTitle\\\">{{globals.strings?.PAYMENT_METHOD_SELECT}}</p>\\r\\n\\r\\n<div id=\\\"paymentBtns\\\">\\r\\n  <button *ngFor=\\\"let paymentOption of paymentOptions\\\"\\r\\n          (click)=\\\"onPaymentBtnClick(paymentOption)\\\" class=\\\"paymentChoiceBtn\\\" [ngClass]=\\\"{'selected': paymentOption.selected==true}\\\">\\r\\n    {{paymentOption.label}}\\r\\n  </button>\\r\\n</div>\\r\\n\\r\\n<!-- Wrapper for the payment options -->\\r\\n<div class=\\\"paymentMethods\\\">\\r\\n\\r\\n  <!-- SHOW CREDIT CARD LIST -->\\r\\n  <div class=\\\"creditCardList\\\" *ngIf=\\\"showCreditCardList\\\">\\r\\n    <!-- FIXME: No available mockups for this. Using table based design -->\\r\\n    <!-- FIXME: No available key string for \\\"Credit Card List\\\" -->\\r\\n    <table class=\\\"creditCardListTbl\\\">\\r\\n      <tr>\\r\\n        <th>{{globals.strings.CREDIT_CARD_NUMBER || \\\"Credit Card Number\\\"}}</th>\\r\\n        <th colspan=\\\"2\\\">{{globals.strings.CREDIT_CARD_VALID_THRU || \\\"Valid Thru\\\"}}</th>\\r\\n      </tr>\\r\\n      <tr *ngFor=\\\"let creditCard of profilePaymentMethods\\\">\\r\\n        <!-- Credit card number -->\\r\\n        <td>XXXX XXXX XXXX {{creditCard.credit_card_number}}</td>\\r\\n        <!-- expiry -->\\r\\n        <td>{{creditCard.expiration_date}}</td>\\r\\n        <!-- choose me button -->\\r\\n        <!-- payment method token uniquely identifies this payment -->\\r\\n        <td><button (click)=\\\"payWithThisCC(creditCard.payment_method_token)\\\">{{globals.strings.CREDIT_CARD_USE_THIS}} ({{payObjectCurrency}}{{payObjectPrice}})</button></td>\\r\\n      </tr>\\r\\n    </table>\\r\\n\\r\\n  </div>\\r\\n\\r\\n  <!-- ADD CREDIT CARD -->\\r\\n  <div class=\\\"addCreditCardFrm\\\" [hidden]=\\\"showAddCreditCard===false\\\">\\r\\n    <p>{{globals.strings?.ADD_CREDIT_CARD_ADD_BUTTON}}</p>\\r\\n\\r\\n    <form #addCC=\\\"ngForm\\\" (ngSubmit)=\\\"getStripeToken(addCC)\\\" class=\\\"addCCFrm\\\">\\r\\n      <div class=\\\"form-row\\\">\\r\\n        <div id=\\\"card-info\\\" #cardInfo></div>\\r\\n\\r\\n        <div id=\\\"card-errors\\\" role=\\\"alert\\\" *ngIf=\\\"error\\\">{{ error }}</div>\\r\\n      </div>\\r\\n\\r\\n      <button type=\\\"submit\\\">{{globals.strings.CREDIT_CARD_PAY || 'Pay'}} ({{payObjectCurrency}}{{payObjectPrice}})</button>\\r\\n    </form>\\r\\n\\r\\n\\r\\n  </div>\\r\\n\\r\\n  <!-- VOUCHER -->\\r\\n  <div class=\\\"payWithVoucher\\\" *ngIf=\\\"paymentMethod=='voucher'\\\">\\r\\n    <p>{{globals.strings.PAYMENT_FORM_VOUCHER_PLACEHOLDER}}</p>\\r\\n\\r\\n    <form #voucherFrm=\\\"ngForm\\\" (ngSubmit)=\\\"onVoucherSubmit(voucherFrm)\\\">\\r\\n      <div class=\\\"form-row\\\">\\r\\n        <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"voucher\\\" name=\\\"voucher\\\" ngModel required #voucher=\\\"ngModel\\\">\\r\\n      </div>\\r\\n      <button type=\\\"submit\\\" id=\\\"voucherSubmitBtn\\\" class=\\\"btn btn-default\\\">{{globals.strings.PAYMENT_FORM_VOUCHER_REDEEM || 'Redeem'}}</button>\\r\\n    </form>\\r\\n\\r\\n\\r\\n  </div>\\r\\n\\r\\n  <!-- TOKEN -->\\r\\n  <div id=\\\"payWithToken\\\" *ngIf=\\\"paymentMethod=='token'\\\">\\r\\n    <p>You have chosen Token</p>\\r\\n\\r\\n  </div>\\r\\n\\r\\n</div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/payments/payments.component.html\n// module id = ./src/app/payments/payments.component.html\n// module chunks = main","import {AfterViewInit, ChangeDetectorRef, Component, ElementRef, OnDestroy, OnInit, ViewChild} from '@angular/core';\r\nimport {Router, ActivatedRoute} from '@angular/router';\r\nimport {GlobalsService} from \"../globals.service\";\r\nimport {PaymentsService} from \"./payments.service\";\r\nimport {ProfilePaymentMethods} from \"../models/profile-payment-methods\";\r\nimport {NgForm} from \"@angular/forms\";\r\nimport swal from 'sweetalert2';\r\nimport {LoadingService} from \"../loading/loading.service\";\r\n\r\n@Component({\r\n  selector: 'app-payments',\r\n  templateUrl: './payments.component.html'\r\n})\r\nexport class PaymentsComponent implements OnInit, AfterViewInit, OnDestroy {\r\n  paymentOptions:any[];                     // List of the current payment options for the given payment object\r\n\r\n  private payObject: string;                // Defines what are we paying for (subscription, token, asset rent/buy/whatever)\r\n  private payObjectId: string;              // Defines the Id of the object being paid for\r\n  payObjectPrice: string;                   // Price of the object being bought\r\n  payObjectCurrency: string;                // Currency of the object being bought\r\n\r\n  public paySubscription: any = null;       // If the payObject == 'subscription' this will be !== null\r\n  payAsset: any = null;                     // If the payObject == 'asset' this will be filled !== null\r\n\r\n  paymentMethod: string;                    // Indicates the current payment method (stripe, voucher, token)\r\n\r\n\r\n  /* CREDIT CARD RELATED */\r\n  stripe: any;          // Holds the stripe (credit card payments) object\r\n  elements: any;        // Stripe (v3) elements\r\n  card: any;            // Current credit card\r\n  elementStyles: any;   // Elements styles\r\n  elementClasses: any;  // Elements classes\r\n  cardName: string = '';     // Card holder name\r\n  showCreditCardList: boolean = false;      // Show initial credit card list (or on button request)\r\n                                            /* @Notes: if no credit cards are found proceed directly\r\n                                                       to the add credit card screen with a descriptive\r\n                                                       message on top\r\n                                             */\r\n  showAddCreditCard: boolean = false;       // Show div for adding a credit card\r\n\r\n  @ViewChild('cardInfo') cardInfo: ElementRef;\r\n  cardHandler = this.onChange.bind(this);\r\n  error: string;\r\n\r\n  /* VOUCHER RELATED */\r\n  voucher: string = null;                   // 2-way bind this in the view\r\n\r\n\r\n  /* TOKEN RELATED */\r\n  showTokenList: boolean = false;           // Show initial token list (or on button request)\r\n\r\n  /* PAYMENT METHODS RELATED */\r\n  profilePaymentMethods: ProfilePaymentMethods[];   // This ALWAYS relates to a given gateway!!\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private route: ActivatedRoute,\r\n    private globals: GlobalsService,\r\n    private paymentsService: PaymentsService,\r\n    private cd: ChangeDetectorRef,\r\n    private loading: LoadingService\r\n  ) {\r\n    /**\r\n     * Products:\r\n     *  - Subscriptions\r\n     *  - Tokens\r\n     *  - Assets (buy/rent)\r\n     *\r\n     * @Notes: A user can have a subscribed plan and still buy/rent an\r\n     * asset to which he/she is not entitled to (see API entitlements)\r\n     *\r\n     * Known payment options [Credit Card, Voucher, Token] and associated\r\n     * payment gateways coming from the API:\r\n     *\r\n     * Credit card (stripe):\r\n     *  - Give the possibility of entering a discount coupon\r\n     *\r\n     * Voucher:\r\n     *  - Pays for whatever is being bought (subscription, asset) entirely\r\n     *\r\n     * Token:\r\n     *  - Like an eCoin. User has an eWallet and can spend these on assets\r\n     *    for buying/renting\r\n     *\r\n     */\r\n  }\r\n\r\n  ngOnInit() {\r\n    /* Subscribe to the parameters being passed via URL */\r\n    this.route.params\r\n      .subscribe(params => {\r\n        this.payObject = params.payObject;\r\n        this.payObjectId = params.payObjectId;\r\n\r\n        // Clear previous pay objects\r\n        this.paySubscription = null;\r\n        this.payAsset = null;\r\n\r\n        // What are we paying for?\r\n        switch (this.payObject) {\r\n          case 'subscription':\r\n            // Make sure we clear previous payment options ... :P\r\n            this.paymentOptions = [];\r\n            // Get the payment gateways for this subscription\r\n            this.globals.subscriptions.data.forEach((subscription, index) => {\r\n              if (subscription.plan_id == this.payObjectId) {\r\n                // This is a subscription. Fill paySubscription object\r\n                this.paySubscription = subscription;\r\n                // Get the price of this subscription\r\n                this.payObjectPrice = subscription.price;\r\n                this.payObjectCurrency = subscription.currency;\r\n\r\n                subscription.payment_gateways.forEach((paymentGateway) => {\r\n                  if (paymentGateway.active)\r\n                    this.paymentOptions.push({label: paymentGateway.name, gateway: paymentGateway.gateway, selected: false});\r\n                });\r\n              }\r\n            });\r\n            break;\r\n\r\n          case 'token':\r\n            // TODO: support token payments\r\n            // @Notes: tokens should also be identifiable by 'id'\r\n            break;\r\n\r\n          case 'asset':\r\n            // @Notes: an asset can be bought or rent. Payment can be in tokens\r\n            // TODO: This is an asset. Fill payAsset object\r\n\r\n            break;\r\n\r\n        }\r\n      });\r\n\r\n\r\n    /* Create stripe object for credit card payments */\r\n    this.stripe = Stripe(this.globals.stripePubKey);\r\n\r\n    /* Use the new 'elements' */\r\n    this.elements = this.stripe.elements({\r\n      fonts: [\r\n        {\r\n          cssSrc: 'https://fonts.googleapis.com/css?family=Quicksand',\r\n        },\r\n      ],\r\n      // Stripe's examples are localized to specific languages, but if\r\n      // you wish to have Elements automatically detect your user's locale,\r\n      // use `locale: 'auto'` instead.\r\n      locale: 'auto',\r\n    });\r\n\r\n    /* Define personalized styles for the elements */\r\n    this.elementStyles = {\r\n      base: {\r\n        color: '#fff',\r\n        fontWeight: 600,\r\n        fontFamily: 'Quicksand, Open Sans, Segoe UI, sans-serif',\r\n        fontSize: '16px',\r\n        fontSmoothing: 'antialiased',\r\n\r\n        ':focus': {\r\n          color: '#424770'\r\n        },\r\n\r\n        '::placeholder': {\r\n          color: '#424770',\r\n        },\r\n\r\n        ':focus::placeholder': {\r\n          color: '#004770',\r\n        },\r\n      },\r\n      invalid: {\r\n        color: '#fff',\r\n        ':focus': {\r\n          color: '#FA755A',\r\n        },\r\n        '::placeholder': {\r\n          color: '#FFCCA5',\r\n        },\r\n      },\r\n    };\r\n\r\n    this.elementClasses = {\r\n      focus: 'focus',\r\n      empty: 'empty',\r\n      invalid: 'invalid',\r\n    };\r\n\r\n    // Subscribe to whatever subjects come from the related service\r\n    this.paymentsService.paymentMethods.subscribe(val => {\r\n      this.profilePaymentMethods = val;\r\n      /*\r\n       If we have a list (of a least 1) of credit cards show it\r\n        and let the user use one of them for payment of whatever is being bought\r\n       */\r\n      if (this.profilePaymentMethods.length > 0) {\r\n        this.showCreditCardList = true;\r\n      }\r\n      else {\r\n        /* Show add credit card screen */\r\n        this.showCreditCardList = false;  // Don't forget to hide whatever else is on the screen here!\r\n        this.showAddCreditCard = true;\r\n      }\r\n    });\r\n\r\n    this.paymentsService.purchaseResponse.subscribe(val => {\r\n      // Stop the loading status in any circumstance (either success or failure)\r\n      this.loading.set(false);\r\n\r\n      if (val.code == \"200\") {\r\n        // Show a success dialog\r\n        swal({\r\n            type: 'success',\r\n            html:  '<span style=\"color: #fff;\">'+val.description || 'Payment successful'+'</span>',\r\n            background: '#2a292a'\r\n          }\r\n        ).then(result => {\r\n          if (result.value) {\r\n            // Hide the credit card add modal\r\n            this.showAddCreditCard = false;\r\n            // redirect to home and let the user enjoy content with his/her active subscription :P\r\n            this.router.navigate(['']);\r\n          }\r\n        });\r\n\r\n\r\n      }\r\n      else {\r\n        swal({\r\n            type: 'error',\r\n            title: '<span style=\"color: #fff;\" class=\"title\">'+this.globals.strings.SCREEN_ERROR_TITLE+'</span>',\r\n            html:  '<span style=\"color: #fff;\">'+val.error.description+'</span>',\r\n            background: '#2a292a'\r\n          }\r\n        );\r\n      }\r\n    });\r\n\r\n\r\n  }\r\n\r\n\r\n  /**\r\n   * Stuff that needs to be run AFTER the view is init'ed\r\n   */\r\n  ngAfterViewInit(): void {\r\n    this.showAddCreditCard = false;\r\n\r\n    this.card = this.elements.create('card', {hidePostalCode: true});\r\n\r\n    /*this.card.mount(this.cardNumber.nativeElement);\r\n    this.card.mount(this.cardExpiry.nativeElement);\r\n    this.card.mount(this.cardCvc.nativeElement);*/\r\n\r\n    this.card.mount(this.cardInfo.nativeElement);\r\n    this.card.addEventListener('change', this.cardHandler);\r\n\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.card.removeEventListener('change', this.cardHandler);\r\n    this.card.destroy();\r\n  }\r\n\r\n  onChange({ error }) {\r\n    if (error) {\r\n      this.error = error.message;\r\n    } else {\r\n      this.error = null;\r\n    }\r\n    this.cd.detectChanges();\r\n  }\r\n\r\n  /**\r\n   * Process payment choice btn click\r\n   * @param {string} gateway\r\n   */\r\n  onPaymentBtnClick(paymentOption: any) {\r\n\r\n    // Set all 'visibility' flags to false here!\r\n    this.showCreditCardList = false;\r\n    this.showAddCreditCard = false;\r\n\r\n\r\n    // Get the available payment methods for the current profile\r\n    // FIXME: HARDWIRED! If this ever changes in the API this exclusion is going to fail!\r\n    // @Notes: the .../purchase_methods endpoint doesn't return a list of vouchers\r\n    //         this might change in the future (as per meeting with Bruno and Sobrinho on 2018-03-02)\r\n    if (paymentOption.gateway !== 'voucher')\r\n      this.paymentsService.getProfilePaymentMethods(paymentOption.gateway);\r\n\r\n    this.paymentOptions.forEach((paymentOption) => {\r\n      paymentOption.selected = false;\r\n    });\r\n\r\n    this.paymentMethod = paymentOption.gateway;\r\n    paymentOption.selected = true;\r\n  }\r\n\r\n\r\n  /**\r\n   * Get a token for the currently submitted card\r\n   */\r\n  async getStripeToken(form: NgForm) {\r\n    const { token, error } = await this.stripe.createToken(this.card);\r\n\r\n    if (error) {\r\n      console.log('Something is wrong:', error);\r\n    } else {\r\n      console.log('Success!', token);\r\n      // make the actual purchase\r\n      // errr.. what were we buying again? :P\r\n      let purchaseType = this.payObject == 'subscription' ? 'SVOD' : 'TVOD';\r\n\r\n      var productId = null;\r\n      var storeProductId = null;\r\n\r\n      // If the thing being bought is a subscription get the Ids from paySubscription object\r\n      if (this.payObject == 'subscription' && this.paySubscription !== null) {\r\n        productId = this.paySubscription.plan_id;\r\n        for (let paymentGateway of this.paySubscription.payment_gateways) {\r\n          if (paymentGateway.gateway === \"stripe\") {\r\n            storeProductId = paymentGateway.store_product_id;\r\n            console.log(\"store pid: \"+ paymentGateway.store_product_id);\r\n          }\r\n        }\r\n      }\r\n\r\n      // TODO: get the Ids from an asset\r\n      if (this.payObject == 'asset') {\r\n\r\n      }\r\n\r\n      // Ensure we have productId and a storeProductId...\r\n      if (productId!== null && storeProductId!==null) {\r\n        this.loading.set(true);\r\n        this.paymentsService.purchase(productId, purchaseType, 'stripe', storeProductId, token.id);\r\n      }\r\n      else {\r\n        // Something went south ... :S show an error dialog\r\n        swal({\r\n            type: 'error',\r\n            title: '<span style=\"color: #fff;\" class=\"title\">'+this.globals.strings.SCREEN_ERROR_TITLE+'</span>',\r\n            html:  '<span style=\"color: #fff;\">'+this.globals.strings.PAYMENT_PROCESSMENT_FAILURE || 'There was a problem processing your request. Please try again later'+'</span>',\r\n            background: '#2a292a'\r\n          }\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  /**\r\n   * Handle choosing one the credit cards of the list for payment\r\n   * @param {string} paymentMethodToken\r\n   */\r\n  payWithThisCC(stripeToken: string) {\r\n    console.info(\"Credit card token: \"+stripeToken);\r\n    // errr.. what were we buying again? :P\r\n    let purchaseType = this.payObject == 'subscription' ? 'SVOD' : 'TVOD';\r\n\r\n    var productId = null;\r\n    var storeProductId = null;\r\n\r\n    // If the thing being bought is a subscription get the Ids from paySubscription object\r\n    if (this.payObject == 'subscription' && this.paySubscription !== null) {\r\n      productId = this.paySubscription.plan_id;\r\n      for (let paymentGateway of this.paySubscription.payment_gateways) {\r\n        if (paymentGateway.gateway === \"stripe\") {\r\n          storeProductId = paymentGateway.store_product_id;\r\n          console.log(\"store pid: \"+ paymentGateway.store_product_id);\r\n        }\r\n      }\r\n    }\r\n\r\n    // TODO: get the Ids from an asset\r\n    if (this.payObject == 'asset') {\r\n\r\n    }\r\n\r\n    // Ensure we have productId and a storeProductId...\r\n    if (productId!== null && storeProductId!==null) {\r\n      this.paymentsService.purchase(productId, purchaseType, 'stripe', storeProductId, stripeToken);\r\n    }\r\n    else {\r\n      // Something went south ... :S show an error dialog\r\n      swal({\r\n          type: 'error',\r\n          title: '<span style=\"color: #fff;\" class=\"title\">'+this.globals.strings.SCREEN_ERROR_TITLE+'</span>',\r\n          html:  '<span style=\"color: #fff;\">'+this.globals.strings.PAYMENT_PROCESSMENT_FAILURE || 'There was a problem processing your request. Please try again later'+'</span>',\r\n          background: '#2a292a'\r\n        }\r\n      );\r\n    }\r\n\r\n  }\r\n\r\n  /**\r\n   * Handle the submission of a voucher as a means of payment\r\n   * @param {NgForm} form\r\n   */\r\n  onVoucherSubmit(form: NgForm) {\r\n\r\n    console.log(form);\r\n\r\n    console.log('Voucher was: ' + form.value.voucher);\r\n\r\n    // errr.. what were we buying again? :P\r\n    let purchaseType = this.payObject == 'subscription' ? 'SVOD' : 'TVOD';\r\n\r\n    var productId = null;\r\n    var storeProductId = null;\r\n\r\n    // If the thing being bought is a subscription get the Ids from paySubscription object\r\n    if (this.payObject == 'subscription' && this.paySubscription !== null) {\r\n      productId = this.paySubscription.plan_id;\r\n      for (let paymentGateway of this.paySubscription.payment_gateways) {\r\n        if (paymentGateway.gateway === \"stripe\") {\r\n          storeProductId = paymentGateway.store_product_id;\r\n          console.log(\"store pid: \"+ paymentGateway.store_product_id);\r\n        }\r\n      }\r\n    }\r\n\r\n    // TODO: get the Ids from an asset\r\n    if (this.payObject == 'asset') {\r\n\r\n    }\r\n\r\n    // Ensure we have productId and a storeProductId...\r\n    if (productId!== null && storeProductId!==null) {\r\n      this.paymentsService.purchase(productId, purchaseType, 'voucher', form.value.voucher, form.value.voucher);\r\n    }\r\n    else {\r\n      // Something went south ... :S show an error dialog\r\n      swal({\r\n          type: 'error',\r\n          title: '<span style=\"color: #fff;\" class=\"title\">'+this.globals.strings.SCREEN_ERROR_TITLE+'</span>',\r\n          html:  '<span style=\"color: #fff;\">'+this.globals.strings.PAYMENT_PROCESSMENT_FAILURE || 'There was a problem processing your request. Please try again later'+'</span>',\r\n          background: '#2a292a'\r\n        }\r\n      );\r\n    }\r\n\r\n\r\n\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/payments/payments.component.ts","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { PaymentsComponent } from './payments.component';\r\nimport {PaymentsService} from \"./payments.service\";\r\nimport {FormsModule} from \"@angular/forms\";\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule\r\n  ],\r\n  exports: [PaymentsComponent],\r\n  declarations: [PaymentsComponent],\r\n  providers: [PaymentsService]\r\n})\r\nexport class PaymentsModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/payments/payments.module.ts","import { Injectable } from '@angular/core';\r\nimport {APIDataResponse, APISuccessResponse, GlobalsService} from \"../globals.service\";\r\nimport {HttpClient, HttpHeaders, HttpParams} from \"@angular/common/http\";\r\nimport {Subject} from \"rxjs/Subject\";\r\nimport {ProfilePaymentMethods} from \"../models/profile-payment-methods\";\r\n\r\n@Injectable()\r\nexport class PaymentsService {\r\n\r\n  public paymentMethods: Subject<ProfilePaymentMethods[]> = new Subject<ProfilePaymentMethods[]>();\r\n  public purchaseResponse: Subject<any> = new Subject<any>();\r\n\r\n  constructor(private globals: GlobalsService,\r\n              private http: HttpClient) {\r\n  }\r\n\r\n  /**\r\n   * Get the current profile's payment methods\r\n   * uses globals.endpoints.profilePaymentMethods\r\n   * @param {string} gateway\r\n   */\r\n  getProfilePaymentMethods(gateway: string) {\r\n    let headers = new HttpHeaders()\r\n      .set('Accept-Language', this.globals.settings.default_language)\r\n      .set('Authorization', 'Bearer ' + this.globals.authToken);\r\n    let params = new HttpParams()\r\n      .set('device_type', 'web');\r\n\r\n    let endpoint = this.globals.endpoints.profilePaymentMethods\r\n      .replace('{profile_token}', this.globals.accountProfileToken)\r\n      .replace('{payment_gateway}', gateway);\r\n\r\n    this.http.get<APIDataResponse>(endpoint, {headers: headers, params: params})\r\n      .toPromise()\r\n      .then(res => {\r\n        this.paymentMethods.next(res.data);\r\n      })\r\n      .catch(error => {\r\n        console.error(error);\r\n        this.paymentMethods.next([]);\r\n      });\r\n  }\r\n\r\n  /**\r\n   * Purchase/subscribe a product in a store\r\n   *\r\n   * @param {string} productId (body) - Asset ID in case of TVOD, Plan ID in case of SVOD\r\n   * @param {string} purchaseType (body) - (TVOD / SVOD) SVOD == Subscriptions, TVOD == Assets\r\n   * @param {string} paymentGateway (body) - (stripe, voucher or token)\r\n   * @param {string} storeProductId (body) - (in case of subscription this is the plan id)\r\n   * @param {string} paymentMethodToken (body) - required if the purchase if via stripe (credit card)\r\n   */\r\n  purchase(productId: string, purchaseType: string, paymentGateway: string, storeProductId: string, paymentMethodToken: string = null) {\r\n    const headers = new HttpHeaders()\r\n      .set('Accept-Language', this.globals.settings.default_language)\r\n      .set('Authorization', 'Bearer ' + this.globals.authToken);\r\n    const params = new HttpParams()\r\n      .set('device_type', 'web');\r\n\r\n    /* Path \"vars\" */\r\n    let endpoint = this.globals.endpoints.purchase\r\n      .replace('{profile_token}', this.globals.accountProfileToken);\r\n\r\n    /* Body */\r\n    let body = {\r\n      product_id: productId,\r\n      purchase_type: purchaseType,\r\n      payment_gateway: paymentGateway,\r\n      store_product_id: storeProductId,\r\n      payment_method_token: paymentMethodToken\r\n    };\r\n\r\n    this.http.post(endpoint, body, {headers: headers, params: params})\r\n      .toPromise()\r\n      .then(res => {\r\n        this.purchaseResponse.next(res);\r\n        }\r\n      )\r\n      .catch(error => {\r\n        this.purchaseResponse.next(error);\r\n      });\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/payments/payments.service.ts","module.exports = \"<div class=\\\"player-container\\\">\\r\\n\\r\\n  <video class=\\\"video-js\\\"  autoplay controls preload=\\\"auto\\\" data-setup=\\\"{}\\\" id=\\\"player\\\">\\r\\n  </video>\\r\\n\\r\\n  <!-- Only shown if the user moves the mouse over the player -->\\r\\n  <div id=\\\"playerTopBar\\\" [@slideInOut]=\\\"barsState\\\">\\r\\n    <table>\\r\\n      <tr>\\r\\n        <td *ngIf=\\\"!assetId\\\">\\r\\n          <button id=\\\"playerBack\\\" (click)=\\\"returnToDetails()\\\">\\r\\n            <span class=\\\"fa-stack\\\">\\r\\n              <i class=\\\"fa fa-circle-thin fa-stack-2x\\\"></i>\\r\\n              <i class=\\\"fa fa-chevron-left\\\" fa-stack-1x></i>\\r\\n            </span>\\r\\n          </button>\\r\\n        </td>\\r\\n\\r\\n        <td>{{data?.asset.name}}</td>\\r\\n\\r\\n        <td *ngIf=\\\"!assetId\\\">\\r\\n          <i class=\\\"fa fa-gear\\\"></i>\\r\\n        </td>\\r\\n      </tr>\\r\\n    </table>\\r\\n\\r\\n  </div>\\r\\n\\r\\n  <div id=\\\"playerBottomBar\\\" *ngIf=\\\"showBars\\\">\\r\\n\\r\\n  </div>\\r\\n</div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/player/player.component.html\n// module id = ./src/app/player/player.component.html\n// module chunks = main","import {Component, OnInit, OnDestroy, Input, SimpleChanges, OnChanges} from '@angular/core';\r\nimport {Router, ActivatedRoute} from '@angular/router';\r\nimport {GlobalsService} from '../globals.service';\r\nimport {LoadingService} from '../loading/loading.service';\r\nimport 'video.js/dist/video.min';\r\nimport 'videojs-contrib-hls/dist/videojs-contrib-hls.min';\r\nimport {PlayerService} from \"./player.service\";\r\nimport {Observable} from \"rxjs/Observable\";\r\nimport {animate, state, style, transition, trigger} from \"@angular/animations\";\r\n\r\ndeclare var videojs: any;\r\n\r\ndeclare function require(name:string);\r\n\r\n@Component({\r\n  selector: 'app-player',\r\n  templateUrl: './player.component.html',\r\n  animations: [\r\n    trigger('slideInOut', [\r\n      state('in', style({\r\n        //opacity: '1',\r\n        overflow: 'hidden',\r\n        height: '*'\r\n      })),\r\n      state('out', style({\r\n        //opacity: '0',\r\n        overflow: 'hidden',\r\n        height: '0px'\r\n      })),\r\n      transition('in => out', animate('400ms ease-in-out')),\r\n      transition('out => in', animate('400ms ease-in-out'))\r\n    ])\r\n  ]\r\n})\r\n\r\nexport class PlayerComponent implements OnInit, OnDestroy, OnChanges {\r\n  @Input() assetId: any;\r\n  data: any;\r\n  player: any;\r\n  streamID: string;           // String ID coming from the asset's details\r\n  streamURL: string;          // What we're trying to get! :P the stream's url from the asset's details\r\n  streamType: string;         // AKA media type (mp4, etc..)\r\n  mimeType: string;           // The stream's mimetype\r\n  inactivityTimeout: any;     // Holds the inactivity timer for the mouse move event over the player area\r\n  userActivity: boolean;      // Check if there's any user activity (mouse)\r\n  activityCheck: any;         // Timer for periodically checking the mouse activity (default 250ms)\r\n  barsState: string = 'out';  // For the bars animation\r\n\r\n  constructor(private service: PlayerService,\r\n              private route: ActivatedRoute,\r\n              private router: Router,\r\n              private globals: GlobalsService,\r\n              private loading: LoadingService) {\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.assetId || this.init();\r\n  }\r\n\r\n  init() {\r\n      // obtaining route's params should preferably be done here ;)\r\n      this.route.params\r\n          .subscribe(params => {\r\n              this.service.getAssetDetails(this.assetId || this.route.snapshot.params['id']);\r\n          });\r\n\r\n      // Show we're doing some cool stuff in the background, like handing cookies :P\r\n      this.assetId || this.loading.set(true);\r\n      this.service.asset.take(1)\r\n          .subscribe(\r\n              response => {\r\n                  this.data = response;\r\n\r\n                  // get the asset's video stream ID\r\n                  this.streamID = this.data.asset.video.streams.id;\r\n                  this.service.getStream(this.data.asset.id, this.streamID);\r\n              });\r\n\r\n      // get the stream data\r\n      this.service.stream.subscribe(\r\n          response => {\r\n              this.streamURL = response.stream.url;\r\n\r\n\r\n              // FIXME: API Should support this. In the meantime just determine the mimetype :P\r\n              if (response.stream.MIMEType === \"\") {\r\n                  // Check if there are any query params coming with the url first\r\n                  let qCheck = this.streamURL.split('?');\r\n                  if (qCheck.length > 1) {\r\n                      this.streamType = qCheck[0].split('.').pop();\r\n                  }\r\n                  else {\r\n                      this.streamType = this.streamURL.split('.').pop();\r\n                  }\r\n                  let mime = require('mime-types');\r\n                  this.mimeType = mime.lookup(this.streamType);\r\n              }\r\n              else {\r\n                  this.mimeType = response.stream.MIMEType;\r\n              }\r\n\r\n              this.initializePlayer(this.streamURL, this.mimeType);\r\n              this.loading.set(false);\r\n          });\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    videojs('player').dispose();\r\n\r\n    // Don't forget to clear the timers :P\r\n    clearInterval(this.activityCheck);\r\n    clearTimeout(this.inactivityTimeout);\r\n  }\r\n\r\n  initializePlayer(url:string, mimetype: string) {\r\n    let self = this;\r\n    this.player = videojs('player');\r\n    this.player.src({\r\n      src: url,\r\n      type: mimetype,\r\n      textTrackSettings: false,\r\n      autoplay: true\r\n    });\r\n\r\n    // Things to do after the current media has finished\r\n    this.player.on('ended', function() {\r\n      self.videoEnd();\r\n    });\r\n\r\n    /**\r\n     * Deal with mouse events so that we can show/hide the personalized bars\r\n     * @Notes: check for mouse activity every 250ms and set an inactivity\r\n     * timeout good for 2s\r\n     */\r\n    this.player.on('mousemove', function(){\r\n      self.userActivity = true;\r\n    });\r\n\r\n    self.activityCheck = setInterval(function() {\r\n\r\n      // Check to see if the mouse has been moved\r\n      if (self.userActivity) {\r\n\r\n        // Reset the activity tracker\r\n        self.userActivity = false;\r\n\r\n        self.barsState = 'in';\r\n\r\n        // If the user state was inactive, set the state to active\r\n        if (self.player.userActive() === false) {\r\n          self.player.userActive(true);\r\n        }\r\n\r\n        // Clear any existing inactivity timeout to start the timer over\r\n        clearTimeout(self.inactivityTimeout);\r\n\r\n        // In X seconds, if no more activity has occurred\r\n        // the user will be considered inactive\r\n        self.inactivityTimeout = setTimeout(function() {\r\n          // Protect against the case where the inactivity timeout can trigger\r\n          // before the next user activity is picked up  by the\r\n          // activityCheck loop.\r\n          if (!self.userActivity) {\r\n            self.player.userActive(false);\r\n            self.barsState = 'out';\r\n          }\r\n          console.log('inactivityTimeout reached');\r\n        }, 2000);\r\n      }\r\n    }, 250);\r\n\r\n  }\r\n\r\n  /**\r\n   * Things to do after video has ended:\r\n   * movie - go back to details page\r\n   * series - go to next episode if available. if not back to details\r\n   */\r\n  videoEnd() {\r\n    // Movies first (they're easier to deal with :P )\r\n    if (this.data.asset.type=='movies') {\r\n      this.returnToDetails();\r\n    }\r\n\r\n  }\r\n\r\n  /**\r\n   * Return to asset details when player 'back' btn is pressed\r\n   */\r\n  returnToDetails() {\r\n    this.router.navigate(['movie/', this.route.snapshot.params['id']]);\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    this.init();\r\n  }\r\n\r\n  openVideo() {\r\n\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/player/player.component.ts","import {NgModule}           from '@angular/core';\r\nimport {CommonModule}       from '@angular/common';\r\nimport {PlayerComponent}   from './player.component';\r\nimport {PlayerService} from \"./player.service\";\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  declarations: [\r\n    PlayerComponent\r\n  ],\r\n  exports: [\r\n    PlayerComponent\r\n  ],\r\n  providers: [\r\n    PlayerService\r\n  ]\r\n})\r\n\r\nexport class PlayerModule {\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/player/player.module.ts","import { Injectable } from '@angular/core';\r\nimport {HttpClient, HttpHeaders, HttpParams} from \"@angular/common/http\";\r\nimport {APIDataResponse, APISuccessResponse, GlobalsService} from '../globals.service';\r\nimport {Subject} from \"rxjs/Subject\";\r\nimport {Asset} from \"../models/asset\";\r\nimport {Stream} from \"../models/stream\";\r\nimport {BehaviorSubject} from \"rxjs/BehaviorSubject\";\r\n\r\n@Injectable()\r\nexport class PlayerService {\r\n\r\n  public asset: Subject<Asset> = new Subject<Asset>();\r\n  private _asset: Asset;    // if we need to access the data immediately\r\n  public stream: Subject<Stream> = new Subject<Stream>();\r\n  private _stream: Stream;  // if we need to access the data immediately\r\n  public streamError$: BehaviorSubject<boolean> = new BehaviorSubject(false);\r\n\r\n  constructor(\r\n    private http: HttpClient,\r\n    private globals: GlobalsService\r\n  ) { }\r\n\r\n  /**\r\n   * Get an asset's details by its ID\r\n   * @Notes also gets the related\r\n   * @param {string} id\r\n   */\r\n  getAssetDetails(id: string) {\r\n    let headers = new HttpHeaders()\r\n      .set('Accept-Language', this.globals.settings.default_language);\r\n    let params = new HttpParams()\r\n      .set('device_type', 'web')\r\n      .set('device_layout', 'web');\r\n\r\n    this.http.get<APIDataResponse>(this.globals.endpoints.assets+'/'+id, {headers: headers, params: params})\r\n      .toPromise()\r\n      .then(res => {\r\n        this.asset.next(res.data);\r\n        this._asset = res.data;\r\n      })\r\n      .catch(function (error) {\r\n        console.error(error);\r\n      });\r\n  }\r\n\r\n\r\n  /**\r\n   * Get an asset's video stream, given its ID and the stream's\r\n   * @param {string} assetID\r\n   * @param {string} streamID\r\n   */\r\n  getStream(assetID: string, streamID: string) {\r\n    let headers = new HttpHeaders()\r\n      .set('Accept-Language', this.globals.settings.default_language)\r\n      .set('Authorization', 'Bearer '+this.globals.authToken);\r\n    let params = new HttpParams()\r\n      .set('device_type', 'web')\r\n      .set('device_layout', 'web');\r\n\r\n    // assetsStream: this.API + '/assets/{asset_id}/streams/{stream_id}'\r\n\r\n    // replace the current profile token in the path\r\n    let firstPass = this.globals.endpoints.assetsStream.replace('{asset_id}', assetID);\r\n    let endpoint = firstPass.replace('{stream_id}', streamID);\r\n\r\n    this.http.get<APIDataResponse>(endpoint, {headers: headers, params: params})\r\n      .toPromise()\r\n      .then( res => {\r\n        this.streamError$.next(false);\r\n        this.stream.next(res.data);\r\n        this._stream = res.data;\r\n      })\r\n      .catch(err => this.streamError$.next(true));\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/player/player.service.ts","module.exports = \"<div class=\\\"playlist-element\\\"\\r\\n  [ngStyle]=\\\"{'border-width': layout.element_vertical_spacing / 2 + 'px ' + layout.element_horizontal_spacing / 2 + 'px', 'margin-top': (layout.metadata_position==='top' && layout.show_elements_title!='none' ?2:0)+'em'}\\\">\\r\\n  <a *ngIf=\\\"!extraFun && !clickFn\\\" routerLink=\\\"/movie/{{data.slug}}\\\">\\r\\n    <img src=\\\"{{placeholder}}\\\" data-src=\\\"{{imageUrl}}\\\" (error)=\\\"setNoImagePic()\\\" class=\\\"item-image\\\">\\r\\n    <!-- {{layout.move_after_behaviour}} -->\\r\\n    <div class=\\\"rating\\\"\\r\\n         *ngIf=\\\"layout.show_elements_rating!='none'\\\"\\r\\n         [class.show-on-hover]=\\\"layout.show_elements_rating =='focus'\\\">{{data.rating}} <img\\r\\n      src=\\\"assets/star.png\\\"></div>\\r\\n    <!--<progress max=\\\"100\\\"-->\\r\\n              <!--value=\\\"{{data.progress}}\\\"-->\\r\\n              <!--*ngIf=\\\"layout.show_elements_view_progress!='none'\\\"-->\\r\\n              <!--[class.show-on-hover]=\\\"layout.show_elements_view_progress =='focus'\\\"></progress>-->\\r\\n  </a>\\r\\n  <a *ngIf=\\\"!extraFun && clickFn \\\" (click)=\\\"clickFn(data.id, data.image.url)\\\">\\r\\n    <img src=\\\"{{placeholder}}\\\" data-src=\\\"{{imageUrl}}\\\" (error)=\\\"setNoImagePic()\\\" class=\\\"item-image\\\" *ngIf=\\\"data.image.url\\\">\\r\\n    <img src=\\\"http://via.placeholder.com/264x220/a9a9a9?text={{data.id}}\\\" alt=\\\"\\\" *ngIf=\\\"!data.image.url\\\" class=\\\"item-image\\\">\\r\\n    <!-- {{layout.move_after_behaviour}} -->\\r\\n    <div class=\\\"rating\\\"\\r\\n         *ngIf=\\\"layout.show_elements_rating!='none'\\\"\\r\\n         [class.show-on-hover]=\\\"layout.show_elements_rating =='focus'\\\">{{data.rating}} <img\\r\\n            src=\\\"assets/star.png\\\"></div>\\r\\n    <!--<progress max=\\\"100\\\"-->\\r\\n    <!--value=\\\"{{data.progress}}\\\"-->\\r\\n    <!--*ngIf=\\\"layout.show_elements_view_progress!='none'\\\"-->\\r\\n    <!--[class.show-on-hover]=\\\"layout.show_elements_view_progress =='focus'\\\"></progress>-->\\r\\n  </a>\\r\\n  <div *ngIf=\\\"!extraFun\\\" [ngStyle]=\\\"{'height': '0', 'overflow': 'visible'}\\\" [ngClass]=\\\"layout.style +' '+(layout.show_elements_title!='none' ?layout.metadata_position:'')\\\" [class.show-on-hover]=\\\"layout.show_elements_title =='focus'\\\">\\r\\n\\r\\n    <div *ngIf=\\\"layout.show_elements_title!='none'\\\" class=\\\"playElementTitle\\\"\\r\\n        [class.show-on-hover]=\\\"layout.show_elements_title =='focus'\\\">\\r\\n      <b *ngIf=\\\"layout.show_elements_favorite!='none'\\\"\\r\\n         [class.show-on-hover]=\\\"layout.show_elements_favorite =='focus'\\\">\\r\\n        <img src=\\\"assets/favourite.png\\\">\\r\\n      </b>{{data.name}}\\r\\n    </div>\\r\\n  </div>\\r\\n  <div *ngIf=\\\"extraFun\\\" class=\\\"userFormat\\\" (click)=\\\"data.view.callback(data.view.param, data.id)\\\">\\r\\n    <img *ngIf=\\\"data.view.type=='image'\\\" src=\\\"{{placeholder}}\\\" data-src=\\\"{{imageUrl}}\\\" (error)=\\\"setNoImagePic()\\\" class=\\\"item-image\\\">\\r\\n    <div>{{data.view.text}}</div>\\r\\n  </div>\\r\\n\\r\\n</div>\\r\\n\\r\\n<div *ngIf=\\\"showExtraInfo\\\" class=\\\"extra-info\\\">\\r\\n  <h1>{{data.name}}</h1>\\r\\n  <p>{{data.short_description}}</p>\\r\\n</div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/playlist-element/playlist-element.component.html\n// module id = ./src/app/playlist-element/playlist-element.component.html\n// module chunks = main","import {Component, OnInit, Input, ElementRef} from '@angular/core';\r\nimport {Layout} from '../models/layout';\r\nimport {UtilsService} from '../utils.service';\r\nimport {GlobalsService} from \"../globals.service\";\r\nimport * as $ from \"jquery\";\r\n\r\n@Component({\r\n  selector: 'app-playlist-element',\r\n  templateUrl: './playlist-element.component.html'\r\n})\r\n\r\nexport class PlaylistElementComponent implements OnInit {\r\n  @Input() data: any;\r\n  @Input() layout: Layout;\r\n  @Input() showExtraInfo: boolean;\r\n  @Input() clickFn: any;\r\n  extraFun: boolean;  // true if element data.view exists\r\n  imageUrl: string;\r\n  public placeholder: string;\r\n\r\n  constructor( private utils: UtilsService, private globals: GlobalsService) {}\r\n\r\n  ngOnInit() {\r\n\r\n    this.placeholder  = this.utils.resizeImage(this.globals.API.slice(0,-4)+this.layout.element_placeholder_image, Math.round(1320 / this.layout.columns), this.layout.assets_format_ratio, 'fit');\r\n\r\n\r\n    // New rules from the API dictate that the image may come with a resize type \"fit\" or \"crop\"\r\n    this.data.image.url = this.utils.resizeImage(this.data.image.url, Math.round(1320 / this.layout.columns), this.layout.assets_format_ratio, this.layout.image_resize_type);\r\n    this.imageUrl=this.data.image.url;\r\n    this.extraFun=this.data.hasOwnProperty(\"view\");\r\n  }\r\n\r\n\r\n  setNoImagePic() {\r\n    this.imageUrl=this.globals.API.slice(0,-4)+'uploads/placeholder/placeholder.png';\r\n\r\n  }\r\n\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/playlist-element/playlist-element.component.ts","import {NgModule}           from '@angular/core';\r\nimport {CommonModule}       from '@angular/common';\r\nimport {PlaylistElementComponent}   from './playlist-element.component';\r\nimport {RouterModule} from '@angular/router';\r\n\r\n@NgModule({\r\n  imports:      [\r\n    CommonModule,\r\n    RouterModule\r\n  ],\r\n  declarations: [\r\n    PlaylistElementComponent\r\n  ],\r\n  exports:      [\r\n    PlaylistElementComponent\r\n  ],\r\n  providers:    [\r\n\r\n  ]\r\n})\r\n\r\nexport class PlaylistElementModule {\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/playlist-element/playlist-element.module.ts","module.exports = \"<div class=\\\"subscriptionsContentWrapper\\\">\\r\\n  <h3 style=\\\"text-align: center\\\">{{globals.strings.SUBSCRIPTIONS_PLAN_TITLE || 'Subscription plan(hardcoded)'}}</h3>\\r\\n  <!-- Show all available subscriptions -->\\r\\n  <table *ngIf=\\\"gotSubscriptions\\\" class=\\\"subscriptionsTableWrapper\\\" >\\r\\n    <tr *ngFor=\\\"let plan of globals.subscriptions.data; let i = index\\\">\\r\\n      <!-- Plan name -->\\r\\n      <td class=\\\"subscriptionsPlan\\\" [ngStyle]=\\\"{'background-color': colorPlan[i].bkCol,'color': colorPlan[i].textCol}\\\" > {{plan.plan_name}}</td>\\r\\n      <!-- Plan description -->\\r\\n      <td class=\\\"subscriptionsDetails\\\" [style.borderColor]=\\\"colorPlan[i].bkCol\\\">{{plan?.headline}}</td>\\r\\n      <!-- <div class=\\\"subscriptionsDetails\\\" [ngStyle]=\\\"{'border-color': colorPlan[i]}\\\">{{plan.id}}</div> -->\\r\\n    </tr>\\r\\n  </table>\\r\\n</div>\\r\\n\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/pricing/pricing.component.html\n// module id = ./src/app/pricing/pricing.component.html\n// module chunks = main","import { Component, OnInit } from '@angular/core';\r\nimport { SubscriptionsService} from '../subscriptions/subscriptions.service';\r\nimport { GlobalsService} from '../globals.service';\r\n\r\n@Component({\r\n  selector: 'app-pricing',\r\n  templateUrl: './pricing.component.html'\r\n})\r\nexport class PricingComponent implements OnInit {\r\n  gotSubscriptions = false;\r\n  colorPlan: any[] = [];\r\n\r\n  constructor(\r\n    public subscriptionService: SubscriptionsService,\r\n    public globals: GlobalsService) { }\r\n\r\n  ngOnInit() {\r\n    this.colorPlan.push({textCol: '#07183e', bkCol: '#ffffff'},\r\n    {textCol: '#ffffff', bkCol: '#c39d07'},\r\n    {textCol: '#ffffff', bkCol: '#b2b2b2'},\r\n    {textCol: '#ffffff', bkCol: '#f37a7a'},\r\n    {textCol: '#ffffff', bkCol: '#9cc05e'});\r\n    this.subscriptionService.getAllSubscriptions();\r\n    this.subscriptionService.allSubscriptions.subscribe(value => {\r\n      if (value.hasOwnProperty('data') && value.data.length > 0) {\r\n          this.gotSubscriptions = true;\r\n      }\r\n    });\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/pricing/pricing.component.ts","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { PricingComponent } from './pricing.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  declarations: [PricingComponent]\r\n})\r\nexport class PricingModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/pricing/pricing.module.ts","module.exports = \"<div id=\\\"profile-drawer\\\" *ngIf=\\\"visible\\\" @profileDrawerAnimation>\\r\\n  <div id=\\\"currProfileDetails\\\">\\r\\n    <div id=\\\"profilesLoading\\\" *ngIf=\\\"loading\\\">\\r\\n      <div class=\\\"spinner\\\">\\r\\n        <div class=\\\"bounce1\\\"></div>\\r\\n        <div class=\\\"bounce2\\\"></div>\\r\\n        <div class=\\\"bounce3\\\"></div>\\r\\n      </div>\\r\\n      <span style=\\\"font-size: 14px; text-align: center;\\\">{{globals.strings.SELECT_PROFILE_FETCHING}}</span>\\r\\n    </div>\\r\\n\\r\\n    <table class=\\\"profileDetailsTbl\\\">\\r\\n      <tr>\\r\\n        <td><img style=\\\"width: 76px; height: 76px;\\\" src=\\\"{{globals.currProfile?.profile_picture?.url || globals.currProfile?.avatar.url}}\\\"></td>\\r\\n        <td><span style=\\\"color: #fff; font-size: 18px; font-weight: bold;\\\">{{globals.currProfile?.name}}</span><br><span style=\\\"font-size: 12px;\\\">{{globals.currProfile?.email}}</span></td>\\r\\n      </tr>\\r\\n    </table>\\r\\n\\r\\n  </div>\\r\\n\\r\\n  <div id=\\\"addProfile\\\">\\r\\n    <a (click)=\\\"addProfile()\\\"><i id=\\\"addProfileIcon\\\" class=\\\"fa fa-plus-circle\\\" aria-hidden=\\\"true\\\"></i><br/>\\r\\n    {{globals.strings?.ADD_PROFILE_TITLE}}\\r\\n    </a>\\r\\n  </div>\\r\\n\\r\\n\\r\\n  <div id=\\\"profilesList\\\">\\r\\n    <table class=\\\"profilesListTbl\\\">\\r\\n      <tr class=\\\"profilesListRow\\\" *ngFor=\\\"let profile of globals.userProfiles\\\" (click)=\\\"selectProfile(profile?.token)\\\">\\r\\n        <td class=\\\"profilesListAvatar\\\"><img class=\\\"avatarIcon\\\" src=\\\"{{profile?.avatar.url}}\\\"></td>\\r\\n        <td class=\\\"profilesListName\\\">{{profile?.name}}</td>\\r\\n        <td class=\\\"profilesListEditIcon\\\"><a [attr.data-profile-token]=\\\"profile?.token\\\" (click)=\\\"editProfile(profile?.token)\\\"><i class=\\\"fa fa-edit\\\"></i></a></td>\\r\\n        <td class=\\\"profilesListTrashIcon\\\"><a [attr.data-profile-token]=\\\"profile?.id\\\" (click)=\\\"deleteProfile(profile?.id)\\\"><i class=\\\"fa fa-trash-o\\\" aria-hidden=\\\"true\\\"></i></a></td>\\r\\n      </tr>\\r\\n    </table>\\r\\n  </div>\\r\\n\\r\\n  <div style=\\\"text-align: center\\\">\\r\\n    <button id=\\\"signOutBtn\\\" (click)=\\\"logout()\\\">{{globals.strings.SETTINGS_SCREEN_SIGN_OUT}}</button>\\r\\n  </div>\\r\\n\\r\\n</div>\\r\\n\\r\\n<div *ngIf=\\\"addModalVisible\\\" class=\\\"popup-container\\\">\\r\\n  <div class=\\\"popup-close\\\" (click)=\\\"isVisible=false\\\"></div>\\r\\n  <div class=\\\"popup-content\\\">\\r\\n    <div id=\\\"loginContent\\\">\\r\\n      <span class=\\\"close-button\\\" (click)=\\\"isVisible=false\\\"></span>\\r\\n\\r\\n      <form id=\\\"addProfileFrm\\\" (ngSubmit)=\\\"submit()\\\">\\r\\n        <div class=\\\"form-group\\\">\\r\\n          <label id=\\\"id1-AddProfLabel\\\" for=\\\"profileNameInp\\\">{{globals.strings.ADD_PROFILE_NAME_LABEL}}</label>\\r\\n          <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"profileNameInp\\\" name=\\\"profileNameInp\\\"  aria-labelledby=\\\"id1-AddProfLabel\\\" aria-describedby=\\\"id1\\\" aria-required=\\\"true\\\"  [(ngModel)]=\\\"model.profileNameInp\\\" required>\\r\\n        </div>\\r\\n\\r\\n        <p>{{globals.strings.CREATE_PROFILE_UPLOAD_A_PIC}}</p>\\r\\n\\r\\n\\r\\n        <table>\\r\\n          <tr>\\r\\n            <td><img src=\\\"assets/ic-default-avatar.png\\\"></td>\\r\\n            <td>\\r\\n              <div class=\\\"form-group\\\">\\r\\n                <label id=\\\"id2-profAvatarFile\\\" class=\\\"btn btn-default btn-file\\\">\\r\\n                  <input type=\\\"file\\\" style=\\\"display: none;\\\" id=\\\"profileAvatarFile\\\" name=\\\"profileAvatarFile\\\"  aria-labelledby=\\\"id2-profAvatarFile\\\" aria-describedby=\\\"id2\\\" [(ngModel)]=\\\"model.profileAvatarFile\\\">\\r\\n                </label>\\r\\n              </div>\\r\\n            </td>\\r\\n            <td>{{globals.strings.GENERAL_OR}}</td>\\r\\n          </tr>\\r\\n        </table>\\r\\n\\r\\n        <div class=\\\"avatarRow\\\" *ngFor=\\\"let group of avatarsListGrouped; let i = index\\\">\\r\\n          <div class=\\\"avatarCol\\\" *ngFor=\\\"let avatar of avatarsListGrouped[i]\\\">\\r\\n            <img src=\\\"{{avatar.url}}\\\">\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"form-group\\\">\\r\\n          <button type=\\\"submit\\\" class=\\\"btn btn-success\\\">{{globals.strings.GENERAL_CREATE}}</button>\\r\\n        </div>\\r\\n      </form>\\r\\n\\r\\n      <div *ngIf=\\\"opMsgs!==null\\\" class=\\\"errorMsgs\\\" @fadeInAnimation>{{errorMsg}}</div>\\r\\n\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/profile-drawer/profile-drawer.component.html\n// module id = ./src/app/profile-drawer/profile-drawer.component.html\n// module chunks = main","import {Component, OnDestroy, OnInit} from '@angular/core';\r\nimport {APIDataResponse, GlobalsService} from '../globals.service';\r\nimport {ProfileDrawerService} from \"./profile-drawer.service\";\r\nimport {profileDrawerAnimation} from \"../_animations/profile-drawer.animation\";\r\nimport swal from 'sweetalert2';\r\nimport {HttpClient, HttpParams} from \"@angular/common/http\";\r\nimport {LoginService} from \"../login/login.service\"; // For logout\r\nimport {Router} from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'profile-drawer',\r\n  templateUrl: './profile-drawer.component.html',\r\n  animations: [profileDrawerAnimation]\r\n})\r\n\r\nexport class ProfileDrawerComponent implements OnInit, OnDestroy {\r\n\r\n  visible: boolean = false;           // Determines whether the profile drawer is opened or closed\r\n  loading: boolean = false;           // Show a spinner while the profiles are loading.\r\n  addModalVisible: boolean = false;   // Whether we show the add profile or not\r\n  avatarsListGrouped: any [];         // Grouping the avatar images by 4 so that they fit nicely on a table\r\n  opMsgs: string = null;              // For presenting success/error messages in the add profile modal\r\n  private maxAvatars: string = \"12\";  // Maximum number of avatar to fetch from the API\r\n  private groupBy: number = 4;         // Modify this to show a different number per row\r\n\r\n\r\n  constructor(\r\n    private profileDrawerService: ProfileDrawerService,\r\n    private loginService: LoginService,\r\n    public globals: GlobalsService,\r\n    private http: HttpClient,\r\n    private router: Router\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    // Subscribe to the visibility status of the profile drawer\r\n    this.profileDrawerService.visible.subscribe((value => {\r\n      this.visible = value;\r\n      // If the drawer is opening start reading the profiles list\r\n      if (this.visible) {\r\n        console.log(\"Loading Profiles...\");\r\n        this.loadAllProfiles();\r\n        // TODO: run a sliding animation to show the drawer\r\n      }\r\n      else {\r\n        // TODO: run a sliding animation to hide the drawer\r\n      }\r\n\r\n    }));\r\n\r\n    // Subscribe to the loading status of the profiles list\r\n    this.profileDrawerService.loading.subscribe((value => {\r\n      this.loading = value;\r\n    }));\r\n\r\n    // Subscribe to the finished status of the logout process\r\n    this.loginService.finishedLogout.subscribe(value => {\r\n      this.globals.userLoggedIn = false;\r\n      this.globals.accountToken = null;\r\n      this.globals.accountProfileToken = null;\r\n      this.globals.userProfiles = [];\r\n      this.globals.currProfile = null;\r\n      // Finally hide the profile drawer\r\n      this.visible = false;\r\n    });\r\n\r\n  }\r\n\r\n  /**\r\n   * Read all the user's profiles into globals.userProfiles[]\r\n   */\r\n  loadAllProfiles() {\r\n    this.profileDrawerService.readAllProfiles();\r\n  }\r\n\r\n  /**\r\n   * Make the selected profile the current one\r\n   * @param {string} token\r\n   */\r\n  selectProfile(token: string) {\r\n    this.globals.accountProfileToken = token;\r\n\r\n    this.globals.userProfiles.forEach((element) => {\r\n      if (element.token === token) {\r\n        this.globals.currProfile = element;\r\n        this.globals.currAvatar = element.avatar.url;\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Edit a profile with a given token\r\n   * @param {string} token\r\n   */\r\n  editProfile(token: string) {\r\n    console.log(\"Editing profile with token [\"+token+\"]\");\r\n    this.profileDrawerService.readProfileDetails(token);\r\n\r\n    // TODO: this should call a modal for modifying the profile's info\r\n  }\r\n\r\n  /**\r\n   * Add a profile\r\n   * @Notes: check if we haven't reached the maximum amount of allowed profiles...\r\n   */\r\n  addProfile() {\r\n    let maxProfiles = this.globals.settings.profiles_limit;\r\n    /*\r\n    if (this.globals.userProfiles.length < maxProfiles) {\r\n      this.loadAvatars();\r\n\r\n     this.addModalVisible = true;\r\n    }\r\n    else {\r\n      swal({\r\n          type: 'warning',\r\n          html:'<span style=\"color: #fff;\">'+this.globals.strings.CREATE_PROFILE_MAX_NUMBER_MSG+'</span>',\r\n          background: '#2a292a'\r\n        }\r\n      );\r\n      return;\r\n    }\r\n    */\r\n  }\r\n\r\n  /**\r\n   * delete a profile with a given id\r\n   * @param {string} id\r\n   */\r\n  deleteProfile(id: string) {\r\n    swal({\r\n      title: '<span style=\"color: #fff;\">'+this.globals.strings.EDIT_PROFILE_SURE_DELETE+'</span>',\r\n      type: 'warning',\r\n      showCancelButton: true,\r\n      confirmButtonText: this.globals.strings.GENERAL_YES,\r\n      cancelButtonText: this.globals.strings.GENERAL_NO,\r\n      background: '#2a292a'\r\n    }\r\n  ).then(result => {\r\n    if (result.value) {\r\n      this.profileDrawerService.deleteProfile(id);\r\n    }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * GET the available profile avatars images\r\n   */\r\n  loadAvatars() {\r\n    let params = new HttpParams()\r\n      .set('limit', this.maxAvatars)\r\n      .set('page', '1')\r\n      .set('device_type', 'web');\r\n    this.http.get<APIDataResponse>(this.globals.endpoints.profileAvatars, {params: params})\r\n      .toPromise()\r\n      .then(\r\n        res => {\r\n          this.globals.profileAvatars = res.data;\r\n          // Group the list of avatar images by 4 so they fit nicely on a 4x4 table\r\n          for (let i=1; i < parseInt(this.maxAvatars); i = i + this.groupBy) {\r\n            let group = this.globals.profileAvatars.slice(i, i + this.groupBy);\r\n            this.avatarsListGrouped.push(group);\r\n          }\r\n        }\r\n      )\r\n      .catch(function (error) {\r\n        console.error(error);\r\n      });\r\n  }\r\n\r\n  /**\r\n   * Sign out the current user\r\n   */\r\n  logout() {\r\n    this.loginService.logout();\r\n    // Since we might be in some logged in-content-only area ... just navigate to Home :P\r\n    this.router.navigate(['']);\r\n  }\r\n\r\n\r\n  ngOnDestroy() {\r\n    /*// unsubscribe to ensure no memory leaks\r\n    this.profileDrawerService.visible.unsubscribe();\r\n    this.profileDrawerService.loading.unsubscribe();*/\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/profile-drawer/profile-drawer.component.ts","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ProfileDrawerComponent } from './profile-drawer.component';\r\nimport {ProfileDrawerService} from \"./profile-drawer.service\";\r\nimport {FormsModule} from \"@angular/forms\";\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule\r\n  ],\r\n  exports: [\r\n    ProfileDrawerComponent\r\n  ],\r\n  declarations: [ProfileDrawerComponent],\r\n  providers: [\r\n    ProfileDrawerService,\r\n    ProfileDrawerComponent\r\n  ]\r\n})\r\nexport class ProfileDrawerModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/profile-drawer/profile-drawer.module.ts","import {Injectable} from '@angular/core';\r\n\r\nimport {APIDataResponse, GlobalsService} from '../globals.service';\r\n\r\nimport {Observable} from \"rxjs/Observable\";\r\nimport {HttpClient, HttpHeaders, HttpParams} from \"@angular/common/http\";\r\nimport {Profile} from \"./Profile\";\r\nimport 'rxjs/add/operator/map';\r\nimport {BehaviorSubject} from \"rxjs/BehaviorSubject\";\r\nimport swal from \"sweetalert2\";\r\n\r\n@Injectable()\r\nexport class ProfileDrawerService {\r\n\r\n  // Subjects available to all subscribers\r\n  // @Notes: BehaviourSubject was chosen because of the availability of the method getValue() ;)\r\n  visible: BehaviorSubject<boolean> = new BehaviorSubject<boolean>(false);\r\n  loading: BehaviorSubject<boolean> = new BehaviorSubject<boolean>(false);\r\n\r\n  constructor(\r\n    private globals: GlobalsService,\r\n    private http: HttpClient\r\n  ) { }\r\n\r\n  /**\r\n   * Toggle the visibility of the profiles drawer, by emitting a new value to all subscribers\r\n   */\r\n  toggle() {\r\n    this.visible.next(!this.visible.getValue());\r\n  }\r\n\r\n  /**\r\n   * Get all the profiles for a user account\r\n   */\r\n  readAllProfiles() {\r\n    // Emit a loading profiles status to all subscribers\r\n    this.loading.next(true);\r\n    let headers = new HttpHeaders()\r\n      .set('Accept-Language', this.globals.settings.default_language)\r\n      .set('Authorization', 'Bearer '+this.globals.authToken);\r\n    let params = new HttpParams()\r\n      .set('device_type', 'web');\r\n\r\n    let endpoint = this.globals.endpoints.profiles.replace('{account_token}', this.globals.accountToken);\r\n\r\n    this.http.get<APIDataResponse>(endpoint, {headers: headers, params: params})\r\n      .toPromise()\r\n      .then( res => {\r\n        this.globals.userProfiles = res.data;\r\n        this.loading.next(false);\r\n      })\r\n      .catch(function (error) {\r\n        console.error(error);\r\n        this.loading.next(false);\r\n      });\r\n  }\r\n\r\n  /**\r\n   * Read the details for a given profile token and make it the current profile in the globals section\r\n   * @param {string} token\r\n   */\r\n  readProfileDetails(token: string) {\r\n    let headers = new HttpHeaders()\r\n      .set('Authorization', 'bearer '+this.globals.authToken);\r\n    let params = new HttpParams()\r\n      .set('device_type', 'web');\r\n\r\n    this.http.get<APIDataResponse>(this.globals.endpoints.profile + token, {headers: headers, params: params})\r\n      .toPromise()\r\n      .then(\r\n        res => {\r\n          console.log(\"Profile init()\");\r\n          this.globals.currProfile = res.data;\r\n        }\r\n      )\r\n      .catch(function (error) {\r\n        console.error(error);\r\n      });\r\n  }\r\n\r\n  /**\r\n   * Create or update a profile\r\n   * @param {Profile} newProfile\r\n   * @returns {Observable<any>}\r\n   */\r\n  // TODO: NOT WORKING YET. REWRITE THIS CODE!\r\n  createUpdateProfile(profile: Profile)  {\r\n    let headers = new HttpHeaders()\r\n      .set('Accept-Language', this.globals.settings.default_language)\r\n      .set('Authorization', 'Bearer '+this.globals.authToken);\r\n    return this.http.post(this.globals.endpoints.profiles, JSON.stringify(profile.toJS()), {headers});\r\n  }\r\n\r\n  /**\r\n   * Delete a profile\r\n   * @param {id} string\r\n   */\r\n  deleteProfile(id: string) {\r\n    let headers = new HttpHeaders()\r\n      .set('Accept-Language', this.globals.settings.default_language)\r\n      .set('Authorization', 'Bearer '+this.globals.authToken);\r\n\r\n    let params = new HttpParams()\r\n      .set('profile_id', id)\r\n      .set('device_type', 'web');\r\n\r\n    let endpoint = this.globals.endpoints.profiles.replace('{account_token}', this.globals.accountToken);\r\n    this.http.delete<APIDataResponse>(endpoint, {headers: headers, params: params})\r\n      .toPromise()\r\n      .then(res => {\r\n        swal({\r\n            type: 'success',\r\n            background: '#2a292a',\r\n            html: '<span style=\"color: #fff;\">'+res.data.description+'</span>'\r\n          }\r\n        );\r\n        // Update the list of profiles\r\n        this.readAllProfiles();\r\n      })\r\n      .catch(function (error) {\r\n        console.error(error);\r\n        swal({\r\n            type: 'error',\r\n            html:'<span style=\"color: #fff;\">'+error.description+'</span>',\r\n            background: '#2a292a'\r\n          }\r\n        );\r\n      });\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/profile-drawer/profile-drawer.service.ts","import { Injectable } from '@angular/core';\r\nimport {Subject} from 'rxjs/Rx';\r\n\r\n@Injectable()\r\nexport class RecoverPinPopupService {\r\n  show: Subject<boolean> = new Subject();\r\n\r\n  constructor() { }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/recover-pin/recover-pin-popup.service.ts","module.exports = \"<div *ngIf=\\\"isVisible\\\" class=\\\"popup-container\\\">\\r\\n  <div class=\\\"popup-close\\\" (click)=\\\"isVisible=false\\\"></div>\\r\\n  <div class=\\\"popup-content\\\">\\r\\n    <div>\\r\\n      <span class=\\\"close-button\\\" (click)=\\\"isVisible=false\\\"></span>\\r\\n      <div style=\\\"text-align:center;\\\">\\r\\n        <p>{{globals.strings.SCREEN_RECOVER_PIN}}</p>\\r\\n        <p>{{globals.strings.INFO_PIN_RECOVER}}</p>\\r\\n        <button (click)=\\\"hidePopup();\\\">{{globals.strings.BUTTON_CANCEL}}</button>\\r\\n        <button (click)=\\\"sendEmail();\\\">{{globals.strings.BUTTON_CONFIRM}}</button>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/recover-pin/recover-pin.component.html\n// module id = ./src/app/recover-pin/recover-pin.component.html\n// module chunks = main","import { Component, OnInit } from '@angular/core';\r\nimport { GlobalsService} from '../globals.service';\r\nimport {HttpClient, HttpHeaders, HttpParams} from '@angular/common/http';\r\n\r\nimport { RecoverPinPopupService} from './recover-pin-popup.service';\r\n\r\n@Component({\r\n  selector: 'app-recover-pin',\r\n  templateUrl: './recover-pin.component.html'\r\n})\r\nexport class RecoverPinComponent implements OnInit {\r\n  isVisible = false;\r\n\r\n  constructor(\r\n    public globals: GlobalsService,\r\n    private popup: RecoverPinPopupService,\r\n    private http: HttpClient) {\r\n      popup.show.subscribe((val: boolean) => this.showPopup());\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  showPopup() {\r\n    this.isVisible = true;\r\n  }\r\n\r\n  hidePopup() {\r\n    this.isVisible = false;\r\n  }\r\n\r\n  sendEmail() {\r\n    /*\r\n    let path = this.globals.endpoints.recoverParentalPin;\r\n    path = path.replace('{account_token}', this.globals.accountToken);\r\n\r\n    const headers = new HttpHeaders()\r\n      .set('Accept-Language', this.globals.settings.default_language)\r\n      .set('Authorization', this.globals.settings.authToken);\r\n\r\n    const params = new HttpParams()\r\n      .set('device_type', 'web');\r\n\r\n    this.http.put(path, {headers: headers, params: params})\r\n      .toPromise()\r\n      .then()\r\n      .catch(err => console.error(err));\r\n*/\r\n    alert('Code to send email is commented! Waiting for server development');\r\n    this.hidePopup();\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/recover-pin/recover-pin.component.ts","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { RecoverPinComponent } from './recover-pin.component';\r\nimport { RecoverPinPopupService} from './recover-pin-popup.service';\r\n\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  declarations: [RecoverPinComponent],\r\n  providers: [RecoverPinPopupService],\r\n  exports: [RecoverPinComponent]\r\n})\r\nexport class RecoverPinModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/recover-pin/recover-pin.module.ts","import {Subject} from 'rxjs/Rx';\r\n\r\nexport class RegisterPopupService{\r\n  show:Subject<boolean> = new Subject();\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/register/register-popup.service.ts","module.exports = \"<div *ngIf=\\\"isVisible\\\" class=\\\"popup-container\\\">\\r\\n  <div class=\\\"popup-close\\\" (click)=\\\"isVisible=false\\\"></div>\\r\\n  <div class=\\\"popup-content\\\">\\r\\n    <span class=\\\"close-button\\\" (click)=\\\"isVisible=false\\\"></span>\\r\\n    <div id=\\\"registerContent\\\">\\r\\n      <p id=\\\"title\\\">{{globals.strings.REGISTER_SCREEN_TITLE_WEBSITE}}</p>\\r\\n      <form id=\\\"registerFrm\\\" #registerFrm=\\\"ngForm\\\">\\r\\n        <div class=\\\"inputRow\\\">\\r\\n          <label id=\\\"id10-RegisterEmail\\\"for=\\\"register_email\\\">{{globals.strings.EMAIL_PLACEHOLDER}}</label>\\r\\n          <input type=\\\"email\\\" id=\\\"register_email\\\" name=\\\"email\\\" aria-labelledby=\\\"id10-RegisterEmail\\\" aria-describedby=\\\"id10\\\" aria-required=\\\"true\\\" [(ngModel)]=\\\"userEmail\\\" required>\\r\\n        </div>\\r\\n        <div class=\\\"inputRow\\\" id=\\\"registerPassword\\\">\\r\\n          <label id=\\\"id11-showPassword\\\" for=\\\"register_password\\\">{{globals.strings.LOGIN_SCREEN_PASSWORD}}</label>\\r\\n          <span class=\\\"fa\\\" [ngClass]=\\\"{'fa-eye-slash': showPassword, 'fa-eye': !showPassword}\\\" (click)=\\\"toggleEye()\\\"></span>\\r\\n          <input type=\\\"{{showPassword ? 'text' : 'password'}}\\\" name=\\\"register_password\\\" id=\\\"register_password\\\" aria-labelledby=\\\"id11-showPassword\\\" aria-describedby=\\\"id11\\\" aria-required=\\\"true\\\" [(ngModel)]=\\\"userPassword\\\" required>\\r\\n        </div>\\r\\n        <div class=\\\"inputRow\\\">\\r\\n          <label id=\\\"id12-userFirstName\\\" for=\\\"register_name\\\">{{globals.strings.REGISTER_SCREEN_FIRST_NAME}}</label>\\r\\n          <input type=\\\"text\\\" name=\\\"register_name\\\" id=\\\"register_name\\\" aria-labelledby=\\\"id12-userFirstName\\\" aria-describedby=\\\"id12\\\" [(ngModel)]=\\\"userFirstName\\\">\\r\\n        </div>\\r\\n        <div class=\\\"inputRow\\\">\\r\\n          <label id=\\\"id13-userLastName\\\" for=\\\"register_surname\\\">{{globals.strings.REGISTER_SCREEN_LAST_NAME}}</label>\\r\\n          <input type=\\\"text\\\" name=\\\"register_surname\\\" id=\\\"register_surname\\\" aria-labelledby=\\\"id13-userLastName\\\" aria-describedby=\\\"id13\\\" [(ngModel)]=\\\"userLastName\\\">\\r\\n        </div>\\r\\n        <div class=\\\"inputRow\\\">\\r\\n          <label id=\\\"id14-userMobile\\\" for=\\\"register_phone\\\">{{globals.strings.REGISTER_SCREEN_MOBILE_PHONE}}</label>\\r\\n          <input type=\\\"text\\\" name=\\\"register_phone\\\" id=\\\"register_phone\\\" aria-labelledby=\\\"id14-userMobile\\\" aria-describedby=\\\"id14\\\" [(ngModel)]=\\\"userMobile\\\">\\r\\n        </div>\\r\\n        <div class=\\\"inputRow\\\">\\r\\n          <label id=\\\"id15-userAddress\\\" for=\\\"register_address\\\">{{globals.strings.REGISTER_SCREEN_ADDRESS}}</label>\\r\\n          <input type=\\\"text\\\" name=\\\"register_address\\\" id=\\\"register_address\\\" aria-labelledby=\\\"id15-userAddress\\\" aria-describedby=\\\"id15\\\" [(ngModel)]=\\\"userAddress\\\">\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"inputRow\\\">\\r\\n          <label id=\\\"id16-userZipcode\\\" for=\\\"register_postcode\\\">{{globals.strings.REGISTER_SCREEN_ZIP_CODE}}</label>\\r\\n          <input type=\\\"text\\\" name=\\\"register_postcode\\\" id=\\\"register_postcode\\\" aria-labelledby=\\\"id16-userZipcode\\\" aria-describedby=\\\"id16\\\" [(ngModel)]=\\\"userZipCode\\\">\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"inputRow\\\">\\r\\n          <label id=\\\"id17-agreeTAC\\\" for=\\\"agreeTAC\\\"><input type=\\\"checkbox\\\" name=\\\"agreeTAC\\\" id=\\\"agreeTAC\\\" aria-labelledby=\\\"id17-agreeTAC\\\" aria-describedby=\\\"id17\\\"><span>{{globals.strings.REGISTER_SCREEN_AGREE_T_C}}</span></label>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"inputRow\\\">\\r\\n          <p style=\\\"text-align: center;\\\">\\r\\n          <button id=\\\"signUpBtn\\\" (click)=\\\"onSubmit()\\\" [disabled]=\\\"!registerFrm.form.valid\\\">{{globals.strings.REGISTER_SCREEN_SIGN_UP}}</button>\\r\\n          </p>\\r\\n        </div>\\r\\n\\r\\n      </form>\\r\\n\\r\\n      <p style=\\\"text-align: center;\\\">\\r\\n        <a id=\\\"visitLoremIpsum\\\" href=\\\"#\\\">&#191;Visit www.LOREMIPSUM.com?</a>\\r\\n      </p>\\r\\n\\r\\n\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/register/register.component.html\n// module id = ./src/app/register/register.component.html\n// module chunks = main","import {Component, OnInit} from '@angular/core';\r\nimport {GlobalsService} from '../globals.service';\r\nimport {RegisterPopupService} from './register-popup.service';\r\nimport {RegisterService} from \"./register.service\";\r\nimport swal from 'sweetalert2';\r\n\r\n@Component({\r\n  selector: 'app-register',\r\n  templateUrl: './register.component.html'\r\n})\r\n\r\nexport class RegisterComponent implements OnInit {\r\n\r\n  isVisible: boolean = false;\r\n  showPassword: boolean = false;\r\n\r\n  /* 2-way bindings to form inputs */\r\n  userEmail: string;\r\n  userPassword: string;\r\n  userFirstName: string;\r\n  userLastName: string;\r\n  userMobile: string;\r\n  userAddress: string;\r\n  userZipCode: string;\r\n\r\n\r\n\r\n\r\n  constructor(\r\n    public globals: GlobalsService,\r\n    private popup: RegisterPopupService,\r\n    private service: RegisterService\r\n  ) {\r\n    popup.show.subscribe((val: boolean) => this.showPopup());\r\n  }\r\n\r\n  ngOnInit() {\r\n    // Subscribe to the service's response for registering a new user\r\n    this.service.registerResponse.subscribe(val => {\r\n      this.isVisible = false;\r\n\r\n      if (val.code === '200' || val.success === 1) {\r\n        // show success modal\r\n        swal({\r\n            type: 'success',\r\n            title: '<span style=\"color: #fff;\" class=\"title\">'+this.globals.strings.GENERIC_SUCCESS+'</span>',\r\n            html:  '<span style=\"color: #fff;\">'+this.globals.strings.REGISTER_SCREEN_REGISTRATION_SUCCESSFUL+'</span>',\r\n            background: '#2a292a'\r\n          }\r\n        );\r\n      }\r\n      else {\r\n        // show error modal\r\n        swal({\r\n            type: 'error',\r\n            title: '<span style=\"color: #fff;\" class=\"title\">'+this.globals.strings.GENERAL_ERROR+'</span>',\r\n            html:  '<span style=\"color: #fff;\">'+val.error.description+'</span>',\r\n            background: '#2a292a'\r\n          }\r\n        );\r\n      }\r\n    });\r\n\r\n  }\r\n\r\n  showPopup() {\r\n    this.isVisible = true;\r\n  }\r\n\r\n  toggleEye() {\r\n    this.showPassword = !this.showPassword;\r\n  }\r\n\r\n  /**\r\n   * handle submission of a new user\r\n   */\r\n  onSubmit() {\r\n    // Remember to set this.isVisible to false on success (also redirect to home)\r\n    // Subscribe to this above .... :P\r\n    this.service.registerNewUser(\r\n      this.userEmail,\r\n      this.userPassword,\r\n      this.userFirstName,\r\n      this.userLastName,\r\n      this.userMobile,\r\n      this.userAddress,\r\n      this.userZipCode );\r\n  }\r\n\r\n\r\n\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/register/register.component.ts","import {NgModule}           from '@angular/core';\r\nimport {CommonModule}       from '@angular/common';\r\nimport {RegisterComponent}   from './register.component';\r\nimport {RegisterService} from './register.service';\r\nimport {RouterModule} from '@angular/router';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule,\r\n    FormsModule\r\n  ],\r\n  declarations: [\r\n    RegisterComponent\r\n  ],\r\n  exports: [\r\n    RegisterComponent\r\n  ],\r\n  providers: [\r\n    RegisterService\r\n ]\r\n})\r\n\r\nexport class RegisterModule {\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/register/register.module.ts","import { Injectable } from '@angular/core';\r\nimport {GlobalsService} from '../globals.service';\r\nimport {HttpClient, HttpHeaders, HttpParams} from \"@angular/common/http\";\r\nimport {Subject} from \"rxjs/Subject\";\r\n\r\n@Injectable()\r\nexport class RegisterService {\r\n\r\n  registerResponse: Subject<any> = new Subject<any>();\r\n\r\n  constructor(\r\n    private http: HttpClient,\r\n    private globals: GlobalsService\r\n  ) {}\r\n\r\n  /**\r\n   * Register a new user\r\n   * @param {string} userEmail\r\n   * @param {string} userPassword\r\n   * @param {string} userFirstName\r\n   * @param {string} userLastName\r\n   * @param {string} userMobile\r\n   * @param {string} userAddress\r\n   * @param {string} userZipCode\r\n   */\r\n  registerNewUser(userEmail:string,\r\n                  userPassword: string,\r\n                  userFirstName: string,\r\n                  userLastName: string,\r\n                  userMobile: string,\r\n                  userAddress: string,\r\n                  userZipCode: string) {\r\n\r\n    // check if a DUID is already in local storage. If not generate a new one and store it.\r\n    var duid = localStorage.getItem(this.globals.localStorageKeyPrefix+'DUID');\r\n\r\n    if (duid === '' || duid === null) {\r\n      duid = this.generateDUID();\r\n      localStorage.setItem(this.globals.localStorageKeyPrefix+'DUID', duid);\r\n    }\r\n\r\n    let headers = new HttpHeaders()\r\n      .set('Accept-Language', this.globals.settings.default_language);\r\n    let params = new HttpParams()\r\n      .set('device_type', 'web')\r\n      .set('duid', duid);\r\n\r\n    let body = {\r\n      email: userEmail,\r\n      password: userPassword,\r\n      name: userFirstName+' '+userLastName,\r\n      image: '', // This is sent empty so that the server gives one to this account\r\n      mobile_number: userMobile,\r\n      address: userAddress,\r\n      post_code: userZipCode,\r\n      country: '', // Wasn't part of the mockups at the time of this writing, so left untouched\r\n      gender: '', // ditto as above\r\n      birth_date: '' // ditto as above\r\n    };\r\n\r\n    this.http.post(this.globals.endpoints.register, body, {headers: headers, params: params})\r\n      .toPromise()\r\n      .then(res => {\r\n          this.registerResponse.next(res);\r\n        }\r\n      )\r\n      .catch(error => {\r\n        this.registerResponse.next(error);\r\n      });\r\n  }\r\n\r\n  /**\r\n   * Generate Device Unique Id\r\n   * @returns {string} - '00000000-0000-0000-0000-000000000000'\r\n   */\r\n  generateDUID() {\r\n    function _p8(s) {\r\n      var p = (Math.random().toString(16)+\"000000000\").substr(2,8);\r\n      return s ? \"-\" + p.substr(0,4) + \"-\" + p.substr(4,4) : p ;\r\n    }\r\n    return _p8(false) + _p8(true) + _p8(true) + _p8(false);\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/register/register.service.ts","module.exports = \"<!-- BLOCKS -->\\r\\n<div id=\\\"menuTitle\\\">{{globals.pageTitle}}</div>\\r\\n<div *ngFor=\\\"let block of data?.screen.blocks\\\" class=\\\"block-container\\\">\\r\\n  <!-- BUTTONS FOR FILTERING ON TAB BLOCKS -->\\r\\n  <div class=\\\"tab-container\\\" *ngIf=\\\"block.block_type=='tab'\\\">  <!-- removed && globals.tvcableGroup_asset_types!=0 -->\\r\\n    <div *ngFor=\\\"let playlist of block.widgets; let i = index\\\"\\r\\n         [attr.data-index]=\\\"i\\\"\\r\\n         (click)=\\\"filter(block, i)\\\"\\r\\n         class=\\\"tab\\\"\\r\\n         [class.selected]=\\\"i==block.selected\\\">\\r\\n      {{playlist.playlist.name}}\\r\\n    </div>\\r\\n    <div class=\\\"tab\\\"></div>\\r\\n  </div>\\r\\n\\r\\n  <!-- BUTTONS FOR FILTERING ON COMBO BLOCKS -->\\r\\n  <div *ngIf=\\\"block.block_type=='combobox'\\\" class=\\\"combo-box-container\\\">\\r\\n    <select (change)=\\\"filter(block, $event.target.value)\\\">\\r\\n      <option value={{i}} *ngFor=\\\"let playlist of block.widgets; let i = index\\\" [attr.data-index]=\\\"i\\\"\\r\\n              (click)=\\\"filter(block, i)\\\">\\r\\n        {{playlist.playlist.name}}\\r\\n      </option>\\r\\n    </select>\\r\\n  </div>\\r\\n\\r\\n  <!-- LAYOUTS -->\\r\\n  <div *ngFor=\\\"let widget of block.widgets; let i = index\\\" [attr.data-index]=\\\"i\\\"\\r\\n       class=\\\"layout-container\\\">\\r\\n    <div *ngIf=\\\"i==block.selected || block.selected===true\\\">\\r\\n\\r\\n      <div class=\\\"category-title\\\"\\r\\n           [class.align-content-right]=\\\"block.block_type =='tab' || block.block_type=='combo'\\\">\\r\\n        <h3 *ngIf=\\\"block.block_type !='tab' && block.block_type!='combo'\\\">{{widget.playlist.name}}</h3>\\r\\n        <button class=\\\"view-all-button\\\"\\r\\n                *ngIf=\\\"widget.layout.view_all_position == 'first' || widget.layout.view_all_position=='top'\\\"\\r\\n                (click)=\\\"viewAll(widget.playlist.slug)\\\">View all</button>\\r\\n      </div>\\r\\n      <app-carousel [data]=\\\"widget\\\"\\r\\n                    *ngIf=\\\"widget.layout.layout_type.indexOf('carousel') > -1\\\"></app-carousel>\\r\\n\\r\\n      <app-listing [data]=\\\"widget\\\"\\r\\n                   *ngIf=\\\"widget.layout.layout_type=='grid'\\\"></app-listing>\\r\\n\\r\\n      <div class=\\\"category-title align-content-right\\\">\\r\\n        <button\\r\\n          *ngIf=\\\"widget.layout.view_all_position == 'last' || widget.layout.view_all_position=='bottom'\\\"\\r\\n          (click)=\\\"viewAll(widget.playlist.slug)\\\">View all</button>\\r\\n      </div>\\r\\n\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n</div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/screen/screen.component.html\n// module id = ./src/app/screen/screen.component.html\n// module chunks = main","import {AfterViewInit, Component, Input, OnChanges} from '@angular/core';\r\nimport {Router} from '@angular/router';\r\nimport {GlobalsService} from \"../globals.service\";\r\nimport {LoadingService} from \"../loading/loading.service\";\r\n\r\n@Component({\r\n  selector: 'app-screen',\r\n  templateUrl: './screen.component.html'\r\n})\r\n\r\nexport class ScreenComponent implements OnChanges {\r\n\r\n  @Input() data: any;\r\n\r\n  constructor( private router: Router,\r\n               public globals: GlobalsService,\r\n               private loading: LoadingService ) {}\r\n\r\n  ngOnChanges() {\r\n      this.loading.set(false);\r\n  }\r\n\r\n\r\n  viewAll(id: string) {\r\n    this.router.navigate(['playlist', id]);\r\n  }\r\n\r\n  filter(block: any, index: number) {\r\n    block.selected = index;\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/screen/screen.component.ts","import {NgModule}           from '@angular/core';\r\nimport {CommonModule}       from '@angular/common';\r\nimport {ScreenComponent}   from './screen.component';\r\nimport {ScreenService} from './screen.service';\r\nimport {CarouselModule} from '../carousel/carousel.module';\r\nimport {ListingModule} from '../listing/listing.module';\r\n\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    CarouselModule,\r\n    ListingModule,\r\n  ],\r\n  declarations: [\r\n    ScreenComponent\r\n  ],\r\n  exports: [\r\n    ScreenComponent\r\n  ],\r\n  providers: [\r\n    ScreenService\r\n  ]\r\n})\r\n\r\nexport class ScreenModule {\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/screen/screen.module.ts","import { Injectable } from '@angular/core';\r\nimport { Http, Response } from '@angular/http';\r\n\r\nimport {GlobalsService} from '../globals.service';\r\n\r\nimport { Observable } from 'rxjs/Observable';\r\nimport 'rxjs/add/operator/catch';\r\nimport 'rxjs/add/operator/map';\r\n\r\n@Injectable()\r\nexport class ScreenService {\r\n\r\n  constructor(\r\n    private http: Http,\r\n    private globals: GlobalsService\r\n  ) {}\r\n\r\n  private extractData(res: Response) {\r\n    let body = res.json();\r\n    if (body) {\r\n      return body.data || body;\r\n    } else {\r\n      return {};\r\n    }\r\n  }\r\n\r\n  private handleError(error: any) {\r\n    let errMsg = (error.message) ? error.message :\r\n      error.status ? `${error.status} - ${error.statusText}` : 'Server error';\r\n    console.error(errMsg);\r\n    return Observable.throw(errMsg);\r\n  }\r\n\r\n  getScreenById(term: string): Observable<any> {\r\n    return this.http\r\n      .get(this.globals.API + `menus/${this.globals.menuId}/option/${term}?device_type=web&device_layout=web`)\r\n      .map(this.extractData)\r\n      .catch(this.handleError);\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/screen/screen.service.ts","module.exports = \"<!-- BLOCKS -->\\r\\n<div *ngFor=\\\"let block of data?.screen.blocks\\\" class=\\\"block-container\\\">\\r\\n\\r\\n    <!-- BUTTONS FOR FILTERING ON TAB BLOCKS -->\\r\\n    <!--\\r\\n    <div class=\\\"tab-container\\\" *ngIf=\\\"block.block_type=='tab' > removed && globals.tvcableGroup_asset_types!=0\\r\\n      <div *ngFor=\\\"let playlist of block.widgets; let i = index\\\"\\r\\n           [attr.data-index]=\\\"i\\\"\\r\\n           (click)=\\\"filter(block, i)\\\"\\r\\n           class=\\\"tab\\\"\\r\\n           [class.selected]=\\\"i==block.selected\\\">\\r\\n        {{playlist.playlist.name}}\\r\\n      </div>\\r\\n      <div class=\\\"tab\\\"></div>\\r\\n    </div>\\r\\n    -->\\r\\n\\r\\n    <!-- BUTTONS FOR FILTERING ON COMBO BLOCKS -->\\r\\n    <!--\\r\\n    <div *ngIf=\\\"block.block_type=='combobox'\\\" class=\\\"combo-box-container\\\">\\r\\n      <select (change)=\\\"filter(block, $event.target.value)\\\">\\r\\n        <option value={{i}} *ngFor=\\\"let playlist of block.widgets; let i = index\\\" [attr.data-index]=\\\"i\\\"\\r\\n                (click)=\\\"filter(block, i)\\\">\\r\\n          {{playlist.playlist.name}}\\r\\n        </option>\\r\\n      </select>\\r\\n    </div>\\r\\n    -->\\r\\n\\r\\n    <!-- LAYOUTS -->\\r\\n    <div *ngFor=\\\"let widget of block.widgets; let i = index\\\" [attr.data-index]=\\\"i\\\"\\r\\n         class=\\\"layout-container\\\">\\r\\n      <div> <!-- <div *ngIf=\\\"i==block.selected || block.selected===true\\\">  -->\\r\\n        <div class=\\\"category-title\\\"\\r\\n             [class.align-content-right]=\\\"block.block_type =='tab' || block.block_type=='combo'\\\">\\r\\n          <h3 *ngIf=\\\"block.block_type !='tab' && block.block_type!='combo'\\\">{{widget.playlist.name}}</h3>\\r\\n          <button class=\\\"view-all-button\\\"\\r\\n                  *ngIf=\\\"widget.layout.view_all_position == 'first' || widget.layout.view_all_position=='top'\\\"\\r\\n                  (click)=\\\"viewAll(widget.playlist.slug)\\\">View all</button>\\r\\n        </div>\\r\\n\\r\\n        <app-carousel [data]=\\\"widget\\\"\\r\\n                      *ngIf=\\\"widget.layout.layout_type.indexOf('carousel') > -1\\\"></app-carousel>\\r\\n\\r\\n        <app-listing [data]=\\\"widget\\\"\\r\\n                     *ngIf=\\\"widget.layout.layout_type=='grid'\\\"></app-listing>\\r\\n\\r\\n        <div class=\\\"category-title align-content-right\\\">\\r\\n          <button\\r\\n            *ngIf=\\\"widget.layout.view_all_position == 'last' || widget.layout.view_all_position=='bottom'\\\"\\r\\n            (click)=\\\"viewAll(widget.playlist.slug)\\\">View all</button>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n    <div *ngIf=\\\"showNumb == 0\\\" class=\\\"vspacer\\\"><p>{{globals.strings.SEARCH_SCREEN_NO_RESULTS_FOR}}</p></div>\\r\\n</div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/search/search.component.html\n// module id = ./src/app/search/search.component.html\n// module chunks = main","import {Component, OnInit} from '@angular/core';\r\nimport {Router, ActivatedRoute} from '@angular/router';\r\n// import {Search} from '../models/search';\r\nimport {SearchService} from './search.service';\r\nimport {GlobalsService} from '../globals.service';\r\nimport {Block} from '../models/block';\r\nimport {LoadingService} from '../loading/loading.service';\r\n\r\n@Component({\r\n  selector: 'app-search',\r\n  templateUrl: './search.component.html'\r\n})\r\n\r\nexport class SearchComponent implements OnInit {\r\n\r\n  data: any;\r\n  errorMessage: string;\r\n  showNumb: number = 0;\r\n\r\n  constructor(\r\n    private service: SearchService,\r\n    private route: ActivatedRoute,\r\n    private globals: GlobalsService,\r\n    private loading: LoadingService,\r\n    private router: Router\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.route.params\r\n      .subscribe(params => {\r\n        this.getSearch(this.route.snapshot.params['query']);\r\n      });\r\n  }\r\n\r\n  getSearch(query: string) {\r\n    this.loading.set(true);\r\n    this.service.search(query)\r\n      .subscribe(\r\n        response => {\r\n          this.data = response;\r\n          this.globals.pageTitle = \"Search - \" + this.route.snapshot.params['query'];\r\n          this.prepareLayouts(this.data);\r\n          this.loading.set(false);\r\n          this.data.screen.blocks.forEach((itemBlk) => {\r\n            itemBlk.widgets.forEach((item) => {\r\n                this.showNumb+= item.playlist.contents.length;\r\n            });\r\n          });\r\n        },\r\n        error => this.errorMessage = <any>error,\r\n        () => {\r\n        })\r\n  }\r\n\r\n  private prepareLayouts(search: any) {\r\n    for (let i in search.screen.blocks) {\r\n      if (search.screen.blocks[i].block_type == 'tab' || search.screen.blocks[i].block_type == 'combobox') {\r\n        search.screen.blocks[i].selected = false;\r\n      }\r\n      else {\r\n        search.screen.blocks[i].selected = true;\r\n      }\r\n    }\r\n    this.data = search;\r\n  }\r\n\r\n  viewAll(id: string) {\r\n    this.router.navigate(['playlist', id]);\r\n  }\r\n\r\n  filter(block: any, index: number) {\r\n    block.selected = index;\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/search/search.component.ts","import {NgModule}           from '@angular/core';\r\nimport {CommonModule}       from '@angular/common';\r\nimport {SearchComponent}   from './search.component';\r\nimport {SearchService} from './search.service';\r\nimport {CarouselModule} from '../carousel/carousel.module';\r\nimport {ListingModule} from '../listing/listing.module';\r\n\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    CarouselModule,\r\n    ListingModule\r\n  ],\r\n  declarations: [\r\n    SearchComponent\r\n  ],\r\n  exports: [\r\n    SearchComponent\r\n  ],\r\n  providers: [\r\n    SearchService\r\n  ]\r\n})\r\n\r\nexport class SearchModule {\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/search/search.module.ts","import { Injectable } from '@angular/core';\r\nimport { Http, Response } from '@angular/http';\r\n\r\nimport {GlobalsService} from '../globals.service';\r\n\r\nimport { Observable } from 'rxjs/Observable';\r\nimport 'rxjs/add/operator/catch';\r\nimport 'rxjs/add/operator/map';\r\n\r\n@Injectable()\r\nexport class SearchService {\r\n\r\n  constructor(\r\n    private http: Http,\r\n    private globals: GlobalsService\r\n  ) {}\r\n\r\n  private extractData(res: Response) {\r\n    let body = res.json();\r\n    if (body) {\r\n      return body.data || body;\r\n    } else {\r\n      return {};\r\n    }\r\n  }\r\n\r\n  private handleError(error: any) {\r\n    let errMsg = (error.message) ? error.message :\r\n      error.status ? `${error.status} - ${error.statusText}` : 'Server error';\r\n    console.error(errMsg);\r\n    return Observable.throw(errMsg);\r\n  }\r\n\r\n  search(term: string): Observable<any> {\r\n    console.log(this.globals.API + `search?`+this.globals.tvcableSearchQuery+ `&q=${term}`);\r\n    return this.http\r\n      .get(this.globals.API + `search?`+this.globals.tvcableSearchQuery+ `&q=${term}`)  // '&device_type=web&device_layout=web&asset_types='+this.tvcableAsset_types;\r\n      .map(this.extractData)\r\n      .catch(this.handleError);\r\n  }\r\n//     http://tvaggregator.tvacms.com/tvcable/api/search?device_type=web&device_layout=web&asset_types=movies,series,channels&q=Cats\r\n\r\n  /*\r\n    search(term: string): Observable<any> {\r\n    return this.http\r\n      .get(this.globals.API + `search?q=${term}`+this.globals.tvcableSearchQuery)  // '&device_type=web&device_layout=web&asset_types='+this.tvcableAsset_types;\r\n      .map(this.extractData)\r\n      .catch(this.handleError);\r\n  }\r\n\r\n   */\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/search/search.service.ts","module.exports = \"<div class=\\\"select-box-container\\\">\\r\\n  <label *ngIf=\\\"label\\\">{{label}}</label>\\r\\n\\r\\n  <div class=\\\"select-box\\\" (click)=\\\"openSelectBox()\\\" [class.open]=\\\"openBox\\\">\\r\\n    <div class=\\\"selected\\\">{{selected.title}}\\r\\n      <div class=\\\"select-box-down-arrow\\\" *ngIf=\\\"data.length > 1\\\"></div>\\r\\n    </div>\\r\\n    <div class=\\\"select-box-elements\\\" [ngStyle]=\\\"{height: openBox ? (data.length - 1) * elementHeight + 'px' : '0px'}\\\">\\r\\n      <div class=\\\"select-element\\\" *ngFor=\\\"let el of data\\\" (click)=\\\"select(el)\\\">\\r\\n        {{el.title}}\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/select-box/select-box.component.html\n// module id = ./src/app/select-box/select-box.component.html\n// module chunks = main","import {Component, OnInit, Input, AfterViewInit} from '@angular/core';\r\nimport * as $ from 'jquery';\r\nimport 'slick-carousel/slick/slick';\r\n\r\n@Component({\r\n  selector: 'app-select-box',\r\n  templateUrl: './select-box.component.html'\r\n})\r\n\r\nexport class SelectBoxComponent implements OnInit, AfterViewInit {\r\n  @Input() data: any;               //The input data\r\n  id: string;                       //The ID of the carousel in the DOM\r\n  label: string;\r\n  openBox: boolean;\r\n  elementHeight: number;\r\n  selected: any;\r\n  callback: any;\r\n\r\n  constructor() {\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    this.id = '#select-box-' + this.data.playlist.id;\r\n  }\r\n\r\n  ngOnInit() {\r\n\r\n  }\r\n\r\n  // vm.data = $scope.data;\r\n  // vm.callback = $scope.callback;\r\n  // vm.label = $scope.label;\r\n  // vm.elementHeight = $scope.elementHeight || 46;\r\n  // vm.selected = $scope.selected || (vm.data && vm.data[0]);\r\n  // vm.openBox = false;\r\n\r\n  // $rootScope.$on('documentClicked', function() {\r\n  //   if (vm.openBox) {\r\n  //     vm.openBox = false;\r\n  //   }\r\n  // });\r\n\r\n  openSelectBox() {\r\n    if (!this.openBox) {\r\n      setTimeout(() => {\r\n        this.openBox = true;\r\n      }, 100);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Sets the clicked element as selected and invokes the callback function\r\n   * @param el\r\n   */\r\n  select(el) {\r\n    this.selected = el;\r\n    if (this.callback) {\r\n      this.callback(el);\r\n    }\r\n  }\r\n\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/select-box/select-box.component.ts","import {NgModule}           from '@angular/core';\r\nimport {CommonModule}       from '@angular/common';\r\nimport {SelectBoxComponent}   from './select-box.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  declarations: [\r\n    SelectBoxComponent\r\n  ],\r\n  exports: [\r\n    SelectBoxComponent\r\n  ],\r\n  providers: [\r\n  ]\r\n})\r\n\r\nexport class SelectBoxModule {\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/select-box/select-box.module.ts","module.exports = \"<div id=\\\"sessionsWrapper\\\">\\r\\n  <h4><div class=\\\"breadCrumb\\\" (click)=\\\"crumbClick(globals.pageTitleSlug)\\\">{{globals.strings.SCREEN_SETTINGS}}</div> <i class=\\\"fa fa-arrow-right\\\" aria-hidden=\\\"true\\\"></i> <div class=\\\"breadCrumb\\\" (click)=\\\"crumbClick('settings/my-account')\\\">{{globals?.strings.SCREEN_ACCOUNT}}</div> <i class=\\\"fa fa-arrow-right\\\" aria-hidden=\\\"true\\\"></i> {{globals.strings.DEVICE_LIST_SCREEN_DEVICE_LIST}}</h4>\\r\\n</div>\\r\\n\\r\\n  <div class=\\\"sessions-list\\\" *ngIf=\\\"isVisible\\\">\\r\\n    <table class=\\\"sessions-list-tbl\\\">\\r\\n      <tr>\\r\\n        <th class=\\\"sessions-list-tbl-title\\\" colspan=\\\"3\\\" align=\\\"center\\\">{{globals.strings.DEVICE_LIST_SCREEN_DEVICE_LIST}}</th>\\r\\n      </tr>\\r\\n      <tr class=\\\"sessions-list-tbl-row\\\" *ngFor=\\\"let session of sessions\\\">\\r\\n        <td class=\\\"sessions-list-tbl-image\\\"><img src=\\\"{{session.image.url}}\\\"></td>\\r\\n        <td><span class=\\\"sessions-list-tbl-session-name\\\">{{session.name}}</span><br>\\r\\n          <span>{{session.last_time_used.toLocaleString()}}</span>\\r\\n        </td>\\r\\n        <td><i class=\\\"fa fa-times-circle\\\" (click)=\\\"remove(session.auth_token)\\\"></i></td>\\r\\n      </tr>\\r\\n    </table>\\r\\n  </div>\\r\\n\\r\\n\\r\\n\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/sessions/sessions.component.html\n// module id = ./src/app/sessions/sessions.component.html\n// module chunks = main","import {Component, OnDestroy, OnInit} from '@angular/core';\r\nimport {Router} from '@angular/router';\r\nimport { SessionsService } from \"./sessions.service\";\r\nimport {Session} from \"../models/session\";\r\nimport {GlobalsService} from \"../globals.service\";\r\nimport swal from \"sweetalert2\";\r\n\r\n@Component({\r\n  selector: 'app-sessions',\r\n  templateUrl: './sessions.component.html'\r\n})\r\nexport class SessionsComponent implements OnInit, OnDestroy {\r\n\r\n  sessions: Session[];\r\n  isVisible: boolean = false;\r\n\r\n  constructor(\r\n    private globals: GlobalsService,\r\n    private service: SessionsService,\r\n    private router: Router\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n\r\n    this.sessions = []; // Remember to initialize matrices!!!\r\n\r\n    this.service.sessions.subscribe(res => {\r\n      this.sessions = res;\r\n    });\r\n\r\n    // Subscribe to show/hide user sessions flag\r\n    this.service.isVisible.subscribe(value => {\r\n      this.isVisible = value;\r\n    });\r\n\r\n    this.service.finishedClosingSession.subscribe(val => {\r\n      if (val === true) {\r\n        this.isVisible = false;\r\n        // navigate back to home and give the user a clean chance to login\r\n        this.router.navigate(['']);\r\n      }\r\n\r\n    });\r\n\r\n    // Must check if the temporary auth token is set, otherwise we get an error dialog on website start\r\n    let token = this.globals.tempAuthToken !== null ? this.globals.tempAuthToken : this.globals.authToken;\r\n\r\n    if (token !== null) {\r\n      this.isVisible = true;\r\n      this.service.getLiveSessions(token);\r\n    }\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.sessions = [];\r\n    this.isVisible = false;\r\n  }\r\n\r\n  /**\r\n   * Remove (free) a session\r\n   */\r\n  remove(auth_token: string) {\r\n\r\n    swal({\r\n        html: '<span style=\"color: #fff;\">'+this.globals.strings.DEVICE_LIST_SCREEN_WILL_LOGOUT+'</span>',\r\n        type: 'warning',\r\n        showCancelButton: true,\r\n        confirmButtonText: this.globals.strings.GENERAL_YES,\r\n        cancelButtonText: this.globals.strings.GENERAL_NO,\r\n        background: '#2a292a'\r\n      }\r\n    ).then(result => {\r\n      if (result.value) {\r\n        this.service.remove(auth_token);\r\n      }\r\n    });\r\n  }\r\n\r\n    crumbClick(waytoGo: string) {\r\n        this.router.navigate([waytoGo]);\r\n    }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/sessions/sessions.component.ts","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport {SessionsService} from \"./sessions.service\";\r\nimport {SessionsComponent} from \"./sessions.component\";\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  exports: [SessionsComponent],\r\n  declarations: [SessionsComponent],\r\n  providers: [SessionsService]\r\n})\r\nexport class SessionsModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/sessions/sessions.module.ts","import { Injectable } from '@angular/core';\r\nimport {APIDataResponse, APISuccessResponse, GlobalsService} from \"../globals.service\";\r\nimport {HttpClient, HttpHeaders, HttpParams} from \"@angular/common/http\";\r\nimport {Subject} from \"rxjs/Subject\";\r\nimport {Session} from \"../models/session\";\r\nimport swal from \"sweetalert2\";\r\nimport {LoginService} from \"../login/login.service\";\r\n\r\n@Injectable()\r\nexport class SessionsService {\r\n\r\n  public sessions: Subject<Session[]> = new Subject<Session[]>();\r\n  public finishedClosingSession: Subject<boolean> = new Subject<boolean>();\r\n  public isVisible: Subject<boolean> = new Subject<boolean>();  // Serves to show/hide the list of sessions\r\n\r\n  constructor(\r\n    private http: HttpClient,\r\n    private globals: GlobalsService,\r\n    private login: LoginService\r\n  ) { }\r\n\r\n\r\n  /**\r\n   * Get the live sessions for the current auth token\r\n   */\r\n  getLiveSessions(token: string) {\r\n    // The temporary auth token was obtained from login when the max sessions was reached\r\n    let headers = new HttpHeaders()\r\n      .set('Accept-Language', this.globals.settings.default_language)\r\n      .set('Authorization', 'Bearer '+token);\r\n\r\n    // Account token already in path for the endpoint call\r\n    let params = new HttpParams()\r\n      .set('device_type', 'web');\r\n\r\n    let endpoint = this.globals.endpoints.liveSessions.replace('{account_token}', this.globals.accountToken);\r\n\r\n    this.http.get<APIDataResponse>(endpoint, {headers: headers, params: params})\r\n      .toPromise()\r\n      .then(res => {\r\n        this.sessions.next(res.data);\r\n\r\n        // Clear the temporary auth token\r\n        //this.globals.tempAuthToken = null;\r\n      })\r\n      .catch(error => {\r\n        console.error(error);\r\n        swal({\r\n            type: 'error',\r\n            title: '<span style=\"color: #fff;\" class=\"title\">' + this.globals.strings.SCREEN_ERROR_TITLE + '</span>',\r\n            html:  '<span style=\"color: #fff;\">' + this.globals.strings.GENERAL_ERROR + '</span>',\r\n            background: '#2a292a'\r\n          }\r\n        );\r\n      });\r\n  }\r\n\r\n\r\n  /**\r\n   * Remove (free) a session by auth_token - mainly used when all the available sessions\r\n   * have been used up\r\n   * @param {string} auth_token\r\n   */\r\n  remove(auth_token: string) {\r\n    let headers = new HttpHeaders()\r\n      .set('Authorization', 'Bearer '+auth_token);\r\n\r\n    let params = new HttpParams()\r\n      .set('device_type', 'web');\r\n\r\n    this.http.delete<APISuccessResponse>(this.globals.endpoints.logout, {headers: headers, params: params})\r\n      .toPromise()\r\n      .then(res => {\r\n        this.finishedClosingSession.next(true);\r\n\r\n        if (this.globals.tempAuthToken!=null){\r\n            this.removeTemporary();\r\n        }\r\n      })\r\n      .catch(function (error) {\r\n        console.error(error);\r\n      });\r\n  }\r\n\r\n  removeTemporary() {\r\n      let headers = new HttpHeaders()\r\n          .set('Authorization', 'Bearer '+this.globals.tempAuthToken);\r\n\r\n      let params = new HttpParams()\r\n          .set('device_type', 'web');\r\n\r\n      this.http.delete<APISuccessResponse>(this.globals.endpoints.logout, {headers: headers, params: params})\r\n          .toPromise()\r\n          .then(res => {\r\n              this.login.provider_login(\"tvcable\",this.globals.endpoints.socialLogin,this.globals.currUsername,this.globals.currPassword,null,null);\r\n              this.globals.tempAuthToken=null;\r\n          })\r\n          .catch(function (error) {\r\n              console.error(error);\r\n          });\r\n\r\n  }\r\n\r\n  /**\r\n   * Toggle the visibility of the user sessions\r\n   */\r\n  toggle() {\r\n    this.isVisible.next(!this.isVisible);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/sessions/sessions.service.ts","module.exports = \"<div class=\\\"TermsConditionsWrapper\\\">\\r\\n  <h3 style=\\\"text-align: center\\\">{{globals.strings.SETTINGS_SCREEN_FAQ}}</h3>\\r\\n  <div class=\\\"InfoPadder\\\">\\r\\n    <div class=\\\"InfoWrapper\\\" data-simplebar>{{this.globals.settings.faq_slug}}</div>\\r\\n  </div>\\r\\n</div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/settings/faq/faq.component.html\n// module id = ./src/app/settings/faq/faq.component.html\n// module chunks = main","import { Component, OnInit } from '@angular/core';\r\nimport {GlobalsService} from \"../../globals.service\";\r\nimport 'simplebar/dist/simplebar.js';\r\n\r\n@Component({\r\n  selector: 'app-faq',\r\n  templateUrl: './faq.component.html'\r\n})\r\nexport class FaqComponent implements OnInit {\r\n\r\n  constructor(  public globals: GlobalsService  ) {  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/settings/faq/faq.component.ts","module.exports = \"<div class=\\\"TermsConditionsWrapper\\\">\\r\\n  <h3 style=\\\"text-align: center\\\">{{globals.strings.SETTINGS_SCREEN_HELP}}</h3>\\r\\n  <div class=\\\"InfoPadder\\\">\\r\\n    <div class=\\\"InfoWrapper\\\" data-simplebar>{{this.globals.settings.help_slug }}\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/settings/help/help.component.html\n// module id = ./src/app/settings/help/help.component.html\n// module chunks = main","import { Component, OnInit } from '@angular/core';\r\nimport {GlobalsService} from \"../../globals.service\";\r\nimport 'simplebar/dist/simplebar.js';\r\n\r\n@Component({\r\n  selector: 'app-help',\r\n  templateUrl: './help.component.html'\r\n})\r\nexport class HelpComponent implements OnInit {\r\n\r\n  constructor( public globals: GlobalsService ) { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/settings/help/help.component.ts","module.exports = \"<div id=\\\"changeLanguageWrapper\\\">\\r\\n  <h4><div class=\\\"breadCrumb\\\" (click)=\\\"crumbClick(globals.pageTitleSlug)\\\">{{globals.strings.SCREEN_SETTINGS}}</div> <i class=\\\"fa fa-arrow-right\\\" aria-hidden=\\\"true\\\"></i> {{globals.strings.SETTINGS_SCREEN_CHANGE_LANGUAGE}}</h4>\\r\\n  <div class=\\\"sett-languages-wrapper\\\">\\r\\n    <table class=\\\"langListTbl\\\">\\r\\n      <tr  class=\\\"langListTblRow\\\" *ngFor=\\\"let lang of globals.languages\\\">\\r\\n        <td class=\\\"langListTblCol\\\">{{lang.name}}</td>\\r\\n        <td class=\\\"langListTblCol check\\\">\\r\\n          <i *ngIf=\\\"isSelected(lang.code)\\\" (click)=\\\"chooseLang(lang.code)\\\" class=\\\"fa fa-check-circle-o\\\"></i>\\r\\n          <i *ngIf=\\\"!isSelected(lang.code)\\\" (click)=\\\"chooseLang(lang.code)\\\" class=\\\"fa fa-circle-o\\\"></i>\\r\\n        </td>\\r\\n      </tr>\\r\\n    </table>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/settings/languages/languages.component.html\n// module id = ./src/app/settings/languages/languages.component.html\n// module chunks = main","import { Component, OnInit } from '@angular/core';\r\nimport {GlobalsService} from \"../../globals.service\";\r\nimport {LanguagesService} from \"./languages.service\";\r\nimport {MenuService} from \"../../menu/menu.service\";\r\nimport {MenuItemService} from \"../../menu-item/menu-item.service\";\r\nimport {ActivatedRoute, Router} from \"@angular/router\";\r\n\r\n@Component({\r\n  // LOL works without a selector! ... it automatically inserts a <ng-component> tag :P\r\n  templateUrl: './languages.component.html',\r\n})\r\nexport class LanguagesComponent implements OnInit {\r\n\r\n  constructor(\r\n    public globals: GlobalsService,\r\n    private service: LanguagesService,\r\n    private menuService: MenuService,\r\n    private router: Router\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n\r\n    /*\r\n     Subscribe to the gotStrings subject so that we know when the new strings are available\r\n     */\r\n    this.service.gotStrings.subscribe(value => {\r\n      if (value===true) {\r\n        this.menuService.getDefaultMenu();\r\n      }\r\n    });\r\n\r\n  }\r\n\r\n  /**\r\n   * Checks if the current entry is selected by comparing with the default language\r\n   * @param {string} lang\r\n   * @returns {boolean}\r\n   */\r\n  isSelected(lang: string): boolean {\r\n    return this.globals.settings.default_language === lang;\r\n  }\r\n\r\n  /**\r\n   * Change the current language\r\n   * @param {string} lang\r\n   */\r\n  chooseLang(lang: string) {\r\n    this.service.getStrings(lang);\r\n  }\r\n\r\n    crumbClick(waytoGo: string) {\r\n        this.router.navigate([waytoGo]);\r\n    }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/settings/languages/languages.component.ts","import { Injectable } from '@angular/core';\r\nimport {HttpClient, HttpHeaders, HttpParams} from \"@angular/common/http\";\r\nimport {APIDataResponse, GlobalsService} from \"../../globals.service\";\r\nimport {Subject} from \"rxjs/Subject\";\r\n\r\n@Injectable()\r\nexport class LanguagesService {\r\n\r\n  public languages: Subject<any[]> = new Subject<any[]>();\r\n  public gotStrings: Subject<boolean> = new Subject<boolean>();\r\n\r\n\r\n  constructor(\r\n    private globals: GlobalsService,\r\n    private http: HttpClient\r\n  ) { }\r\n\r\n  /**\r\n   * Get the application's available languages\r\n   */\r\n  getLanguages() {\r\n    const params = new HttpParams()\r\n      .set('device_type', 'web')\r\n      .set('limit', '20')\r\n      .set('page', '1');\r\n\r\n    this.http.get<APIDataResponse>(this.globals.endpoints.languages, {params: params})\r\n      .toPromise()\r\n      .then(res => {\r\n        this.languages.next(res.data);\r\n      })\r\n      .catch(error => {\r\n        console.error(error);\r\n        this.languages.next([]);\r\n      });\r\n  }\r\n\r\n  /**\r\n   * Get the application strings from the API.\r\n   * @Notes: globals.settings.default_language should already be set!\r\n   */\r\n  getStrings(lang: string) {\r\n    const headers = new HttpHeaders()\r\n      .set('Accept-Language', lang);\r\n    const params = new HttpParams()\r\n      .set('device', 'web')\r\n      .set('device_type', 'web')\r\n      .set('device_layout', 'web');\r\n\r\n    this.http.get<APIDataResponse>(this.globals.endpoints.strings, {headers: headers, params: params})\r\n      .toPromise()\r\n      .then(res => {\r\n        this.globals.strings = res.data;\r\n        this.globals.settings.default_language = lang;\r\n        this.gotStrings.next(true);\r\n\r\n      })\r\n      .catch(error => {\r\n        console.error(error);\r\n        this.globals.strings = {};\r\n        this.gotStrings.next(false);\r\n      });\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/settings/languages/languages.service.ts","import {Subject} from 'rxjs/Rx';\r\n\r\nexport class ChangePasswordPopupService{\r\n  show:Subject<boolean> = new Subject();\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/settings/my-account/change-password/change-password-popup-service.ts","module.exports = \"<div id=\\\"changePasswordModal\\\" *ngIf=\\\"isVisible\\\" class=\\\"popup-container\\\">\\r\\n  <div class=\\\"popup-close\\\" (click)=\\\"onClose()\\\"></div>\\r\\n  <div class=\\\"popup-content\\\">\\r\\n    <span class=\\\"close-button\\\" (click)=\\\"onClose()\\\"></span>\\r\\n    <div class=\\\"PasswordForm\\\">\\r\\n      <form #changePsswdFrm=\\\"ngForm\\\" autocomplete=\\\"nope\\\" (ngSubmit)=\\\"onSubmit()\\\">\\r\\n        <h3>{{globals.strings.CHANGE_PASSWORD_ENTER_PASSWORD}}</h3>\\r\\n        <br>\\r\\n\\r\\n        <div id=\\\"changePasswordMessages\\\" *ngIf=\\\"opCompleted\\\" [ngClass]=\\\"{'greenSuccess': successState, 'redFailure': !successState}\\\">\\r\\n          <p>{{messages}}</p>\\r\\n        </div>\\r\\n\\r\\n\\r\\n\\r\\n        <div class=\\\"PasswordInput\\\">\\r\\n          <p>{{globals.strings.CHANGE_PASSWORD_SCREEN_OLD_PASSWORD}}</p>\\r\\n          <input #inputOldPasswd [(ngModel)]=\\\"oldPassword\\\" type=\\\"password\\\" ng-model=\\\"password\\\" name=\\\"oldPassword\\\" id=\\\"oldPassword\\\" autocomplete=\\\"new-password\\\" value=\\\"\\\" required>\\r\\n        </div><br>\\r\\n        <div class=\\\"PasswordInput\\\">\\r\\n          <p>{{globals.strings.CHANGE_PASSWORD_SCREEN_NEW_PASSWORD}}</p>\\r\\n          <input [(ngModel)]=\\\"newPassword\\\" type=\\\"{{showPassword ? 'text' : 'password'}}\\\" name=\\\"newPassword\\\" id=\\\"newPassword\\\" autocomplete=\\\"new-password\\\" value=\\\"\\\" required>\\r\\n          <span class=\\\"fa\\\" [ngClass]=\\\"{'fa-eye-slash': !showPassword, 'fa-eye': showPassword}\\\" (click)=\\\"toggleEye()\\\"></span>\\r\\n        </div><br>\\r\\n        <button type=\\\"submit\\\" class=\\\"butn butn-success\\\" [disabled]=\\\"!changePsswdFrm.form.valid\\\">{{globals.strings.BUTTON_CONFIRM}}</button>\\r\\n      </form>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/settings/my-account/change-password/change-password.component.html\n// module id = ./src/app/settings/my-account/change-password/change-password.component.html\n// module chunks = main","import { Component, OnInit, Renderer2, ViewChild, ContentChildren } from '@angular/core';\r\nimport { ChangePasswordPopupService} from './change-password-popup-service';\r\nimport { GlobalsService} from '../../../globals.service';\r\nimport { ChangePasswordService} from './change-password.service';\r\n\r\n@Component({\r\n  selector: 'app-change-password',\r\n  templateUrl: './change-password.component.html'\r\n})\r\nexport class ChangePasswordComponent implements OnInit {\r\n  // @ViewChild('inputOldPasswd') inputOldPasswd;\r\n  @ContentChildren('myButton') myButton;\r\n  // @ViewChild('myButton') myButton; // if the element is not nested\r\n  isVisible= false;\r\n  messages: string = null;\r\n  showPassword = false;\r\n  oldPassword = '';\r\n  newPassword = '';\r\n  opCompleted = false;\r\n  successState = false;\r\n\r\n  introPasswordLister: any;\r\n  maskedInput = '';\r\n  fullmask: boolean;\r\n  symbol: string;\r\n\r\n//  isIE:string;\r\n\r\n  constructor(private popup: ChangePasswordPopupService,\r\n              public globals: GlobalsService,\r\n              private service: ChangePasswordService,\r\n              private renderer: Renderer2) {\r\n    popup.show.subscribe((val: boolean) => this.showPopup());\r\n\r\n    this.service.reply.subscribe(value => {\r\n      this.opCompleted = true;\r\n      if (value.hasOwnProperty('error')) {\r\n        this.messages = value.error.description;\r\n        this.successState = false;\r\n      } else {\r\n        this.messages = value.data.description;\r\n        this.successState = true;\r\n      }\r\n    });\r\n  }\r\n/*\r\n  ngAfterViewInit() {\r\n    let simple = this.renderer.listen(this.myButton.nativeElement, 'click', (evt) => {\r\n      console.log('Clicking the button', evt);\r\n    });\r\n  }\r\n*/\r\n  ngOnInit() {\r\n    /*\r\n    let simple = this.renderer.listen(this.myButton.nativeElement, 'click', (evt) => {\r\n      console.log('Clicking the button', evt);\r\n    });\r\n    */\r\n    // this.ShowPasswordCheckbox(this.inputOldPasswd);\r\n\r\n    // this.initPasswordListeners(this.inputOldPasswd, '\\u25CF');\r\n    // this.isIE = /*@cc_on!@*/false || !!document.documentMode;\r\n//    this.isIE = window.navigator.userAgent.match(/(?:Chrom(?:e|ium)|Firefox)\\/([0-9]+)\\./);// navigator ? navigator.userAgent.toLowerCase() : \"other\";\r\n\r\n//    this.introPasswordLister = this.renderer.listen(this.inputOldPasswd.nativeElement, 'keypress', (evt) => {\r\n//      this.maskingOldPasswordInput(evt);\r\n//    });\r\n\r\n  }\r\n\r\n\r\n  showPopup() {\r\n    this.isVisible = true;\r\n    this.messages = null;\r\n    this.opCompleted = false;\r\n  }\r\n\r\n  onClose() {\r\n    this.isVisible = false;\r\n    this.messages = null;\r\n    this.opCompleted = false;\r\n    // this.introPasswordLister();  // remove listener\r\n  }\r\n\r\n  toggleEye() {\r\n    this.showPassword = !this.showPassword;\r\n  }\r\n\r\n  onSubmit() {\r\n    this.service.doIt(this.oldPassword, this.newPassword);\r\n  }\r\n\r\n\r\n  // https://codepen.io/jimgriesemer/pen/XdoyNO\r\n  /*******************************************************************************\r\n   ShowPasswordCheckbox.js      Adds a \"show password\" toggle to a password field\r\n   ------------------------------------------------------------------------------\r\n   Adapted from                               FormTools.addShowPasswordCheckboxes\r\n   Info/Docs         http://www.brothercake.com/site/resources/scripts/formtools/\r\n   ------------------------------------------------------------------------------\r\n   *******************************************************************************/\r\n//*\r\n  // show password checkbox constructor\r\n  ShowPasswordCheckbox(passField) {\r\n    /*\r\n    console.log('Entrei onInit 1');\r\n    // if the browser is unsupported, silently fail\r\n    // [pre-DOM1 browsers generally, and Opera 8 specifically]\r\n    if (typeof document.getElementById === 'undefined'\r\n      || typeof document.styleSheets === 'undefined') {\r\n      return false;\r\n    }\r\n\r\n    // or if the passfield doesn't exist, silently fail\r\n    if (passfield == null) {\r\n      return false;\r\n    }\r\n    */\r\n    console.log('Entrei onInit 2');\r\n\r\n    // create a context wrapper, so that we have sole context for modifying the content\r\n    // and give it a distinctive and underscored name, to prevent conflict\r\n    passField._contextwrapper = this.createContextWrapper(passField);\r\n\r\n    // save a shortcut to the wrapper\r\n    const passboxWrapper = passField._contextwrapper;\r\n\r\n    // copy the HTML from the password field to create the new plain-text field\r\n    const textField1 = this.convertPasswordFieldHTML(passField);\r\n\r\n    // create the HTML for the show-password label and checkbox\r\n    // we'll have to add for/id associations here so that it works in IE\r\n    // with a random key to avoid duplication\r\n    const labelKey = Math.round(Math.random() * 1000);\r\n    let showLabel = '<label'\r\n      + ' for=\"showpasscheckbox-' + labelKey + '\"'\r\n      + ' class=\"show-password\"'\r\n      + ' title=\"Show the password as plain text (not advisable in a public place)\"'\r\n      + ' style=\"display:block;position:static;\"'\r\n      + '>';\r\n    showLabel += '<input type=\"checkbox\"'\r\n      + ' id=\"showpasscheckbox-' + labelKey + '\"'\r\n      + ' title=\"Show the password as plain text (not advisable in a public place)\"'\r\n      + '>';\r\n    showLabel += '<span style=\"display:inline-block;\">Show Password</span>';\r\n    showLabel += '</label>';\r\n\r\n    // write the textfield and showlabel into the context wrapper,\r\n    // after the password field that's currently there\r\n    passboxWrapper.innerHTML += textField1 + showLabel;\r\n\r\n    // grab back a reference to the textfield and checkbox\r\n    // and to the original password field, saving it back to passfield\r\n    const textField = passboxWrapper.lastChild.previousSibling;\r\n    const tickBox = passboxWrapper.lastChild.firstChild;\r\n    passField = passboxWrapper.firstChild;\r\n\r\n    // then the password field and textfield need circular references\r\n    // and the checkbox needs references back to both of them\r\n    passField._plainfield = textField;\r\n    textField._passwordfield = passField;\r\n    tickBox._passwordfield = passField;\r\n    tickBox._plainfield = textField;\r\n\r\n    // restore its contextwrapper reference\r\n    passField._contextwrapper = passboxWrapper;\r\n\r\n    // save a reference to this\r\n    const self = this;\r\n\r\n    // then bind change listeners to both fields\r\n    // to continually copy input values between them\r\n    this.addListener(passField, 'change', function (e) {\r\n      const textbox = self.getTarget(e);\r\n      textbox._plainfield.value = textbox.value;\r\n    });\r\n    this.addListener(textField, 'change', function (e) {\r\n      const textbox = self.getTarget(e);\r\n      textbox._passwordfield.value = textbox.value;\r\n    });\r\n\r\n    // then bind a simple click handler to the checkbox toggle the fields' display\r\n    this.addListener(tickBox, 'click', function (e) {\r\n      console.log('Entrei click');\r\n      // get the checkbox reference\r\n      const tickBoxHere = self.getTarget(e),\r\n\r\n        // the textbox to show is the plainfield if checked or the password field if not\r\n        // and the textbox to hide is the other one\r\n        showField = tickBoxHere.checked ? tickBoxHere._plainfield : tickBoxHere._passwordfield,\r\n        hideField = tickBoxHere.checked ? tickBoxHere._passwordfield : tickBoxHere._plainfield;\r\n\r\n      // re-copy the value from the currently visible field to the one about to be shown\r\n      // this catches situations where history-back retains the plain version but\r\n      // not the encrypted version (because password fields are automatically cleared\r\n      // by the browser, but normal text fields aren't) so that revealing the plain one\r\n      // again clears it, or revealing the encrytped one again populates it\r\n      // this should only happen in opera anyway, because of the way it perfectly\r\n      // re-creates cached processor snapshots rather than re-rendering the page,\r\n      // and hence the forced form-reset doesn't kick-in to remove those values\r\n      // (which it doens't in firefox either, but the problem still doesn't occur)\r\n      showField.value = hideField.value;\r\n\r\n      // then toggle the fields' display\r\n      showField.style.display = 'block';\r\n      hideField.style.display = 'none';\r\n    });\r\n\r\n    // get the parent form reference for this field\r\n    const parentForm = this.getParentForm(passField);\r\n\r\n    // then add a submit listener, that copies the plain field value\r\n    // into the password field, if the plain field is currently visible,\r\n    // this catches situations where you submit from the plain field\r\n    // by hitting enter, without ever viewing the normal field\r\n    // (or when its retained in a history view then immediately re-submitted)\r\n    // which would otherwise not yet have copied its value across\r\n    // nb. if there is no parent form then the reference will be null\r\n    // so we add that test just in case, but in that case\r\n    // the field can't submit and then we won't have this issue anyway\r\n    if (parentForm) {\r\n      // save references to the plain and password field\r\n      // as properties of the parent form\r\n      parentForm._plainfield = textField;\r\n      parentForm._passwordfield = passField;\r\n\r\n      // bind the form submission listener\r\n      this.addListener(parentForm, 'submit', function (e) {\r\n        // get the form reference\r\n        var parentformHere = self.getTarget(e);\r\n\r\n        // if the plainfield is currently displayed\r\n        // copy the plainfield value to the password field\r\n        if (parentformHere._plainfield.style.display == 'block') {\r\n          parentformHere._passwordfield.value = parentformHere._plainfield.value;\r\n        }\r\n      });\r\n    }\r\n\r\n    // return true for successful initialization\r\n    return true;\r\n  }\r\n\r\n  // associated utility methods\r\n  // create a context wrapper element around a textbox\r\n  createContextWrapper(passField) {\r\n    // create the wrapper and add its class\r\n    // it has to be an inline element because we don't know its context\r\n    const wrapper = document.createElement('span');\r\n\r\n    // enforce relative positioning\r\n    wrapper.style.position = 'relative';\r\n\r\n    // insert the wrapper directly before the passfield\r\n    passField.parentNode.insertBefore(wrapper, passField);\r\n\r\n    // then move the passfield inside it\r\n    wrapper.appendChild(passField);\r\n\r\n    // return the wrapper reference\r\n    return wrapper;\r\n  }\r\n\r\n  // get the parent form reference from a field reference\r\n  getParentForm(textBox) {\r\n    // find the parent form from this textbox reference\r\n    // (which may not be a textbox, but that's fine, it just a reference name!)\r\n    while (textBox) {\r\n      if (/form/i.test(textBox.nodeName)) {\r\n        break;\r\n      }\r\n      textBox = textBox.parentNode;\r\n    }\r\n    // if the reference is not a form then the textbox wasn't wrapped in one\r\n    // so in that case return null for failure\r\n    if (!/form/i.test(textBox.nodeName)) {\r\n      return null;\r\n    }\r\n\r\n    // else return the now-form reference\r\n    return textBox;\r\n\r\n  }\r\n\r\n  // copy the HTML from a password field to a plain text field,\r\n  // this is only because IE doesn't support setting or changing the type of an input\r\n  convertPasswordFieldHTML(passboxref) {\r\n    // start the HTML for a text field\r\n    let textField = '<input';\r\n\r\n    // now run through the password fields' specified attributes\r\n    // and copy across each one into the textfield HTML\r\n    // *except* for its name and type, and any underscored attributes\r\n    // we need to exclude the name because we'll define that separately\r\n    // depending on the situation, and obviously the type, and private attributes\r\n    // because we control them and their meaning in separate conditions too\r\n    const fieldattributes = passboxref.attributes;\r\n    for ( let j = 0; j < fieldattributes.length; j++) {\r\n      // we have to check .specified otherwise we'll get back every single attribute\r\n      // that the element might possibly have! which is what IE puts in the attributes\r\n      // collection, with default values for unspecified attributes\r\n      if (fieldattributes[j].specified && !/^(_|type|name)/.test(fieldattributes[j].name)) {\r\n        textField += ' ' + fieldattributes[j].name + '=\"' + fieldattributes[j].value + '\"';\r\n      }\r\n    }\r\n\r\n    // now add the type of \"text\" to the end, plus display:none and autocomplete off\r\n    // (to prevent it on the plain field, but it still works on the password field)\r\n    // this uses HTML4 empty-element syntax, but we don't need to distinguish\r\n    // because the browser's internal representations will generally be identical\r\n    textField += ' type=\"text\" style=\"display:none\" autocomplete=\"off\">';\r\n\r\n\r\n    // return the finished textfield HTML\r\n    return textField;\r\n  }\r\n\r\n  // add an event listener\r\n  // this is deliberately not called \"addEvent\" so that we can\r\n  // compress the name, which would otherwise also effect \"addEventListener\"\r\n  addListener(eventnode, eventname, eventhandler) {\r\n    if (document.hasOwnProperty('addEventListener')) {\r\n      return eventnode.addEventListener(eventname, eventhandler, false);\r\n    }\r\n    if (document.hasOwnProperty('attachEvent')) {\r\n      return eventnode.attachEvent('on' + eventname, eventhandler);\r\n    }\r\n\r\n  }\r\n\r\n  // get an event target by sniffing for its property name\r\n  // (assuming here that e is already a cross-model reference\r\n  // as it is from addListener because attachEvent in IE\r\n  // automatically provides a corresponding event argument)\r\n  getTarget(e) {\r\n    // just in case!\r\n    if (!e) {\r\n      return null;\r\n    }\r\n\r\n    // otherwise return the target\r\n    return e.target ? e.target : e.srcElement;\r\n  }\r\n}\r\n// */\r\n/*\r\n\r\n  initPasswordListeners(passfield, symbol) {\r\n      // if the browser is unsupported, silently fail\r\n      // [pre-DOM1 browsers generally, and Opera 8 specifically]\r\n      if(typeof document.getElementById == 'undefined'\r\n        || typeof document.styleSheets == 'undefined') { return false; }\r\n\r\n      // or if the passfield doesn't exist, silently fail\r\n      if(passfield == null) { return false; }\r\n\r\n      // save the masking symbol\r\n      this.symbol = symbol;\r\n\r\n      // identify Internet Explorer for a couple of conditions\r\n      // this.isIE = navigator ? navigator.userAgent.toLowerCase() : \"other\";\r\n\r\n      // delete any default value for security (and simplicity!)\r\n      passfield.value = '';\r\n      passfield.defaultValue = '';\r\n\r\n      // create a context wrapper, so that we have sole context for modifying the content\r\n      // (ie. we can go context.innerHTML = replacement; without catering for\r\n      //  anything else that's there besides the password field itself)\r\n      // and give it a distinctive and underscored name, to prevent conflict\r\n      passfield._contextwrapper = this.createContextWrapper(passfield);\r\n\r\n      // create a fullmask flag which will be used from events to determine\r\n      // whether to mask the entire password (true)\r\n      // or to stop at the character limit (false)\r\n      // most events set the flag before being called, except for onpropertychange\r\n      // which uses whatever the setting currently is\r\n      // this used to be an argument, but onpropertychange fires from our modifications\r\n      // as well as manual input, so the blur event that's supposed to have a fullmask\r\n      // triggers in turn an onpropertychange which doesn't, with the end result\r\n      // that fullmask never works; so by doing it like this, we can set it to\r\n      // true from the blur event and that will persist through all subsequent\r\n      // onpropertychange events, until another manual event changes it back to false\r\n      this.fullmask = false;\r\n\r\n      // for the code that converts a password field into a masked field\r\n      // I used to have lovely clean elegant code for most browsers, then\r\n      // ugly horrible hacky code for IE; but since the hacky approach does\r\n      // actually work for everyone, and we have to have it here whatever,\r\n      // we may as well just use it for everyone, and get a big saving in code-size\r\n      // it also means we'll get total behavioral consistency, in terms of\r\n      // the preservation (or rather, lack thereof) of existing event handlers\r\n\r\n      // save a reference to the wrapper because the passfield reference will be lost soon\r\n      var wrapper = passfield._contextwrapper;\r\n\r\n      // create the HTML for the hidden field\r\n      // using the name from the original password field\r\n      var hiddenfield = '<input type=\"hidden\" name=\"' + passfield.name + '\">';\r\n\r\n      // copy the HTML from the password field to create the new plain-text field\r\n      var textfield = this.convertPasswordFieldHTML(passfield);\r\n\r\n      // write the hiddenfield and textfield HTML into the wrapper, replacing what's there\r\n      wrapper.innerHTML = hiddenfield + textfield;\r\n\r\n      // grab back the passfield reference back and save it back to passfield\r\n      // then add the masked-password class\r\n      passfield = wrapper.lastChild;\r\n      passfield.className += ' masked';\r\n\r\n      // try to disable autocomplete for this field\r\n      // to prevent firefox from remembering and subsequently offering\r\n      // a menu of useless masking strings, things like \"f\"\r\n      // which of course can't be decoded, they'll just be represented by whatever\r\n      // is in the realfield value at the time, ie. a completely unrelated value!\r\n      passfield.setAttribute('autocomplete', 'off');\r\n\r\n      // now grab the hidden field reference,\r\n      // saving it as a property of the passfield\r\n      passfield._realfield = wrapper.firstChild;\r\n\r\n      // restore its contextwrapper reference\r\n      passfield._contextwrapper = wrapper;\r\n\r\n      // limit the caret position so that you can only edit or select from the end\r\n      // you can't add, edit or select from the beginning or middle of the field\r\n      // otherwise we can't track which masked characters represent which letters\r\n      // (far from ideal I know, but I can't see how else to know\r\n      // which masking symbols represent which letters if you edit from the middle..?)\r\n      this.limitCaretPosition(passfield);\r\n\r\n      // save a reference to this\r\n      var self = this;\r\n\r\n      // then apply the core events to the visible field\r\n      this.addListener(passfield, 'change', function(e)\r\n      {\r\n        self.fullmask = false;\r\n        self.doPasswordMasking(self.getTarget(e));\r\n      });\r\n      this.addListener(passfield, 'input', function(e)\r\n      {\r\n        self.fullmask = false;\r\n        self.doPasswordMasking(self.getTarget(e));\r\n      });\r\n      // no fullmask setting for onpropertychange (as noted above)\r\n      this.addListener(passfield, 'propertychange', function(e)\r\n      {\r\n        self.doPasswordMasking(self.getTarget(e));\r\n      });\r\n\r\n      // for keyup, don't respond to the tab or shift key, otherwise when you [shift/]tab\r\n      // into the field the keyup will cause the fully-masked password to become partially masked\r\n      // which is inconsistent with the mouse since it doesn't happen when you click focus\r\n      // so it's only supposed to happen when you actually edit it; we'll also prevent it\r\n      // from happening in response to arrows keys as well, for visual completeness!\r\n      // and from the other modifiers keys, just cos it feels like the right thing to do\r\n      this.addListener(passfield, 'keyup', function(e)\r\n      {\r\n        if(!/^(9|1[678]|224|3[789]|40)$/.test(e.keyCode.toString()))\r\n        {\r\n          self.fullmask = false;\r\n          self.doPasswordMasking(self.getTarget(e));\r\n        }\r\n      });\r\n\r\n      // the blur event completely masks the input password\r\n      // (as opposed to leaving the last n characters plain during input)\r\n      this.addListener(passfield, 'blur', function(e)\r\n      {\r\n        self.fullmask = true;\r\n        self.doPasswordMasking(self.getTarget(e));\r\n      });\r\n\r\n      // so between those events we get completely rock-solid behavior\r\n      // with enough redundency to ensure that all input paths are covered\r\n      // and no flickering of text between states :-)\r\n\r\n      // force the parent form to reset onload\r\n      // thereby clearing all values after soft refreh\r\n      this.forceFormReset(passfield);\r\n\r\n      // return true for success\r\n      return true;\r\n  }\r\n\r\n  // associated utility methods\r\n  // implement password masking for a textbox event\r\n  doPasswordMasking(textbox) {\r\n    // create the plain password string\r\n    var plainpassword = '';\r\n\r\n    // if we already have a real field value we need to work out the difference\r\n    // between that and the value that's in the input field\r\n    if(textbox._realfield.value != '')\r\n    {\r\n      // run through the characters in the input string\r\n      // and build the plain password out of the corresponding characters\r\n      // from the real field, and any plain characters in the input\r\n      for(var i=0; i<textbox.value.length; i++)\r\n      {\r\n        if(textbox.value.charAt(i) == this.symbol)\r\n        {\r\n          plainpassword += textbox._realfield.value.charAt(i);\r\n        }\r\n        else\r\n        {\r\n          plainpassword += textbox.value.charAt(i);\r\n        }\r\n      }\r\n    }\r\n\r\n    // if there's no real field value then we're doing this for the first time\r\n    // so whatever's in the input field is the entire plain password\r\n    else\r\n    {\r\n      plainpassword = textbox.value;\r\n    }\r\n\r\n    // get the masked version of the plainpassword, according to fullmask\r\n    // and passing the textbox reference so we have its symbol and limit properties\r\n    var maskedstring = this.encodeMaskedPassword(plainpassword, this.fullmask, textbox);\r\n\r\n    // then we modify the textfield values\r\n    // if (AND ONLY IF) one of the values are now different from the original\r\n    // (this condition is essential to avoid infinite repetition\r\n    //  leading to stack overflow, from onpropertychange in IE\r\n    //  [value changes, fires event, which changes value, which fires event ...])\r\n    // we check both instead of just one, so that we can still allow the action\r\n    // of changing the mask without modifying the password itself\r\n    if(textbox._realfield.value != plainpassword || textbox.value != maskedstring)\r\n    {\r\n      // copy the plain password to the real field\r\n      textbox._realfield.value = plainpassword;\r\n\r\n      // then write the masked value to the original textbox\r\n      textbox.value = maskedstring;\r\n    }\r\n  }\r\n\r\n  // convert a plain-text password to a masked password\r\n  encodeMaskedPassword(passwordstring, fullmask, textbox) {\r\n    // the character limit is nominally 1\r\n    // this is how many characters to leave plain at the end\r\n    // but if the fullmask flag is true the limit is zero\r\n    // and the password will be fully masked\r\n    var characterlimit = fullmask === true ? 0 : 1;\r\n\r\n    // create the masked password string then iterate\r\n    // through he characters in the plain password\r\n    for(var maskedstring = '', i=0; i<passwordstring.length; i++)\r\n    {\r\n      // if we're below the masking limit,\r\n      // add a masking symbol to represent this character\r\n      if(i < passwordstring.length - characterlimit)\r\n      {\r\n        maskedstring += this.symbol;\r\n      }\r\n      // otherwise just copy across the real character\r\n      else\r\n      {\r\n        maskedstring += passwordstring.charAt(i);\r\n      }\r\n    }\r\n\r\n    // return the final masked string\r\n    return maskedstring;\r\n  }\r\n\r\n  // create a context wrapper element around a password field\r\n  createContextWrapper(passfield) {\r\n    // create the wrapper and add its class\r\n    // it has to be an inline element because we don't know its context\r\n    var wrapper = document.createElement('span');\r\n\r\n    // enforce relative positioning\r\n    wrapper.style.position = 'relative';\r\n\r\n    // insert the wrapper directly before the passfield\r\n    passfield.parentNode.insertBefore(wrapper, passfield);\r\n\r\n    // then move the passfield inside it\r\n    wrapper.appendChild(passfield);\r\n\r\n    // return the wrapper reference\r\n    return wrapper;\r\n  }\r\n\r\n  // force a form to reset its values, so that soft-refresh does not retain them\r\n  forceFormReset(textbox) {\r\n    // find the parent form from this textbox reference\r\n    // (which may not be a textbox, but that's fine, it just a reference name!)\r\n    while(textbox)\r\n    {\r\n      if(/form/i.test(textbox.nodeName)) { break; }\r\n      textbox = textbox.parentNode;\r\n    }\r\n    // if the reference is not a form then the textbox wasn't wrapped in one\r\n    // so in that case we'll just have to abandon what we're doing here\r\n    if(!/form/i.test(textbox.nodeName)) { return null; }\r\n\r\n    // otherwise bind a load event to call the form's reset method\r\n    // we have to defer until load time for IE or it won't work\r\n    // because IE renders the page with empty fields\r\n    // and then adds their values retrospectively!\r\n    // (but in other browsers we can use DOMContentLoaded;\r\n    //  and the load listener function takes care of that split)\r\n    this.addSpecialLoadListener(function() { textbox.reset(); });\r\n\r\n    // return the now-form reference\r\n    return textbox;\r\n  }\r\n\r\n  // copy the HTML from a password field to a plain text field,\r\n  // we have to convert the field this way because of Internet Explorer\r\n  // because it doesn't support setting or changing the type of an input\r\n  convertPasswordFieldHTML(passfield) {\r\n    // start the HTML for a text field\r\n    var textfield = '<input';\r\n\r\n    // now run through the password fields' specified attributes\r\n    // and copy across each one into the textfield HTML\r\n    // *except* for its name and type, and any formtools underscored attributes\r\n    // we need to exclude the name because we'll define that separately\r\n    // depending on the situation, and obviously the type, and formtools attributes\r\n    // because we control them and their meaning in separate conditions too\r\n    for(var fieldattributes = passfield.attributes,\r\n          j=0; j<fieldattributes.length; j++)\r\n    {\r\n      // we have to check .specified otherwise we'll get back every single attribute\r\n      // that the element might possibly have! which is what IE puts in the attributes\r\n      // collection, with default values for unspecified attributes\r\n      if(fieldattributes[j].specified && !/^(_|type|name)/.test(fieldattributes[j].name))\r\n      {\r\n        textfield += ' ' + fieldattributes[j].name + '=\"' + fieldattributes[j].value + '\"';\r\n      }\r\n    }\r\n\r\n    // now add the type of \"text\" to the end, plus an autocomplete attribute, and close it\r\n    // we add autocomplete attribute for added safety, though it probably isnt necessary,\r\n    // since browsers won't offer to remember it anywway, because the field has no name\r\n    // this uses HTML4 empty-element syntax, but we don't need to distinguish by spec\r\n    // because the browser's internal representations will generally be identical anyway\r\n    textfield += ' type=\"text\" autocomplete=\"off\">';\r\n\r\n    // return the finished textfield HTML\r\n    return textfield;\r\n  }\r\n\r\n  // this crap is what it takes to force the caret in a textbox to stay at the end\r\n  // I'd really rather not to do this, but it's the only way to have reliable encoding\r\n  limitCaretPosition(textbox) {\r\n    // create a null timer reference and start function\r\n    var timer = null, start = function()\r\n      {\r\n        // prevent multiple instances\r\n        if(timer == null)\r\n        {\r\n          // IE uses this range stuff\r\n          if(this.isIE)\r\n          {\r\n            // create an interval that continually force the position\r\n            // as long as the field has the focus\r\n            timer = window.setInterval(function()\r\n            {\r\n              // we can only force position to the end\r\n              // because there's no way to know whether there's a selection\r\n              // or just a single caret point, because the range methods\r\n              // we could use to determine that don't work on created fields\r\n              // (they generate \"Invalid argument\" errors)\r\n              var range = textbox.createTextRange(),\r\n                valuelength = textbox.value.length,\r\n                character = 'character';\r\n              range.moveEnd(character, valuelength);\r\n              range.moveStart(character, valuelength);\r\n              range.select();\r\n\r\n              // not so fast as to be a major CPU hog\r\n              // but fast enough to do the job effectively\r\n            }, 100);\r\n          }\r\n          // other browsers have these selection properties\r\n          else\r\n          {\r\n            // create an interval that continually force the position\r\n            // as long as the field has the focus\r\n            timer = window.setInterval(function()\r\n            {\r\n              // allow selection from or position at the end\r\n              // otherwise force position to the end\r\n              var valuelength = textbox.value.length;\r\n              if(!(textbox.selectionEnd == valuelength && textbox.selectionStart <= valuelength))\r\n              {\r\n                textbox.selectionStart = valuelength;\r\n                textbox.selectionEnd = valuelength;\r\n              }\r\n\r\n              // ditto\r\n            }, 100);\r\n          }\r\n        }\r\n      },\r\n\r\n      // and a stop function\r\n      stop = function()\r\n      {\r\n        window.clearInterval(timer);\r\n        timer = null;\r\n      };\r\n\r\n    // add events to start and stop the timer\r\n    this.addListener(textbox, 'focus', function() { start(); });\r\n    this.addListener(textbox, 'blur', function() { stop(); });\r\n  }\r\n\r\n  // add an event listener\r\n  // this is deliberately not called \"addEvent\" so that we can\r\n  // compress the name, which would otherwise also effect \"addEventListener\"\r\n  addListener(eventnode, eventname, eventhandler) {\r\n    if(document.hasOwnProperty('addEventListener'))\r\n    {\r\n      return eventnode.addEventListener(eventname, eventhandler, false);\r\n    }\r\n    else if(document.hasOwnProperty('attachEvent')) {\r\n      return eventnode.attachEvent('on' + eventname, eventhandler);\r\n    }\r\n  }\r\n\r\n  // add a special load listener, split between\r\n  // window load for IE and DOMContentLoaded for others\r\n  // this is only used by the force form reset method, which wants that split\r\n  addSpecialLoadListener(eventhandler) {\r\n    // we specifically need a browser condition here, not a feature test\r\n    // because we know specifically what should be given to who\r\n    // and that doesn't match general support for these constructs\r\n    if (window.hasOwnProperty('attachEvent')) {\r\n      return (<any>window).attachEvent('onload', eventhandler);\r\n    }\r\n    else\r\n    {\r\n      return document.addEventListener('DOMContentLoaded', eventhandler, false);\r\n    }\r\n  }\r\n\r\n  // get an event target by sniffing for its property name\r\n  // (assuming here that e is already a cross-model reference\r\n  // as it is from addListener because attachEvent in IE\r\n  // automatically provides a corresponding event argument)\r\n  getTarget(e) {\r\n    // just in case!\r\n    if(!e) { return null; }\r\n\r\n    // otherwise return the target\r\n    return e.target ? e.target : e.srcElement;\r\n  }\r\n\r\n// https://stackoverflow.com/questions/35080387/dynamically-add-event-listener-in-angular-2\r\n  maskingOldPasswordInput(event: KeyboardEvent){\r\n    let position = this.inputOldPasswd.nativeElement.selectionStart;\r\n    this.maskedInput = this.maskedInput.substr(0, position) + String.fromCharCode(event.keyCode) + this.maskedInput.substr(position);\r\n    console.log(\"mask1:\" + event.keyCode);\r\n    console.log(this.maskedInput);\r\n\r\n    // console.log(this.inputOldPasswd.nativeElement.selectionStart);\r\n  }\r\n\r\n}\r\n\r\n*/\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/settings/my-account/change-password/change-password.component.ts","import { Injectable } from '@angular/core';\r\nimport {APISuccessResponse, GlobalsService} from \"../../../globals.service\";\r\nimport {Subject} from \"rxjs/Subject\";\r\nimport {HttpClient, HttpHeaders, HttpParams} from \"@angular/common/http\";\r\n\r\n@Injectable()\r\nexport class ChangePasswordService {\r\n\r\n  reply: Subject<any> = new Subject<any>();\r\n\r\n  constructor(\r\n    private globals: GlobalsService,\r\n    private http: HttpClient\r\n  ) { }\r\n\r\n  /**\r\n   * Change the password by calling the API endpoint\r\n   * @param {string} oldPassword\r\n   * @param {string} newPassword\r\n   */\r\n  doIt(oldPassword: string, newPassword: string) {\r\n\r\n    let endpoint = this.globals.endpoints.changePassword\r\n      .replace('{profile_token}', this.globals.accountProfileToken);\r\n\r\n    let headers = new HttpHeaders()\r\n      .set('Accept-Language', this.globals.settings.default_language)\r\n      .set('Authorization', 'Bearer '+this.globals.authToken);\r\n    let params = new HttpParams()\r\n      .set('device_type', 'web');\r\n\r\n    let body = {\r\n      oldpassword: oldPassword,\r\n      password: newPassword\r\n    };\r\n\r\n    this.http.put<APISuccessResponse>(endpoint, body, {headers: headers, params: params})\r\n      .toPromise()\r\n      .then(res => {\r\n          this.reply.next(res);\r\n        }\r\n      )\r\n      .catch(error => {\r\n        this.reply.next(error);\r\n      });\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/settings/my-account/change-password/change-password.service.ts","module.exports = \"<div id=\\\"outerEditProfileWrapper\\\">\\r\\n  <h4><div class=\\\"breadCrumb\\\" (click)=\\\"crumbClick(globals.pageTitleSlug)\\\">{{globals.strings.SCREEN_SETTINGS}}</div> <i class=\\\"fa fa-arrow-right\\\" aria-hidden=\\\"true\\\"></i> <div class=\\\"breadCrumb\\\" (click)=\\\"crumbClick('settings/my-account')\\\">{{globals?.strings.SCREEN_ACCOUNT}}</div> <i class=\\\"fa fa-arrow-right\\\" aria-hidden=\\\"true\\\"></i> {{globals.strings.EDIT_PROFILE_TITLE}}</h4>\\r\\n\\r\\n  <div id=\\\"edit-profile-wrapper\\\">\\r\\n    <form id=\\\"editProfileFrm\\\" #editProfile=\\\"ngForm\\\">\\r\\n\\r\\n      <div style=\\\"text-align: center\\\">\\r\\n        <img src=\\\"{{globals.currAvatar || globals.defaultAvatar}}\\\" style=\\\"width: 72px; height: 72px;\\\"><br> <!-- globals.currProfile?.avatar?.url -->\\r\\n\\r\\n        <button class=\\\"fileBtn\\\" id=\\\"fileup\\\" type=\\\"button\\\">{{globals.strings.EDIT_PROFILE_CHANGE_IMAGE}}\\r\\n          <input type=\\\"file\\\" (change)=\\\"uploadFile($event)\\\" id=\\\"avatar-file\\\" accept=\\\".png,.jpg,.jpeg\\\" value=\\\"\\\"/>\\r\\n        </button>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"inputRow\\\" style=\\\"margin-top: 20px;\\\">\\r\\n        <label id=\\\"id4-editProfileEmail\\\" for=\\\"edit-profile-email\\\">{{globals.strings.EMAIL_PLACEHOLDER}}</label>\\r\\n        <input type=\\\"email\\\" id=\\\"edit-profile-email\\\" name=\\\"edit-profile-email\\\" aria-labelledby=\\\"id4-editProfileEmail\\\" aria-describedby=\\\"id4\\\" aria-required=\\\"true\\\" [(ngModel)]=\\\"email\\\" required>\\r\\n      </div>\\r\\n\\r\\n      <!-- Name and surname in one go -->\\r\\n      <div class=\\\"inputRow\\\">\\r\\n        <label id=\\\"id5-editProfileName\\\" for=\\\"edit-profile-name\\\">{{globals.strings.REGISTER_SCREEN_FIRST_NAME}}</label>\\r\\n        <input type=\\\"text\\\" name=\\\"edit-profile-name\\\" id=\\\"edit-profile-name\\\" aria-labelledby=\\\"id5-editProfileName\\\" aria-describedby=\\\"id5\\\" [(ngModel)]=\\\"name\\\">\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"inputRow\\\">\\r\\n        <label id=\\\"id6-editProfileAddress\\\" for=\\\"edit-profile-address\\\">{{globals.strings.REGISTER_SCREEN_ADDRESS}}</label>\\r\\n        <input type=\\\"text\\\" name=\\\"edit-profile-address\\\" id=\\\"edit-profile-address\\\" aria-labelledby=\\\"id6-editProfileAddress\\\" aria-describedby=\\\"id6\\\" [(ngModel)]=\\\"address\\\">\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"inputRow\\\">\\r\\n        <label id=\\\"id7-editProfilePostcode\\\" for=\\\"edit-profile-postcode\\\">{{globals.strings.REGISTER_SCREEN_ZIP_CODE}}</label>\\r\\n        <input type=\\\"text\\\" name=\\\"edit-profile-postcode\\\" id=\\\"edit-profile-postcode\\\" aria-labelledby=\\\"id7-editProfilePostcode\\\" aria-describedby=\\\"id7\\\" [(ngModel)]=\\\"zipCode\\\">\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"inputRow\\\">\\r\\n        <p style=\\\"text-align: center;\\\">\\r\\n          <button id=\\\"edit-profile-update-btn\\\" (click)=\\\"onSubmit()\\\" [disabled]=\\\"!editProfile.form.valid\\\">{{globals.strings.BUTTON_UPDATE_DETAILS}}</button>\\r\\n        </p>\\r\\n      </div>\\r\\n    </form>\\r\\n  </div>\\r\\n</div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/settings/my-account/edit-profile/edit-profile.component.html\n// module id = ./src/app/settings/my-account/edit-profile/edit-profile.component.html\n// module chunks = main","import { Component, OnInit } from '@angular/core';\r\nimport {GlobalsService} from \"../../../globals.service\";\r\nimport {EditProfileService} from \"./edit-profile.service\";\r\nimport swal from \"sweetalert2\";\r\nimport {RegisterPopupService} from \"../../../register/register-popup.service\";\r\nimport {Router} from \"@angular/router\";\r\n\r\n\r\n@Component({\r\n  selector: 'app-edit-profile',\r\n  templateUrl: './edit-profile.component.html',\r\n})\r\nexport class EditProfileComponent implements OnInit {\r\n\r\n  showPassword: boolean = false;\r\n\r\n  email: string;\r\n  name: string;\r\n  address: string;\r\n  zipCode: string;\r\n\r\n  constructor(\r\n    private globals: GlobalsService,\r\n    private editProfileService: EditProfileService,\r\n    private router: Router\r\n\r\n  ) {\r\n    /* Subscribe to the service's subjects */\r\n    this.editProfileService.editResponse.subscribe(val => {\r\n      if (val.code == '200' || val.success== 1) {\r\n        swal({\r\n            type: 'success',\r\n            title: '<span style=\"color: #fff;\" class=\"title\">'+this.globals.strings.EDIT_PROFILE_EDITED+'</span>',\r\n            background: '#2a292a'\r\n          }\r\n        );\r\n      }\r\n      else {\r\n        swal({\r\n            type: 'error',\r\n            title: '<span style=\"color: #fff;\" class=\"title\">'+this.globals.strings.SCREEN_ERROR_TITLE+'</span>',\r\n            html:  '<span style=\"color: #fff;\">'+val.description+'</span>',\r\n            background: '#2a292a'\r\n          }\r\n        );\r\n      }\r\n    });\r\n  }\r\n\r\n  ngOnInit() {\r\n    // Fill the form's inputs with the current profile data\r\n    this.email = this.globals.currProfile.email;\r\n    this.name = this.globals.currProfile.name;\r\n    this.address = this.globals.currProfile.address;\r\n  }\r\n\r\n  /**\r\n   * Modify profile's avatar with image uploaded by the user\r\n   * @param event\r\n   */\r\n  uploadFile(event) {\r\n\r\n    let files = event.target.files;\r\n    if (files.length > 0) {\r\n      console.log(files); // You will see the file\r\n      this.editProfileService.uploadAvatar(files);\r\n    }\r\n  }\r\n\r\n  crumbClick(waytoGo: string) {\r\n      this.router.navigate([waytoGo]);\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/settings/my-account/edit-profile/edit-profile.component.ts","import { Injectable } from '@angular/core';\r\nimport { GlobalsService} from \"../../../globals.service\";\r\nimport {HttpClient, HttpHeaders, HttpParams} from \"@angular/common/http\";\r\nimport {Subject} from \"rxjs/Subject\";\r\n\r\n@Injectable()\r\nexport class EditProfileService {\r\n\r\n  public editResponse: Subject<any> = new Subject<any>();\r\n\r\n  constructor(\r\n    public globals: GlobalsService,\r\n    public http: HttpClient\r\n  ) { }\r\n\r\n\r\n  /**\r\n   * Upload a new avatar for the current profile\r\n   * @param file\r\n   */\r\n  uploadAvatar(file) {\r\n\r\n    // Get the current profile's id first...\r\n    // @Notes: the endpoint dedicated to returning the profile info SHOULD return this!!\r\n\r\n      //let profileId = this.getProfileId(this.globals.accountProfileToken);\r\n    //\r\n      let profileId =this.globals.accountProfileToken;\r\n      console.log(this.globals.currProfile);\r\n\r\n    let formData = {\r\n        image: '',\r\n        profile_id: profileId,\r\n        name: this.globals.currProfile.name,\r\n        email: this.globals.currProfile.email\r\n    };\r\nconsole.log(formData);\r\n      console.log(this.globals.userProfiles);\r\n      /* Body */\r\n      /* 'assets/close-dialog-icon-32x32.png',\r\n      let formData = {\r\n        image: file[0].name,\r\n        profile_id: profileId,\r\n        name: this.globals.currProfile.name,\r\n        email: this.globals.currProfile.email\r\n      };\r\n      */\r\n\r\n    const headers = new HttpHeaders()\r\n      .set('Accept-Language', this.globals.settings.default_language)\r\n      .set('Authorization', 'Bearer '+this.globals.authToken);\r\n\r\n    const params = new HttpParams()\r\n      .set('device_type', 'web');\r\n\r\n    let endpoint = this.globals.endpoints.profiles.replace('{account_token}', this.globals.accountToken);\r\n\r\n    this.http.post(endpoint, formData, {headers: headers, params: params})\r\n      .toPromise()\r\n      .then( res => {\r\n        this.editResponse.next(res);\r\n      })\r\n      .catch( error => {\r\n        this.editResponse.next(error);\r\n      });\r\n  }\r\n\r\n  /**\r\n   * Get the id of a profile from a given token\r\n   * @param {string} token\r\n   */\r\n  getProfileId(token: string) : string {\r\n    let pId = null;\r\n    this.globals.userProfiles.forEach((element) => {\r\n      if (element.token === token) {\r\n        pId = element.id;\r\n      }\r\n    });\r\n    return pId;\r\n  }\r\n\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/settings/my-account/edit-profile/edit-profile.service.ts","module.exports = \"<div id=\\\"myAccountWrapper\\\">\\r\\n  <h4><div class=\\\"breadCrumb\\\" (click)=\\\"crumbClick(globals.pageTitleSlug)\\\">{{globals.strings.SCREEN_SETTINGS}}</div> <i class=\\\"fa fa-arrow-right\\\" aria-hidden=\\\"true\\\"></i> {{globals?.strings.SCREEN_ACCOUNT}}</h4>\\r\\n  <div class=\\\"my-account-wrapper\\\">\\r\\n\\r\\n    <div class=\\\"my-account-user-wrapper\\\">\\r\\n\\r\\n      <table>\\r\\n        <tr>\\r\\n          <td class=\\\"avatar\\\"><i class=\\\"fa fa-user-circle\\\"></i></td>\\r\\n          <td>\\r\\n            <table class=\\\"user-info\\\">\\r\\n              <tr>\\r\\n                <td class=\\\"label\\\">{{globals.strings.LOGIN_SCREEN_USERNAME}}</td>\\r\\n                <td class=\\\"info\\\">{{globals.currProfile?.name}}</td>\\r\\n              </tr>\\r\\n              <tr>\\r\\n                <td class=\\\"label\\\">{{globals.strings.MY_ACCOUNT_EMAIL}}</td>\\r\\n                <td class=\\\"info\\\">{{globals.currProfile?.email}}</td>\\r\\n              </tr>\\r\\n              <tr>\\r\\n                <td class=\\\"label\\\">{{globals.strings.MY_ACCOUNT_SIGNUP_DATE}}</td>\\r\\n                <td class=\\\"info\\\">{{globals.currProfile?.sign_up_date.substring(0, 10)}}</td>\\r\\n              </tr>\\r\\n            </table>\\r\\n          </td>\\r\\n        </tr>\\r\\n      </table>\\r\\n\\r\\n    </div>\\r\\n    <div class=\\\"clearfix\\\"></div>\\r\\n\\r\\n    <div class=\\\"my-account-menu-wrapper\\\">\\r\\n      <div class=\\\"my-account-menuOption\\\" *ngFor=\\\"let menuOption of menuOptions\\\">\\r\\n        <table class=\\\"my-account-menuOptionsTbl\\\">\\r\\n          <tr>\\r\\n            <!-- Routes under My account -->\\r\\n            <a *ngIf=\\\"menuOption.type == 'router'\\\" routerLink=\\\"/settings/my-account/{{menuOption.action}}\\\">\\r\\n              <td class=\\\"my-account-btn-txt\\\">{{menuOption.btn_text}}</td>\\r\\n            </a>\\r\\n\\r\\n            <!-- Direct routes -->\\r\\n            <a *ngIf=\\\"menuOption.type == 'router-direct'\\\" routerLink=\\\"/{{menuOption.action}}\\\">\\r\\n              <td class=\\\"my-account-btn-txt\\\">{{menuOption.btn_text}}</td>\\r\\n            </a>\\r\\n\\r\\n            <!-- Call back functions -->\\r\\n            <a *ngIf=\\\"menuOption.type =='callback'\\\" (click)=\\\"this.menuOption.action(true)\\\">\\r\\n              <td class=\\\"my-account-btn-txt\\\">{{menuOption.btn_text}}</td>\\r\\n            </a>\\r\\n          </tr>\\r\\n        </table>\\r\\n      </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n</div>\\r\\n\\r\\n<app-change-password></app-change-password>\\r\\n\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/settings/my-account/my-account.component.html\n// module id = ./src/app/settings/my-account/my-account.component.html\n// module chunks = main","import { Component, OnInit } from '@angular/core';\r\nimport { GlobalsService} from \"../../globals.service\";\r\nimport { SessionsService} from \"../../sessions/sessions.service\";\r\nimport { LoginService} from \"../../login/login.service\";\r\nimport {Router} from \"@angular/router\";\r\nimport {ChangePasswordPopupService} from \"./change-password/change-password-popup-service\";\r\n\r\n@Component({\r\n  selector: 'app-my-account',\r\n  templateUrl: './my-account.component.html'\r\n})\r\nexport class MyAccountComponent implements OnInit {\r\n\r\n  menuOptions: any[];\r\n  addModalPassVisible: boolean;   // Whether we show the changePassword box or not\r\n\r\n  constructor(\r\n    private globals: GlobalsService,\r\n    private sessions: SessionsService,\r\n    private login: LoginService,\r\n    public changePasswordPopupService: ChangePasswordPopupService,\r\n    private router: Router\r\n\r\n  ) {\r\n\r\n    // subscribe to the sessions service so we can show the list of user session\r\n    this.sessions.sessions.subscribe(value => {\r\n      // Do we have any live sessions?\r\n      if (value.length > 0) {\r\n        this.sessions.isVisible.next(true);\r\n        this.router.navigate(['sessions']);\r\n      }\r\n    });\r\n\r\n    // subscribe to the login service for logout option\r\n    this.login.finishedLogout.subscribe(value => {\r\n      if (value) {\r\n        this.router.navigate(['']);\r\n      }\r\n    });\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.buildMenuOptions();\r\n  }\r\n\r\n  /**\r\n   * Build the buttons for the my account screen\r\n   */\r\n  buildMenuOptions() {\r\n    this.menuOptions = [];\r\n\r\n\r\n\r\n    // first option depends on whether the settings allow more than one profile\r\n    if (this.globals.settings.profiles_limit > 1)\r\n      this.menuOptions.push({btn_text: this.globals.strings.SETTINGS_SCREEN_MANAGE_PROFILES, type: 'router', action: 'manage-profiles'});\r\n\r\n\r\n    if (this.globals.settings.user_configurations.enabled_features.manage_account!=0) {\r\n        this.menuOptions.push(\r\n            {btn_text: this.globals.strings.SETTINGS_CHANGE_INFO, type: 'router', action: 'edit'},\r\n            {btn_text: this.globals.strings.BUTTON_CHANGE_PASSWORD, type: 'callback', action: this.changePassword.bind(this)});\r\n    }\r\n    if (this.globals.rules.purchasePin)\r\n      this.menuOptions.push({btn_text: this.globals.strings.SETTINGS_EDIT_PURCHASE_PIN, type: 'router', action: 'change-purchase-pin'});\r\n\r\n    //if (this.globals.settings.user_configurations.parental_control_enabled)\r\n      this.menuOptions.push({btn_text: this.globals.strings.SETTINGS_SCREEN_PARENTAL_CONTROLS, type: 'router', action: 'parental-control'});\r\n\r\n    this.menuOptions.push({btn_text: this.globals.strings.SETTINGS_SCREEN_DEVICES, type: 'callback', action: this.showSessions.bind(this)});\r\n\r\n    if (this.globals.rules.manageCreditCard)\r\n      this.menuOptions.push({btn_text: this.globals.strings.BUTTON_MANAGE_CREDIT_CARD, type: 'router', action: 'manage-cc'});\r\n\r\n    if (this.globals.rules.subscriptions)\r\n      this.menuOptions.push({btn_text: this.globals.strings.SUBSCRIPTION_PLAN_NAME, type: 'router', action: 'subscription'});\r\n\r\n    if (this.globals.settings.user_configurations.authentication_screens.pairing)\r\n        this.menuOptions.push({btn_text: this.globals.strings.SETTINGS_SCREEN_PAIRING_CODE, type: 'router', action: 'pairing'});\r\n\r\n    if (this.globals.userLoggedIn)\r\n      this.menuOptions.push({btn_text: this.globals.strings.SETTINGS_SCREEN_SIGN_OUT, type: 'callback', action: this.logout.bind(this)});\r\n  }\r\n\r\n  changePassword() {\r\n    this.changePasswordPopupService.show.next(true);\r\n  }\r\n\r\n  /**\r\n   * Prepare the list of sessions to be shown\r\n   */\r\n  showSessions() {\r\n    this.sessions.getLiveSessions(this.globals.authToken);\r\n  }\r\n\r\n  logout() {\r\n    this.login.logout();\r\n  }\r\n\r\n    crumbClick(waytoGo: string) {\r\n    console.log(waytoGo);\r\n        this.router.navigate([waytoGo]);\r\n    }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/settings/my-account/my-account.component.ts","import { Injectable } from '@angular/core';\r\nimport {HttpClient, HttpHeaders, HttpParams} from \"@angular/common/http\";\r\nimport {APIDataResponse, GlobalsService} from \"../../globals.service\";\r\nimport {Subject} from \"rxjs/Subject\";\r\n\r\n@Injectable()\r\nexport class MyAccountService {\r\n  ModalPasswordWindow: Subject<boolean> = new Subject<boolean>();\r\n  response: Subject<any>  = new Subject<any>();\r\n\r\n\r\n  constructor(private http: HttpClient, private globals: GlobalsService) {\r\n    this.ModalPasswordWindow.next(false);\r\n  }\r\n\r\n  putPasswd(oldPassword: string, newPassword: string) {\r\n    //API path\r\n    let endpoint = this.globals.endpoints.changePassword\r\n      .replace('{profile_token}', this.globals.accountProfileToken);\r\n\r\n    //API header\r\n    let headers = new HttpHeaders()\r\n      .set('Accept-Language', this.globals.settings.default_language)\r\n      .set('Authorization', 'Bearer '+this.globals.authToken);\r\n\r\n    //API query\r\n    let params = new HttpParams()\r\n      .set('device_type', 'web')\r\n\r\n    //API body\r\n    let bodydata = {oldpassword: oldPassword, password: newPassword};\r\n\r\n    this.http.put<APIDataResponse>(endpoint, bodydata,{headers: headers, params: params})\r\n      .toPromise()\r\n      .then(res => {\r\n        this.response.next(res);\r\n      })\r\n      .catch(error => {\r\n        console.error(error);\r\n        this.response.next(error);\r\n      });\r\n\r\n  }\r\n\r\n\r\n  /**\r\n   * Send pairing code to validate STV session\r\n   */\r\n  putPairing(pairingCode: string) {\r\n\r\n    // check if a DUID is already in local storage. If not generate a new one and store it.\r\n    var duid = localStorage.getItem(this.globals.localStorageKeyPrefix+'DUID');\r\n\r\n    if (duid === '' || duid === null) {\r\n      duid = this.generateDUID();\r\n      localStorage.setItem(this.globals.localStorageKeyPrefix+'DUID', duid);\r\n    }\r\n\r\n    //API path\r\n    let endpoint = this.globals.endpoints.pairingCode\r\n      .replace('{profile_token}', this.globals.accountProfileToken);\r\n\r\n    //API header\r\n    let headers = new HttpHeaders()\r\n      .set('Accept-Language', this.globals.settings.default_language)\r\n      .set('Authorization', 'Bearer '+this.globals.authToken);\r\n\r\n    //API query\r\n    let params = new HttpParams()\r\n      .set('device_type', 'web')\r\n      .set('duid', duid)\r\n\r\n\r\n    this.http.put<APIDataResponse>(endpoint, {pairing_code:pairingCode},{headers: headers, params: params})\r\n      .toPromise()\r\n      .then(res => {\r\n        this.response.next(res);\r\n      })\r\n      .catch(error => {\r\n        console.error(error);\r\n        this.response.next(error);\r\n      });\r\n  }\r\n\r\n  /**\r\n   * Generate Device Unique Id\r\n   * @returns {string} - '00000000-0000-0000-0000-000000000000'\r\n   */\r\n  generateDUID() {\r\n    function _p8(s) {\r\n      var p = (Math.random().toString(16)+\"000000000\").substr(2,8);\r\n      return s ? \"-\" + p.substr(0,4) + \"-\" + p.substr(4,4) : p ;\r\n    }\r\n    return _p8(false) + _p8(true) + _p8(true) + _p8(false);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/settings/my-account/my-account.service.ts","module.exports = \"<div id=\\\"pairingWrapper\\\">\\r\\n  <form #pairingFrm=\\\"ngForm\\\" (ngSubmit)=\\\"onSubmit()\\\">\\r\\n    <!-- a varivel pairingFrm  agora uma referncia para a diretiva-ngForm deste <form> e monitoriza o estado dos -->\\r\\n    <!-- vrios elementos que este <form> contm e que usem a diretiva-ngModel; neste caso s o <input> -->\\r\\n    <!-- TODO: replace with api key -->\\r\\n    <p>{{globals.strings.SETTINGS_SCREEN_PAIRING_CODE}}</p>\\r\\n    <div class=\\\"vspacer\\\">\\r\\n      <input id=\\\"pairingInput\\\" name=\\\"pairing\\\" type=\\\"text\\\" [(ngModel)]=\\\"pairingCode\\\" (focus)=\\\"responded=false\\\" required>\\r\\n      <!-- quando o <input> usa o [{ngModel}] ento tem de se definir no <input> um name tag nico, neste caso: name=\\\"pairing\\\" (que no  usado) -->\\r\\n      <!-- se o <input> tem focus ento apaga a mensagem, i.e. coloca responded=false -->\\r\\n      <button type=\\\"submit\\\" class=\\\"butn butn-success\\\" [disabled]=\\\"!pairingFrm.form.valid\\\">{{globals.strings.BUTTON_CONFIRM}}</button>\\r\\n      <!-- aqui  usada a varivel da diretiva-ngForm e testado o seu membro valid -->\\r\\n    </div>\\r\\n  </form>\\r\\n  <div id=\\\"pairingMsg\\\">\\r\\n    <div *ngIf=\\\"responded\\\" >{{message}}</div>\\r\\n  </div>\\r\\n</div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/settings/my-account/pairing/pairing.component.html\n// module id = ./src/app/settings/my-account/pairing/pairing.component.html\n// module chunks = main","import { Component, OnInit } from '@angular/core';\r\nimport { PairingService} from \"./pairing.service\";\r\nimport { GlobalsService} from \"../../../globals.service\";\r\n\r\n@Component({\r\n  selector: 'app-pairing',\r\n  templateUrl: './pairing.component.html'\r\n})\r\nexport class PairingComponent implements OnInit {\r\n  pairingCode: string;\r\n  responded: boolean = false;\r\n  message: string = '';\r\n  constructor(\r\n    public service: PairingService,\r\n    public globals: GlobalsService\r\n  ) {\r\n    this.service.response.subscribe(value => {\r\n      this.responded = true;\r\n      this.message = value.error.description;\r\n      // Apparently no action is needed when the response is valid, the API will take care of the rest(?)\r\n    });\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  onSubmit(){\r\n    this.service.putPairing(this.pairingCode);\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/settings/my-account/pairing/pairing.component.ts","import { Injectable } from '@angular/core';\r\nimport {HttpClient, HttpHeaders, HttpParams} from \"@angular/common/http\";\r\nimport {APIDataResponse, GlobalsService} from \"../../../globals.service\";\r\nimport {Subject} from \"rxjs/Subject\";\r\n\r\n@Injectable()\r\nexport class PairingService {\r\n\r\n  response: Subject<any>  = new Subject<any>();\r\n  // Differences of response being an observable of type Subject rather then of type Observable:\r\n  // 1-  All subscribers to this response (Subject) will share the same execution of the Subject and thus receive the same data\r\n  // 1a- For an Observable each subscriber causes an independent execution of the observable.\r\n  // 2-  I thinks less important for this local use, this response (Subject) is able, apart from producing data, to also consume it\r\n  // 2a- An Observable is only a data producer\r\n\r\n  constructor(private http: HttpClient,\r\n              private globals: GlobalsService) { }\r\n\r\n  /**\r\n   * Send pairing code to validate STV session\r\n   */\r\n  putPairing(pairingCode: string) {\r\n\r\n    // check if a DUID is already in local storage. If not generate a new one and store it.\r\n    var duid = localStorage.getItem(this.globals.localStorageKeyPrefix+'DUID');\r\n\r\n    if (duid === '' || duid === null) {\r\n      duid = this.generateDUID();\r\n      localStorage.setItem(this.globals.localStorageKeyPrefix+'DUID', duid);\r\n    }\r\n    //API header\r\n    let headers = new HttpHeaders()\r\n      .set('Accept-Language', this.globals.settings.default_language)\r\n      .set('Authorization', 'Bearer '+this.globals.authToken);\r\n\r\n    //API query\r\n    let params = new HttpParams()\r\n      .set('device_type', 'web')\r\n      .set('duid', duid)\r\n\r\n    //API path\r\n    let endpoint = this.globals.endpoints.pairingCode\r\n      .replace('{profile_token}', this.globals.accountProfileToken);\r\n\r\n    this.http.put<APIDataResponse>(endpoint, {pairing_code:pairingCode},{headers: headers, params: params})\r\n      .toPromise()\r\n      .then(res => {\r\n        this.response.next(res);\r\n      })\r\n      .catch(error => {\r\n        console.error(error);\r\n        this.response.next(error);\r\n      });\r\n  }\r\n\r\n  /**\r\n   * Generate Device Unique Id\r\n   * @returns {string} - '00000000-0000-0000-0000-000000000000'\r\n   */\r\n  generateDUID() {\r\n    function _p8(s) {\r\n      var p = (Math.random().toString(16)+\"000000000\").substr(2,8);\r\n      return s ? \"-\" + p.substr(0,4) + \"-\" + p.substr(4,4) : p ;\r\n    }\r\n    return _p8(false) + _p8(true) + _p8(true) + _p8(false);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/settings/my-account/pairing/pairing.service.ts","import { Injectable } from '@angular/core';\r\nimport {Subject} from 'rxjs/Rx';\r\n\r\n@Injectable()\r\nexport class ParentalPopupService {\r\n  show: Subject<boolean> = new Subject();\r\n  constructor() { }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/settings/my-account/parental/parental-popup.service.ts","module.exports = \"<div id=\\\"parentalControlsWrapper\\\">\\r\\n  <h4><div class=\\\"breadCrumb\\\" (click)=\\\"crumbClick(globals.pageTitleSlug)\\\">{{globals.strings.SCREEN_SETTINGS}}</div> <i class=\\\"fa fa-arrow-right\\\" aria-hidden=\\\"true\\\"></i> <div class=\\\"breadCrumb\\\" (click)=\\\"crumbClick('settings/my-account')\\\">{{globals?.strings.SCREEN_ACCOUNT}}</div> <i class=\\\"fa fa-arrow-right\\\" aria-hidden=\\\"true\\\"></i> {{globals.strings.SCREEN_PARENTAL_CONTROLS}}</h4>\\r\\n  <div id=\\\"parentalControlContent\\\">\\r\\n    <table id=\\\"pinBtnsTbl\\\">\\r\\n      <tr>\\r\\n        <td><button (click)=\\\"changePin()\\\">{{globals.strings.SCREEN_CHANGE_PIN}}</button></td>\\r\\n        <td><button (click)=\\\"recoverPin()\\\">{{globals.strings.SCREEN_RECOVER_PIN}}</button></td>\\r\\n        <td *ngIf=\\\"hasChanged\\\"><button (click)=\\\"askForPin()\\\">{{globals.strings.GENERAL_SAVE}}</button></td>\\r\\n      </tr>\\r\\n    </table>\\r\\n\\r\\n    <table id=\\\"ratingsTbl\\\">\\r\\n      <!-- first row immutable -->\\r\\n      <tr>\\r\\n        <td id=\\\"id8-parentalCtrlSwitch\\\">{{globals.strings.SCREEN_PARENTAL_CONTROLS}}</td>\\r\\n        <td>\\r\\n          <label class=\\\"switch\\\">\\r\\n            <input *ngIf=\\\"parentalCtrlOn\\\" type=\\\"radio\\\" aria-labelledby=\\\"id8-parentalCtrlSwitch\\\" aria-describedby=\\\"id8\\\" (click)=\\\"toggleParentalCtrl();\\\" checked=\\\"checked\\\">\\r\\n            <input *ngIf=\\\"!parentalCtrlOn\\\" type=\\\"radio\\\" aria-labelledby=\\\"id8-parentalCtrlSwitch\\\" aria-describedby=\\\"id8\\\" (click)=\\\"toggleParentalCtrl();\\\">\\r\\n            <span class=\\\"slider round\\\"></span>\\r\\n          </label>\\r\\n        </td>\\r\\n      </tr>\\r\\n\\r\\n      <tr *ngFor=\\\"let rating of ratings?.data\\\">\\r\\n        <td id=\\\"id9-ratingDescrption\\\">{{rating.name}} - {{rating.description}}</td>\\r\\n        <td>\\r\\n          <label class=\\\"radio-container\\\">\\r\\n            <input type=\\\"radio\\\" name=\\\"radio\\\" aria-labelledby=\\\"id9-ratingDescrption\\\" aria-describedby=\\\"id9\\\" (click)=\\\"changeRating(rating.id)\\\" [disabled]=\\\"!parentalCtrlOn\\\" [checked]=\\\"parentalCtrlOn && rating.id===lastRule\\\">\\r\\n            <span class=\\\"checkmark\\\"></span>\\r\\n          </label>\\r\\n        </td>\\r\\n      </tr>\\r\\n    </table>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<!-- Ask for pin modal -->\\r\\n<div *ngIf=\\\"askforPin===true\\\" class=\\\"popup-container\\\">\\r\\n  <div class=\\\"popup-close\\\" (click)=\\\"askforPin=false\\\"></div>\\r\\n  <div class=\\\"popup-content\\\">\\r\\n    <div id=\\\"parentalPinContent\\\">\\r\\n      <span class=\\\"close-button\\\" (click)=\\\"askforPin=false\\\"></span>\\r\\n      <h4>{{globals.strings.INFO_PIN_INSERTION}}</h4>\\r\\n\\r\\n      <div class=\\\"parentalPinMessages\\\" [ngClass]=\\\"{'pinSuccess': !opError, 'pinError': opError}\\\" *ngIf=\\\"messages.length > 0\\\">\\r\\n        <span>{{messages}}</span>\\r\\n      </div>\\r\\n\\r\\n      <form id=\\\"parentalPinFrm\\\">\\r\\n        <div class=\\\"pinPassword\\\">\\r\\n          <span class=\\\"fa\\\" [ngClass]=\\\"{'fa-eye-slash': showPassword, 'fa-eye': !showPassword}\\\" (click)=\\\"toggleEye()\\\"></span>\\r\\n          <input type=\\\"{{showPassword ? 'text' : 'password'}}\\\" name=\\\"parental-pin\\\" id=\\\"parental-pin\\\" [(ngModel)]=\\\"parentalPin\\\" required>\\r\\n        </div>\\r\\n\\r\\n        <button (click)=\\\"verifyPin()\\\">{{globals.strings.BUTTON_CONFIRM}}</button>\\r\\n      </form>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<!-- change pin modal -->\\r\\n<div *ngIf=\\\"showChangeModal===true\\\" class=\\\"popup-container\\\">\\r\\n  <div class=\\\"popup-close\\\" (click)=\\\"showChangeModal=false\\\"></div>\\r\\n  <div class=\\\"popup-content\\\">\\r\\n    <div id=\\\"changeParentalPinContent\\\">\\r\\n      <span class=\\\"close-button\\\" (click)=\\\"showChangeModal=false\\\"></span>\\r\\n      <h4>{{globals.strings.CHANGE_PIN_ENTER_PIN}}</h4>\\r\\n\\r\\n      <div class=\\\"parentalPinMessages\\\" [ngClass]=\\\"{'pinSuccess': !updateOpError, 'pinError': updateOpError}\\\" *ngIf=\\\"updateMessages.length > 0\\\">\\r\\n        <span>{{updateMessages}}</span>\\r\\n      </div>\\r\\n\\r\\n      <form id=\\\"changeParentalPinFrm\\\">\\r\\n        <div class=\\\"pinPassword\\\">\\r\\n          <span class=\\\"fa\\\" [ngClass]=\\\"{'fa-eye-slash': showPasswordOld, 'fa-eye': !showPasswordOld}\\\" (click)=\\\"toggleEyeOld()\\\"></span>\\r\\n          <input type=\\\"{{showPassword ? 'text' : 'password'}}\\\" name=\\\"old-pin\\\" id=\\\"old-pin\\\" [(ngModel)]=\\\"oldPin\\\" placeholder=\\\"{{globals.strings.CHANGE_PIN_SCREEN_OLD_PIN}}\\\" required>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"pinPassword\\\">\\r\\n          <span class=\\\"fa\\\" [ngClass]=\\\"{'fa-eye-slash': showPasswordNew, 'fa-eye': !showPasswordNew}\\\" (click)=\\\"toggleEyeNew()\\\"></span>\\r\\n          <input type=\\\"{{showPassword ? 'text' : 'password'}}\\\" name=\\\"new-pin\\\" id=\\\"new-pin\\\" [(ngModel)]=\\\"newPin\\\" placeholder=\\\"{{globals.strings.CHANGE_PIN_SCREEN_NEW_PIN}}\\\" required>\\r\\n        </div>\\r\\n\\r\\n        <button (click)=\\\"verifyChangePin()\\\">{{globals.strings.BUTTON_CHANGE_PIN}}</button>\\r\\n      </form>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/settings/my-account/parental/parental.component.html\n// module id = ./src/app/settings/my-account/parental/parental.component.html\n// module chunks = main","import { Component, OnInit } from '@angular/core';\r\nimport {GlobalsService} from '../../../globals.service';\r\nimport {ParentalPopupService} from './parental-popup.service';\r\nimport {ParentalService} from './parental.service';\r\nimport {RecoverPinPopupService} from '../../../recover-pin/recover-pin-popup.service';\r\nimport {ChangePinPopupService} from '../../../change-pin/change-pin-popup.service';\r\nimport {AgeRatings} from \"../../../models/age-ratings\";\r\nimport swal from \"sweetalert2\";\r\nimport {Router} from \"@angular/router\";\r\n\r\n@Component({\r\n  selector: 'app-parental',\r\n  templateUrl: './parental.component.html'\r\n})\r\nexport class ParentalComponent implements OnInit {\r\n\r\n  parentalCtrlOn = false;\r\n\r\n  ratings: AgeRatings;\r\n  askforPin: boolean = false;\r\n  parentalPin: string = '';\r\n  hasChanged: boolean = false;\r\n  lastRule: string = '';\r\n  messages: string = '';\r\n  showPassword: boolean = false;\r\n  showPasswordOld: boolean = false;\r\n  showPasswordNew: boolean = false;\r\n  opError: boolean = false; // For parental pin operation messages\r\n\r\n  /* For updating the parental pin */\r\n  showChangeModal: boolean = false;\r\n  oldPin: string = '';\r\n  newPin: string = '';\r\n  updateOpError: boolean = false;        // For changing classes in the messages div\r\n  updateMessages: string = '';\r\n\r\n  constructor(public globals: GlobalsService,\r\n              private popup: ParentalPopupService,\r\n              private parentalService: ParentalService,\r\n              private recoverPinSrv: RecoverPinPopupService,\r\n              private changePinSrv: ChangePinPopupService,\r\n              private router: Router)\r\n  {\r\n    parentalService.ageRatings.subscribe(value => {\r\n      this.ratings = value;\r\n    });\r\n\r\n    parentalService.setParentalResponse.subscribe(value => {\r\n      if (value.hasOwnProperty('data')) {\r\n        this.opError = false;\r\n        this.messages= value.data.description;\r\n      }\r\n\r\n      if (value.hasOwnProperty('error')) {\r\n        this.opError = true;\r\n        this.messages= value.error.description;\r\n      }\r\n\r\n    });\r\n\r\n    parentalService.updateParentalPinResponse.subscribe(value => {\r\n      if (value.hasOwnProperty('data')) {\r\n        this.updateOpError = false;\r\n        this.updateMessages = value.data.msg;\r\n      }\r\n\r\n      if (value.hasOwnProperty('error')) {\r\n        this.updateOpError = true;\r\n        this.updateMessages = value.error.description;\r\n      }\r\n    });\r\n\r\n    parentalService.recoverParentalPinResponse.subscribe(value => {\r\n      if (value.hasOwnProperty('data')) {\r\n        swal({\r\n          type: 'success',\r\n          html:  '<span style=\"color: #fff; font-size: 16px;\">'+value.data.description+'</span>',\r\n          background: '#2a292a'\r\n        });\r\n      }\r\n\r\n      if (value.hasOwnProperty('error')) {\r\n        swal({\r\n            type: 'error',\r\n            title: '<span style=\"color: #fff;  font-size: 16px;\" class=\"title\">'+this.globals.strings.GENERAL_ERROR+'</span>',\r\n            html:  '<span style=\"color: #fff;  font-size: 16px;\">'+value.error.description+'</span>',\r\n            background: '#2a292a'\r\n          }\r\n        );\r\n      }\r\n    });\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.parentalService.getAgeRatings();\r\n\r\n    // Check the current parental status for the currently chosen profile\r\n    this.parentalCtrlOn = this.globals.currProfile.parental_controls.enabled === 1 ? true: false;\r\n\r\n    // Get the current setting for this profile\r\n    this.lastRule = this.globals.currProfile.parental_controls.setting.id;\r\n  }\r\n\r\n\r\n\r\n  toggleParentalCtrl() {\r\n    this.parentalCtrlOn = !this.parentalCtrlOn;\r\n    this.globals.currProfile.parental_controls.enabled = this.parentalCtrlOn===true ? 1 : 0;\r\n    this.hasChanged = true;\r\n  }\r\n\r\n  /**\r\n   * Change the current age rating\r\n   * @param {string} id\r\n   */\r\n  changeRating(id: string) {\r\n    if (id!==this.lastRule)\r\n      this.hasChanged = true;\r\n\r\n    this.lastRule = id;\r\n  }\r\n\r\n\r\n  askForPin() {\r\n    this.askforPin = true;\r\n  }\r\n\r\n  verifyPin() {\r\n    let isLegit = true;\r\n\r\n    // Digits only\r\n    for (let i = 0; i < this.parentalPin.length; i++) {\r\n      let c = this.parentalPin[i];\r\n      if (c >= '0' && c <= '9') { /* ok */ }\r\n      else {\r\n        isLegit = false;\r\n        break;\r\n      }\r\n    }\r\n\r\n    if (this.parentalPin.length !== 4 || !isLegit) {\r\n      this.opError = true;\r\n      this.messages = this.globals.strings.ERROR_PIN_SHORT;\r\n      return;\r\n    }\r\n\r\n    // clear messages\r\n    this.messages = '';\r\n\r\n    // Check if the parental control is disabled. We must send a setting of 0 to disable it\r\n    if (!this.parentalCtrlOn)\r\n      this.lastRule = '0';\r\n\r\n    this.parentalService.setParentalControl(this.lastRule, this.parentalPin);\r\n  }\r\n\r\n  verifyChangePin() {\r\n    let isLegit = true;\r\n\r\n    // Digits only\r\n    for (let i = 0; i < this.oldPin.length; i++) {\r\n      let c = this.oldPin[i];\r\n      if (c >= '0' && c <= '9') { /* ok */ }\r\n      else {\r\n        isLegit = false;\r\n        break;\r\n      }\r\n    }\r\n\r\n    for (let i = 0; i < this.newPin.length; i++) {\r\n      let c = this.newPin[i];\r\n      if (c >= '0' && c <= '9') { /* ok */ }\r\n      else {\r\n        isLegit = false;\r\n        break;\r\n      }\r\n    }\r\n\r\n    if (this.oldPin.length !== 4 || this.newPin.length !==4 || !isLegit) {\r\n      this.updateOpError = true;\r\n      this.updateMessages = this.globals.strings.ERROR_PIN_SHORT;\r\n      return;\r\n    }\r\n\r\n    // clear messages\r\n    this.updateMessages = '';\r\n\r\n    // Check if the parental control is disabled. We must send a setting of 0 to disable it\r\n    if (!this.parentalCtrlOn)\r\n      this.lastRule = '0';\r\n\r\n    this.parentalService.changeParentalPin(this.oldPin, this.newPin);\r\n  }\r\n\r\n\r\n  changePin() {\r\n    this.showChangeModal = true;\r\n  }\r\n\r\n  recoverPin() {\r\n    swal({\r\n        title: '<span style=\"color: #fff; font-size: 16px;\">'+this.globals.strings.BUTTON_RECOVER_PIN+'</span>',\r\n        html: '<span style=\"color: #fff; font-size: 16px;\">'+this.globals.strings.INFO_PIN_RECOVER+'</span>',\r\n        type: 'warning',\r\n        confirmButtonText: this.globals.strings.BUTTON_CONFIRM,\r\n        background: '#2a292a'\r\n      }\r\n    ).then(result => {\r\n      if (result.value) {\r\n        this.parentalService.recoverParentalPin();\r\n      }\r\n    });\r\n  }\r\n\r\n  toggleEye() {\r\n    this.showPassword = !this.showPassword;\r\n  }\r\n\r\n  toggleEyeOld() {\r\n    this.showPasswordOld = !this.showPasswordOld;\r\n  }\r\n\r\n  toggleEyeNew() {\r\n    this.showPasswordNew = !this.showPasswordNew;\r\n  }\r\n\r\n  crumbClick(waytoGo: string) {\r\n      this.router.navigate([waytoGo]);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/settings/my-account/parental/parental.component.ts","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\n\r\nimport { ParentalComponent } from './parental.component';\r\nimport { ParentalPopupService} from './parental-popup.service';\r\nimport { ParentalService} from './parental.service';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    ReactiveFormsModule\r\n  ],\r\n  declarations: [ParentalComponent],\r\n  providers: [ParentalPopupService, ParentalService],\r\n  exports: [ParentalComponent]\r\n})\r\nexport class ParentalModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/settings/my-account/parental/parental.module.ts","import { Injectable } from '@angular/core';\r\nimport 'rxjs/add/operator/catch';\r\nimport {HttpClient, HttpHeaders, HttpParams} from '@angular/common/http';\r\n\r\nimport {APIDataResponse, GlobalsService} from '../../../globals.service';\r\nimport {Subject} from \"rxjs/Subject\";\r\nimport {AgeRatings} from \"../../../models/age-ratings\";\r\n\r\n@Injectable()\r\nexport class ParentalService {\r\n\r\n  ageRatings: Subject<AgeRatings> = new Subject<AgeRatings>();\r\n  setParentalResponse: Subject<any> = new Subject<any>();\r\n  verifyParentalPinResponse: Subject<any> = new Subject<any>();\r\n  updateParentalPinResponse: Subject<any> = new Subject<any>();\r\n  recoverParentalPinResponse: Subject<any> = new Subject<any>();\r\n\r\n  constructor(\r\n    private http: HttpClient, private globals: GlobalsService) {\r\n  }\r\n\r\n  getAgeRatings() {\r\n    const headers = new HttpHeaders()\r\n      .set('Accept-Language', this.globals.settings.default_language);\r\n    const params = new HttpParams()\r\n      .set('device_type', 'web');\r\n\r\n    let endpoint = this.globals.endpoints.ageRatings\r\n      .replace('{country_code}', this.globals.settings.default_age_rating_country_code);\r\n\r\n    this.http.get<AgeRatings>(endpoint, {headers: headers, params: params})\r\n      .toPromise()\r\n      .then(res => {\r\n        this.ageRatings.next(res);\r\n        this.globals.ageRatings = res;\r\n      });\r\n  }\r\n\r\n  /**\r\n   * Set parental control on/off or apply setting\r\n   * Also sets the parental pin if the user hasn't set one yet; otherwise pins must match\r\n   * @param {string} parental_control_id\r\n   * @param {string} parental_pin\r\n   */\r\n  setParentalControl(parental_control_id: string, parental_pin: string) {\r\n    const endpoint = this.globals.endpoints.setParentalControl\r\n      .replace('{profile_token}', this.globals.accountProfileToken);\r\n\r\n    const headers = new HttpHeaders()\r\n      .set('Authorization', 'Bearer '+this.globals.authToken)\r\n      .set('Accept-Language', this.globals.settings.default_language);\r\n\r\n    const params = new HttpParams()\r\n      .set('device_type', 'web');\r\n\r\n    const body = {\r\n      parental_control_id: parental_control_id,\r\n      parentalpin: parental_pin\r\n    };\r\n\r\n    this.http.put<APIDataResponse>(endpoint, body,{headers: headers, params: params})\r\n      .toPromise()\r\n      .then(res => {\r\n        this.setParentalResponse.next(res);\r\n      })\r\n      .catch(error => {\r\n        console.error(error);\r\n        this.setParentalResponse.next(error);\r\n      });\r\n  }\r\n\r\n  /**\r\n   * Verify current parental pin (usually prior to change setting)\r\n   * @param {string} parentalpin\r\n   */\r\n  verifyParentalPin(parentalpin: string) {\r\n    const endpoint = this.globals.endpoints.verifyParentalPin\r\n      .replace('{profile_token}', this.globals.accountProfileToken);\r\n\r\n    const headers = new HttpHeaders()\r\n      .set('Authorization', 'Bearer '+this.globals.authToken)\r\n      .set('Accept-Language', this.globals.settings.default_language);\r\n\r\n    const params = new HttpParams()\r\n      .set('device_type', 'web');\r\n\r\n    const body = {\r\n      parentalpin: parentalpin\r\n    };\r\n\r\n    this.http.post<APIDataResponse>(endpoint, body,{headers: headers, params: params})\r\n      .toPromise()\r\n      .then(res => {\r\n        this.verifyParentalPinResponse.next(res);\r\n      })\r\n      .catch(error => {\r\n        console.error(error);\r\n        this.verifyParentalPinResponse.next(error);\r\n      });\r\n  }\r\n\r\n  changeParentalPin(oldPin: string, newPin: string) {\r\n    const endpoint = this.globals.endpoints.changeParentalPin\r\n      .replace('{profile_token}', this.globals.accountProfileToken);\r\n\r\n    const headers = new HttpHeaders()\r\n      .set('Authorization', 'Bearer '+this.globals.authToken)\r\n      .set('Accept-Language', this.globals.settings.default_language);\r\n\r\n    const params = new HttpParams()\r\n      .set('device_type', 'web');\r\n\r\n    const body = {\r\n      oldparentalpin: oldPin,\r\n      parentalpin: newPin\r\n    };\r\n\r\n    this.http.put<APIDataResponse>(endpoint, body,{headers: headers, params: params})\r\n      .toPromise()\r\n      .then(res => {\r\n        this.updateParentalPinResponse.next(res);\r\n      })\r\n      .catch(error => {\r\n        console.error(error);\r\n        this.updateParentalPinResponse.next(error);\r\n      });\r\n  }\r\n\r\n  recoverParentalPin() {\r\n    const endpoint = this.globals.endpoints.recoverParentalPin\r\n      .replace('{profile_token}', this.globals.accountProfileToken);\r\n\r\n    const headers = new HttpHeaders()\r\n      .set('Authorization', 'Bearer '+this.globals.authToken)\r\n      .set('Accept-Language', this.globals.settings.default_language);\r\n\r\n    const params = new HttpParams()\r\n      .set('device_type', 'web');\r\n\r\n    const body = {};\r\n\r\n    this.http.put<APIDataResponse>(endpoint, body,{headers: headers, params: params})\r\n      .toPromise()\r\n      .then(res => {\r\n        this.recoverParentalPinResponse.next(res);\r\n      })\r\n      .catch(error => {\r\n        console.error(error);\r\n        this.recoverParentalPinResponse.next(error);\r\n      });\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/settings/my-account/parental/parental.service.ts","module.exports = \"<div id=\\\"outerSettingsWrapper\\\">\\r\\n  <h4>{{globals.strings.SCREEN_SETTINGS}}</h4>\\r\\n  <div class=\\\"sett-menu-wrapper\\\">\\r\\n    <div class=\\\"sett-menuOption\\\" *ngFor=\\\"let menuOption of menuOptions\\\">\\r\\n      <table class=\\\"sett-menuOptionsTbl\\\">\\r\\n        <tr>\\r\\n          <a routerLink=\\\"/settings/{{menuOption.route}}\\\">\\r\\n            <td class=\\\"sett-desc\\\"><span class=\\\"upper\\\">{{menuOption.option}}</span><br>{{menuOption.desc}}</td>\\r\\n            <td class=\\\"sett-action\\\">{{menuOption.action}}</td>\\r\\n          </a>\\r\\n        </tr>\\r\\n      </table>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/settings/settings.component.html\n// module id = ./src/app/settings/settings.component.html\n// module chunks = main","import { Component, OnInit } from '@angular/core';\r\nimport { SettingsService } from \"./settings.service\";\r\nimport { LanguagesService} from \"./languages/languages.service\";\r\nimport {LoadingService} from \"../loading/loading.service\";\r\nimport {GlobalsService} from \"../globals.service\";\r\nimport {LoginService} from \"../login/login.service\";\r\n\r\n@Component({\r\n  selector: 'app-settings',\r\n  templateUrl: './settings.component.html',\r\n})\r\nexport class SettingsComponent implements OnInit {\r\n\r\n  private gotSettings: boolean = false;\r\n  private gotLanguages: boolean = false;\r\n  private gotStrings: boolean = false;\r\n  private languages: any[] = [];\r\n\r\n\r\n  menuOptions: any[] = [];\r\n\r\n  /*\r\n    @Notes\r\n    The flow here is to get the settings first, then the languages and lastly the strings\r\n    so we can build the settings menu options according to design and API directions\r\n   */\r\n\r\n\r\n\r\n  constructor(\r\n    public globals: GlobalsService,\r\n    public settingsService: SettingsService,\r\n    private languagesService: LanguagesService,\r\n    private loginService: LoginService,\r\n    private loading: LoadingService\r\n  ) {\r\n\r\n    this.settingsService.gotSettings.subscribe( val => {\r\n      this.loading.set(false);\r\n      this.gotSettings = val;\r\n      console.log(\"Rui Teste. gotSettings:\"+this.gotSettings+\" numlanguages: \"+this.globals.languages.length);\r\n\r\n      if (this.gotSettings===true && this.globals.languages.length < 1) {\r\n        this.languagesService.getLanguages();\r\n      }\r\n      else {\r\n        this.buildMenuOptions();\r\n      }\r\n    });\r\n\r\n    this.languagesService.languages.subscribe(val => {\r\n      if (val.length > 0 ) {\r\n        this.languages = val;\r\n        this.gotLanguages = true;\r\n      }\r\n      else {\r\n        this.languages = [];\r\n        this.gotLanguages = false;\r\n      }\r\n\r\n      // Now get the strings regardless of having 1 or more languages (or even none! :P )\r\n      this.languagesService.getStrings(this.globals.settings.default_language);\r\n    });\r\n\r\n    // Get the language strings after we got the languages\r\n    this.languagesService.gotStrings.subscribe( val => {\r\n      this.gotStrings = val;\r\n      // Ok.. about done\r\n      if (this.gotSettings && this.gotStrings)\r\n        this.buildMenuOptions()\r\n    });\r\n\r\n    // Subscribe to the finishedLogin subject of the Login service so we can change the menu options\r\n    // when we're already here (settings page) and the user logs in\r\n    this.loginService.finishedLogin.subscribe(value => {\r\n      if (value===true)\r\n        this.buildMenuOptions();\r\n    });\r\n\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.settingsService.setBreadCrums(true);\r\n    this.menuOptions = [];\r\n    // Show a loading status while we get the settings\r\n    if (!this.gotSettings) {\r\n      this.loading.set(true);\r\n      this.settingsService.getSettings();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Build the menu options to be shown in the view depending on the logged\r\n   * status of the user\r\n   */\r\n  buildMenuOptions() {\r\n    this.menuOptions = [];\r\n\r\n    if (this.globals.userLoggedIn) {\r\n      this.menuOptions.push({\r\n        option: this.globals.strings.SETTINGS_SCREEN_MY_ACCOUNT, // @Notes: this must be capitalized, per design\r\n        desc: this.globals.strings.SETTINGS_SCREEN_MY_ACCOUNT_LONG,\r\n        action: this.globals.strings.SETTINGS_SCREEN_CHANGE,\r\n        route: 'my-account'});\r\n\r\n      // If we only have 1 language ... don't even bother showing the change language option :P\r\n      if (this.globals.languages.length > 1)\r\n        this.menuOptions.push({\r\n          option: this.globals.strings.SETTINGS_SCREEN_CHANGE_LANGUAGE,\r\n          desc: this.globals.strings.SETTINGS_SCREEN_CHANGE_LANGUAGE_LONG,\r\n          action: this.globals.strings.SETTINGS_SCREEN_CHANGE,\r\n          route: 'languages'});\r\n\r\n      // @Notes 2018-03-06 - some members of the settings response don't exist yet\r\n      //                     so unneeded check code here ... @:(\r\n      if (this.globals.settings.hasOwnProperty('terms_conditions_slug')) {\r\n        if (this.globals.settings.terms_conditions_slug !== '')\r\n          this.menuOptions.push({\r\n            option: this.globals.strings.SETTINGS_TERMS_AND_CONDITIONS,\r\n            desc: this.globals.strings.SETTINGS_TERMS_AND_CONDITIONS_LONG,\r\n            action: this.globals.strings.SETTINGS_SCREEN_READ,\r\n            route: 'terms-conditions'});\r\n      }\r\n      if (this.globals.settings.hasOwnProperty('faq_slug')) {\r\n        if (this.globals.settings.faq_slug !== '')\r\n          this.menuOptions.push({\r\n            option: this.globals.strings.SETTINGS_SCREEN_FAQ,\r\n            desc: this.globals.strings.SETTINGS_SCREEN_FAQ_LONG,\r\n            action: this.globals.strings.SETTINGS_SCREEN_READ,\r\n            route: 'faq'});\r\n      }\r\n      if (this.globals.settings.hasOwnProperty('help_slug')) {\r\n        if (this.globals.settings.help_slug !== '')\r\n          this.menuOptions.push({\r\n            option: this.globals.strings.SETTINGS_SCREEN_HELP,\r\n            desc: this.globals.strings.SETTINGS_SCREEN_HELP_LONG,\r\n            action: this.globals.strings.SETTINGS_SCREEN_READ,\r\n            route: 'help'});\r\n      }\r\n\r\n      this.menuOptions.push({\r\n        option: this.globals.strings.SETTINGS_SCREEN_ABOUT,\r\n        desc: this.globals.strings.SETTINGS_SCREEN_ABOUT_LONG,\r\n        action: this.globals.strings.SETTINGS_SCREEN_READ,\r\n        route: 'about'});\r\n    }\r\n    else {\r\n      // Menu options when the user is not logged in\r\n      if (this.globals.languages.length > 1)\r\n        this.menuOptions.push({\r\n          option: this.globals.strings.SETTINGS_SCREEN_CHANGE_LANGUAGE,\r\n          desc: this.globals.strings.SETTINGS_SCREEN_CHANGE_LANGUAGE_LONG,\r\n          action: this.globals.strings.SETTINGS_SCREEN_CHANGE,\r\n          route: 'languages'});\r\n\r\n      if (this.globals.settings.hasOwnProperty('terms_conditions_slug')) {\r\n        if (this.globals.settings.terms_conditions_slug !== '')\r\n          this.menuOptions.push({\r\n            option: this.globals.strings.SETTINGS_TERMS_AND_CONDITIONS,\r\n            desc: this.globals.strings.SETTINGS_TERMS_AND_CONDITIONS_LONG,\r\n            action: this.globals.strings.SETTINGS_SCREEN_READ,\r\n            route: 'terms-conditions'});\r\n      }\r\n      if (this.globals.settings.hasOwnProperty('faq_slug')) {\r\n        if (this.globals.settings.faq_slug !== '')\r\n          this.menuOptions.push({\r\n            option: this.globals.strings.SETTINGS_SCREEN_FAQ,\r\n            desc: this.globals.strings.SETTINGS_SCREEN_FAQ_LONG,\r\n            action: this.globals.strings.SETTINGS_SCREEN_READ,\r\n            route: 'faq'});\r\n      }\r\n      if (this.globals.settings.hasOwnProperty('help_slug')) {\r\n        if (this.globals.settings.help_slug !== '')\r\n          this.menuOptions.push({\r\n            option: this.globals.strings.SETTINGS_SCREEN_HELP,\r\n            desc: this.globals.strings.SETTINGS_SCREEN_HELP_LONG,\r\n            action: this.globals.strings.SETTINGS_SCREEN_READ,\r\n            route: 'help'});\r\n      }\r\n\r\n      this.menuOptions.push({\r\n        option: this.globals.strings.SETTINGS_SCREEN_ABOUT,\r\n        desc: this.globals.strings.SETTINGS_SCREEN_ABOUT_LONG,\r\n        action: this.globals.strings.SETTINGS_SCREEN_READ,\r\n        route: 'about'});\r\n    }\r\n\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/settings/settings.component.ts","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { SettingsService } from \"./settings.service\";\r\nimport { SettingsComponent } from './settings.component';\r\nimport { LanguagesComponent } from './languages/languages.component';\r\nimport { LanguagesService} from \"./languages/languages.service\";\r\nimport {RouterModule} from '@angular/router';\r\nimport { MyAccountComponent } from './my-account/my-account.component';\r\nimport { EditProfileComponent } from './my-account/edit-profile/edit-profile.component';\r\nimport {FormsModule} from \"@angular/forms\";\r\nimport { PairingComponent } from \"./my-account/pairing/pairing.component\";\r\nimport { PairingService } from './my-account/pairing/pairing.service';\r\nimport {EditProfileService} from \"./my-account/edit-profile/edit-profile.service\";\r\nimport { MyAccountService} from \"./my-account/my-account.service\";\r\nimport { ChangePasswordComponent } from './my-account/change-password/change-password.component';\r\nimport { ChangePasswordPopupService} from \"./my-account/change-password/change-password-popup-service\";\r\nimport { ChangePasswordService} from \"./my-account/change-password/change-password.service\";\r\nimport { ParentalService} from \"./my-account/parental/parental.service\";\r\nimport { FaqComponent} from \"./faq/faq.component\";\r\nimport { TermsConditionsComponent} from \"./terms-conditions/terms-conditions.component\";\r\nimport { HelpComponent} from \"./help/help.component\";\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule,\r\n    FormsModule\r\n  ],\r\n  exports: [\r\n    SettingsComponent\r\n  ],\r\n  declarations: [SettingsComponent,\r\n    LanguagesComponent,\r\n    MyAccountComponent,\r\n    EditProfileComponent,\r\n    PairingComponent,\r\n    ChangePasswordComponent,\r\n    FaqComponent,\r\n    TermsConditionsComponent,\r\n    HelpComponent],\r\n  providers: [\r\n    SettingsService,\r\n    LanguagesService,\r\n    PairingService,\r\n    EditProfileService,\r\n    MyAccountService,\r\n    ChangePasswordPopupService,\r\n    ChangePasswordService,\r\n    ParentalService\r\n  ]\r\n})\r\nexport class SettingsModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/settings/settings.module.ts","import { Injectable } from '@angular/core';\r\nimport { Subject } from \"rxjs/Subject\";\r\nimport { HttpClient, HttpHeaders, HttpParams } from \"@angular/common/http\";\r\nimport {APIDataResponse, GlobalsService} from \"../globals.service\";\r\n\r\n@Injectable()\r\nexport class SettingsService {\r\n\r\n  // to know wether certain components (like TERMS & CONDITIONS) need breadcrums I'll introduce a hasBreadCrums variable\r\n  // found it unnecessary to create a service just for this purpose\r\n  hasBreadCrums = true;\r\n\r\n\r\n  public gotSettings: Subject<boolean> = new Subject<boolean>();\r\n\r\n\r\n  constructor(\r\n    private globals: GlobalsService,\r\n    private http: HttpClient\r\n  ) { }\r\n\r\n  /**\r\n   * Get the settings from the API and store them under globals\r\n   */\r\n  getSettings() {\r\n    // since the settings read from the API will overwrite the user-selected language we save it here to rewrite it back\r\n    let user_lang = this.globals.settings.default_language;\r\n    const headers = new HttpHeaders()\r\n      .set('Accept-Language', this.globals.settings.default_language);\r\n\r\n    const params = new HttpParams()\r\n      .set('device_type', 'web')\r\n      .set('device_layout', 'web')\r\n      .set('build_version', '1');\r\n    this.http.get<APIDataResponse>(this.globals.endpoints.settings, {headers: headers, params: params})\r\n      .toPromise()\r\n      .then(res => {\r\n        this.globals.settings = res.data;\r\n        this.globals.settings.default_language=user_lang;\r\n        this.gotSettings.next(true);\r\n      })\r\n      .catch(error => {\r\n        console.error(error);\r\n        this.gotSettings.next(false)\r\n      });\r\n  }\r\n\r\n  setBreadCrums(setIt:boolean){\r\n    this.hasBreadCrums = setIt;\r\n  }\r\n  getBreadCrums() {\r\n    return this.hasBreadCrums;\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/settings/settings.service.ts","module.exports = \"<div id=\\\"outerTermsHelpFAQWrapper\\\">\\r\\n  <h4 *ngIf=\\\"hasBreadCrums\\\"><div class=\\\"breadCrumb\\\" (click)=\\\"crumbClick(globals.pageTitleSlug)\\\">{{globals.strings.SCREEN_SETTINGS}}</div> <i class=\\\"fa fa-arrow-right\\\" aria-hidden=\\\"true\\\"></i> {{globals.strings.SETTINGS_TERMS_AND_CONDITIONS}}</h4>\\r\\n  <div class=\\\"TermsConditionsWrapper\\\">\\r\\n    <h3 style=\\\"text-align: center\\\">{{globals.strings.SETTINGS_TERMS_AND_CONDITIONS}}</h3>\\r\\n    <div class=\\\"InfoPadder\\\">\\r\\n      <div class=\\\"InfoWrapper\\\">{{this.globals.settings.terms_conditions_slug}}\\r\\n      </div>\\r\\n    </div>\\r\\n  </div></div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/settings/terms-conditions/terms-conditions.component.html\n// module id = ./src/app/settings/terms-conditions/terms-conditions.component.html\n// module chunks = main","import { Component, OnInit } from '@angular/core';\r\nimport { GlobalsService} from \"../../globals.service\";\r\nimport 'simplebar/dist/simplebar.js';\r\nimport { SettingsService} from \"../settings.service\";\r\nimport {Router} from \"@angular/router\";\r\n\r\n@Component({\r\n  selector: 'app-terms-conditions',\r\n  templateUrl: './terms-conditions.component.html',\r\n})\r\nexport class TermsConditionsComponent implements OnInit {\r\n  hasBreadCrums = false;\r\n\r\n  constructor( public globals: GlobalsService,\r\n               public settingsService: SettingsService,\r\n               private router: Router ) {  }\r\n\r\n  ngOnInit() {\r\n    this.hasBreadCrums = this.settingsService.getBreadCrums();\r\n  }\r\n\r\n  crumbClick(waytoGo: string) {\r\n      this.router.navigate([waytoGo]);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/settings/terms-conditions/terms-conditions.component.ts","module.exports = \"<h3>{{globals.strings.SUBSCRIPTION_SELECT}}</h3>\\r\\n\\r\\n<!-- Show all available subscriptions -->\\r\\n<div id=\\\"subscriptionsContentWrapper\\\">\\r\\n  <table class=\\\"subscriptionsTbl\\\">\\r\\n    <tr>\\r\\n      <th>{{globals?.strings.SUBSCRIPTION_PLAN_NAME || 'Description'}}</th>\\r\\n      <th>{{globals?.strings.SUBSCRIPTION_PLAN_PERIOD || 'Period'}}</th>\\r\\n      <th colspan=\\\"2\\\">{{globals?.strings.SUBSCRIPTION_PLAN_PRICE || 'Price'}}</th>\\r\\n    </tr>\\r\\n    <tr *ngFor=\\\"let subscription of globals?.subscriptions.data\\\">\\r\\n      <!-- Plan name -->\\r\\n      <td width=\\\"80%\\\">{{subscription.plan_name}}</td>\\r\\n      <!-- Plan Interval -->\\r\\n      <td>{{subscription.plan_interval}}</td>\\r\\n      <!-- Price + currency -->\\r\\n      <td align=\\\"right\\\">{{subscription.currency}}{{subscription.price}}</td>\\r\\n      <td><button class=\\\"subscriptionChooseBtn\\\" (click)=\\\"onChoose(subscription.plan_id)\\\">{{globals?.strings.SUBSCRIPTION_CHOOSE_PLAN}}</button></td>\\r\\n    </tr>\\r\\n  </table>\\r\\n</div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/subscriptions/subscriptions.component.html\n// module id = ./src/app/subscriptions/subscriptions.component.html\n// module chunks = main","import { Component, OnInit } from '@angular/core';\r\nimport {GlobalsService} from '../globals.service';\r\nimport {Router} from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-subscriptions',\r\n  templateUrl: './subscriptions.component.html'\r\n})\r\nexport class SubscriptionsComponent implements OnInit {\r\n\r\n  constructor(\r\n    public globals: GlobalsService,\r\n    private router: Router\r\n  ) { }\r\n\r\n  ngOnInit() { }\r\n\r\n  /**\r\n   * Handle choose button click\r\n   * @param {string} planId\r\n   */\r\n  onChoose(planId: string) {\r\n    // Use skipLocationChange to hide the parameters from the URL ... :P\r\n    //this.router.navigate(['/payments', 'subscription', planId], { skipLocationChange: true });\r\n    this.router.navigate(['/payments', 'subscription', planId]);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/subscriptions/subscriptions.component.ts","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { SubscriptionsComponent } from './subscriptions.component';\r\n\r\n@NgModule({\r\n  exports: [\r\n    SubscriptionsComponent\r\n  ],\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  declarations: [SubscriptionsComponent]\r\n})\r\nexport class SubscriptionsModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/subscriptions/subscriptions.module.ts","import { Injectable } from '@angular/core';\r\nimport {HttpClient, HttpHeaders, HttpParams} from \"@angular/common/http\";\r\nimport {Subject} from \"rxjs/Subject\";\r\nimport { GlobalsService} from \"../globals.service\";\r\nimport {Subscriptions} from \"../models/subscriptions\";\r\nimport {ProfileSubscriptions} from \"../models/profile-subscriptions\";\r\n\r\n\r\n@Injectable()\r\nexport class SubscriptionsService {\r\n\r\n  public allSubscriptions: Subject<Subscriptions> = new Subject<Subscriptions>();\r\n  public profileSubscriptions: Subject<ProfileSubscriptions> = new Subject<ProfileSubscriptions>();\r\n  public subscriptionCancelled: Subject<boolean> = new Subject<boolean>();\r\n\r\n  constructor(\r\n    private http: HttpClient,\r\n    private globals: GlobalsService\r\n  ) { }\r\n\r\n\r\n  /**\r\n   * Get all available subscriptions\r\n   */\r\n  getAllSubscriptions() {\r\n    let headers = new HttpHeaders()\r\n      .set('Accept-Language', this.globals.settings.default_language);\r\n\r\n    let params = {\r\n      device_type: 'web'\r\n    }\r\n\r\n    this.http.get<Subscriptions>(this.globals.endpoints.subscriptions, {headers: headers, params: params})\r\n      .toPromise()\r\n      .then(res => {\r\n        this.globals.subscriptions = res;\r\n        // Emit this to whatever has subscribed\r\n        this.allSubscriptions.next(res);\r\n\r\n      })\r\n      .catch(result => {\r\n        console.error(result);\r\n        // Empty the list\r\n        let empty = <any>[];\r\n        this.globals.subscriptions = empty;\r\n        this.allSubscriptions.next(empty);\r\n      });\r\n  }\r\n\r\n  /**\r\n   * Get all subscriptions for a given profile\r\n   */\r\n  getProfileSubscriptions() {\r\n    let headers = new HttpHeaders()\r\n      .set('Accept-Language', this.globals.settings.default_language)\r\n      .set('Authorization', 'Bearer ' + this.globals.authToken);      // Not sure if the latter is needed ...\r\n\r\n    let params = {\r\n      device_type: 'web'\r\n    };\r\n\r\n    let endpoint = this.globals.endpoints.profileSubscriptions\r\n      .replace('{profile_token}', this.globals.accountProfileToken);\r\n\r\n    // WARNING! This response ISN'T encapsulated in data!\r\n    this.http.get(endpoint, {headers: headers, params: params})\r\n      .toPromise()\r\n      .then(res => {\r\n        this.globals.profileSubscriptions = <any>res;\r\n        this.profileSubscriptions.next(<any>res);\r\n      })\r\n      .catch(result => {\r\n        console.error(result);\r\n        // Empty the list\r\n        let emptyArr : ProfileSubscriptions = <any>[];\r\n        this.profileSubscriptions.next(emptyArr);\r\n      });\r\n  }\r\n\r\n  /***\r\n   * Cancel a subscription for the current profile\r\n   * @param {string} planId\r\n   */\r\n  cancelSubscription(planId: string) {\r\n    let headers = new HttpHeaders()\r\n      .set('Accept-Language', this.globals.settings.default_language)\r\n      .set('Authorization', 'Bearer ' + this.globals.authToken);\r\n\r\n    let params = {\r\n      device_type: 'web'\r\n    };\r\n\r\n    let endpoint = this.globals.endpoints.cancelSubscription\r\n      .replace('{profile_token}', this.globals.accountProfileToken);\r\n\r\n    let body = {\r\n      plan_id: planId\r\n    };\r\n\r\n    this.http.post(endpoint, body, {headers: headers, params: params})\r\n      .toPromise()\r\n      .then(res => {\r\n          this.subscriptionCancelled.next(true);\r\n        }\r\n      )\r\n      .catch(error => {\r\n        this.subscriptionCancelled.next(false);\r\n      });\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/subscriptions/subscriptions.service.ts","module.exports = \"  <div class=\\\"avatarImg\\\"></div>\\r\\n  <button id=\\\"login\\\">{{globals.strings.LOGIN_SCREEN_LOGIN}}</button>\\r\\n  <button id=\\\"register\\\">{{globals.strings.SETTINGS_SCREEN_REGISTER}}</button>\\r\\n  <form>\\r\\n    <div class=\\\"searchTools\\\">\\r\\n      <input type=\\\"text\\\" id=\\\"searchMovies\\\"><button id=\\\"searchMoviesBtn\\\"></button>\\r\\n    </div>\\r\\n  </form>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/user/user.component.html\n// module id = ./src/app/user/user.component.html\n// module chunks = main","import { Component, OnInit } from '@angular/core';\r\nimport {UserService} from \"./user.service\";\r\nimport {User} from \"../models/user\";\r\nimport {Profiles} from \"../models/profiles\";\r\nimport {GlobalsService} from '../globals.service';\r\n\r\n@Component({\r\n  selector: 'app-user',\r\n  templateUrl: './user.component.html',\r\n})\r\nexport class UserComponent implements OnInit {\r\n\r\n  user: User;                                 // All user data\r\n  profiles: Profiles;                         // All the user's profiles\r\n  loggedIn: boolean = false;                  // Quick check flag for user logged in status\r\n\r\n  constructor(\r\n    public globals: GlobalsService,\r\n    private userService: UserService\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.user = new User();\r\n    // Try to get an account token from a previous login session\r\n    this.user.accountToken = this.getAccountTokenFromLocalStorage();\r\n    if (this.user.accountToken !== null) {\r\n      this.userService.login(this.user.accountToken);\r\n    }\r\n\r\n    // Try to get the user's last used profile\r\n    if (this.loggedIn) {\r\n      this.user.currProfileToken = this.getProfileTokenFromLocalStorage();\r\n\r\n      if (this.user.currProfileToken!==null)\r\n        this.userService.getProfile(this.user.currProfileToken);\r\n    }\r\n\r\n\r\n  }\r\n\r\n  /**\r\n   * Get the user account token from the local storage\r\n   * @returns {string | null}\r\n   */\r\n  getAccountTokenFromLocalStorage() {\r\n    return localStorage.getItem('accountToken');\r\n  }\r\n\r\n  /**\r\n   * Get the profile token from the local storage\r\n   * @returns {string | null}\r\n   */\r\n  getProfileTokenFromLocalStorage() {\r\n    return localStorage.getItem('profileToken')\r\n  }\r\n\r\n\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/user/user.component.ts","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport {UserComponent} from './user.component'\r\nimport {UserService} from \"./user.service\";\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  declarations: [\r\n    UserComponent\r\n  ],\r\n  exports: [\r\n    UserComponent\r\n  ],\r\n  providers: [\r\n    UserService\r\n  ]\r\n})\r\nexport class UserModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/user/user.module.ts","import { Injectable } from '@angular/core';\r\nimport {HttpClient} from \"@angular/common/http\";\r\nimport {GlobalsService} from '../globals.service';\r\n\r\n@Injectable()\r\nexport class UserService {\r\n\r\n  constructor(\r\n    private http: HttpClient,\r\n    private globals: GlobalsService\r\n  ) { }\r\n\r\n  /**\r\n   * Register a new user\r\n   */\r\n  register() {\r\n\r\n  }\r\n\r\n  /**\r\n   * Login a user with an existing account token\r\n   * @param {string} token\r\n   */\r\n  login (token:string) {\r\n\r\n  }\r\n\r\n\r\n  /**\r\n   * Get all the user's profiles\r\n   * @param {string} account token\r\n   */\r\n  getProfiles(token:string) {\r\n\r\n  }\r\n\r\n  /**\r\n   * Get profile data\r\n   * @param {string} profile token\r\n   */\r\n  getProfile(token:string) {\r\n\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/user/user.service.ts","/*\r\n Contains global helper functions\r\n */\r\n\r\nimport { Injectable } from '@angular/core';\r\n\r\n@Injectable()\r\n\r\nexport class UtilsService {\r\n\r\n  /**\r\n   * Resizes an image according to a set width and it's height ratio\r\n   * @param url\r\n   * @param width\r\n   * @param ratio\r\n   * @returns {string}\r\n   */\r\n  resizeImage(url: string, width: number, ratio: number, resizeType: string) {\r\n      let string = url.split('.');\r\n      string[string.length-2] += '-h'+Math.round(width/ratio)+'_w'+width + '_' + resizeType;\r\n      return string.join('.');\r\n  }\r\n\r\n  /**\r\n   * Remove diacritics (accents) from a string\r\n   *\r\n   * @param {string} str The input string from which we will remove strings with diacritics\r\n   * @return {string}\r\n   */\r\n  removeDiacritics (str:string) {\r\n    var diacriticsMap = {\r\n      A: /[\\u0041\\u24B6\\uFF21\\u00C0\\u00C1\\u00C2\\u1EA6\\u1EA4\\u1EAA\\u1EA8\\u00C3\\u0100\\u0102\\u1EB0\\u1EAE\\u1EB4\\u1EB2\\u0226\\u01E0\\u00C4\\u01DE\\u1EA2\\u00C5\\u01FA\\u01CD\\u0200\\u0202\\u1EA0\\u1EAC\\u1EB6\\u1E00\\u0104\\u023A\\u2C6F]/g,\r\n      AA: /[\\uA732]/g,\r\n      AE: /[\\u00C6\\u01FC\\u01E2]/g,\r\n      AO: /[\\uA734]/g,\r\n      AU: /[\\uA736]/g,\r\n      AV: /[\\uA738\\uA73A]/g,\r\n      AY: /[\\uA73C]/g,\r\n      B: /[\\u0042\\u24B7\\uFF22\\u1E02\\u1E04\\u1E06\\u0243\\u0182\\u0181]/g,\r\n      C: /[\\u0043\\u24B8\\uFF23\\u0106\\u0108\\u010A\\u010C\\u00C7\\u1E08\\u0187\\u023B\\uA73E]/g,\r\n      D: /[\\u0044\\u24B9\\uFF24\\u1E0A\\u010E\\u1E0C\\u1E10\\u1E12\\u1E0E\\u0110\\u018B\\u018A\\u0189\\uA779]/g,\r\n      DZ: /[\\u01F1\\u01C4]/g,\r\n      Dz: /[\\u01F2\\u01C5]/g,\r\n      E: /[\\u0045\\u24BA\\uFF25\\u00C8\\u00C9\\u00CA\\u1EC0\\u1EBE\\u1EC4\\u1EC2\\u1EBC\\u0112\\u1E14\\u1E16\\u0114\\u0116\\u00CB\\u1EBA\\u011A\\u0204\\u0206\\u1EB8\\u1EC6\\u0228\\u1E1C\\u0118\\u1E18\\u1E1A\\u0190\\u018E]/g,\r\n      F: /[\\u0046\\u24BB\\uFF26\\u1E1E\\u0191\\uA77B]/g,\r\n      G: /[\\u0047\\u24BC\\uFF27\\u01F4\\u011C\\u1E20\\u011E\\u0120\\u01E6\\u0122\\u01E4\\u0193\\uA7A0\\uA77D\\uA77E]/g,\r\n      H: /[\\u0048\\u24BD\\uFF28\\u0124\\u1E22\\u1E26\\u021E\\u1E24\\u1E28\\u1E2A\\u0126\\u2C67\\u2C75\\uA78D]/g,\r\n      I: /[\\u0049\\u24BE\\uFF29\\u00CC\\u00CD\\u00CE\\u0128\\u012A\\u012C\\u0130\\u00CF\\u1E2E\\u1EC8\\u01CF\\u0208\\u020A\\u1ECA\\u012E\\u1E2C\\u0197]/g,\r\n      J: /[\\u004A\\u24BF\\uFF2A\\u0134\\u0248]/g,\r\n      K: /[\\u004B\\u24C0\\uFF2B\\u1E30\\u01E8\\u1E32\\u0136\\u1E34\\u0198\\u2C69\\uA740\\uA742\\uA744\\uA7A2]/g,\r\n      L: /[\\u004C\\u24C1\\uFF2C\\u013F\\u0139\\u013D\\u1E36\\u1E38\\u013B\\u1E3C\\u1E3A\\u0141\\u023D\\u2C62\\u2C60\\uA748\\uA746\\uA780]/g,\r\n      LJ: /[\\u01C7]/g,\r\n      Lj: /[\\u01C8]/g,\r\n      M: /[\\u004D\\u24C2\\uFF2D\\u1E3E\\u1E40\\u1E42\\u2C6E\\u019C]/g,\r\n      N: /[\\u004E\\u24C3\\uFF2E\\u01F8\\u0143\\u00D1\\u1E44\\u0147\\u1E46\\u0145\\u1E4A\\u1E48\\u0220\\u019D\\uA790\\uA7A4]/g,\r\n      NJ: /[\\u01CA]/g,\r\n      Nj: /[\\u01CB]/g,\r\n      O: /[\\u004F\\u24C4\\uFF2F\\u00D2\\u00D3\\u00D4\\u1ED2\\u1ED0\\u1ED6\\u1ED4\\u00D5\\u1E4C\\u022C\\u1E4E\\u014C\\u1E50\\u1E52\\u014E\\u022E\\u0230\\u00D6\\u022A\\u1ECE\\u0150\\u01D1\\u020C\\u020E\\u01A0\\u1EDC\\u1EDA\\u1EE0\\u1EDE\\u1EE2\\u1ECC\\u1ED8\\u01EA\\u01EC\\u00D8\\u01FE\\u0186\\u019F\\uA74A\\uA74C]/g,\r\n      OI: /[\\u01A2]/g,\r\n      OO: /[\\uA74E]/g,\r\n      OU: /[\\u0222]/g,\r\n      P: /[\\u0050\\u24C5\\uFF30\\u1E54\\u1E56\\u01A4\\u2C63\\uA750\\uA752\\uA754]/g,\r\n      Q: /[\\u0051\\u24C6\\uFF31\\uA756\\uA758\\u024A]/g,\r\n      R: /[\\u0052\\u24C7\\uFF32\\u0154\\u1E58\\u0158\\u0210\\u0212\\u1E5A\\u1E5C\\u0156\\u1E5E\\u024C\\u2C64\\uA75A\\uA7A6\\uA782]/g,\r\n      S: /[\\u0053\\u24C8\\uFF33\\u1E9E\\u015A\\u1E64\\u015C\\u1E60\\u0160\\u1E66\\u1E62\\u1E68\\u0218\\u015E\\u2C7E\\uA7A8\\uA784]/g,\r\n      T: /[\\u0054\\u24C9\\uFF34\\u1E6A\\u0164\\u1E6C\\u021A\\u0162\\u1E70\\u1E6E\\u0166\\u01AC\\u01AE\\u023E\\uA786]/g,\r\n      TZ: /[\\uA728]/g,\r\n      U: /[\\u0055\\u24CA\\uFF35\\u00D9\\u00DA\\u00DB\\u0168\\u1E78\\u016A\\u1E7A\\u016C\\u00DC\\u01DB\\u01D7\\u01D5\\u01D9\\u1EE6\\u016E\\u0170\\u01D3\\u0214\\u0216\\u01AF\\u1EEA\\u1EE8\\u1EEE\\u1EEC\\u1EF0\\u1EE4\\u1E72\\u0172\\u1E76\\u1E74\\u0244]/g,\r\n      V: /[\\u0056\\u24CB\\uFF36\\u1E7C\\u1E7E\\u01B2\\uA75E\\u0245]/g,\r\n      VY: /[\\uA760]/g,\r\n      W: /[\\u0057\\u24CC\\uFF37\\u1E80\\u1E82\\u0174\\u1E86\\u1E84\\u1E88\\u2C72]/g,\r\n      X: /[\\u0058\\u24CD\\uFF38\\u1E8A\\u1E8C]/g,\r\n      Y: /[\\u0059\\u24CE\\uFF39\\u1EF2\\u00DD\\u0176\\u1EF8\\u0232\\u1E8E\\u0178\\u1EF6\\u1EF4\\u01B3\\u024E\\u1EFE]/g,\r\n      Z: /[\\u005A\\u24CF\\uFF3A\\u0179\\u1E90\\u017B\\u017D\\u1E92\\u1E94\\u01B5\\u0224\\u2C7F\\u2C6B\\uA762]/g,\r\n      a: /[\\u0061\\u24D0\\uFF41\\u1E9A\\u00E0\\u00E1\\u00E2\\u1EA7\\u1EA5\\u1EAB\\u1EA9\\u00E3\\u0101\\u0103\\u1EB1\\u1EAF\\u1EB5\\u1EB3\\u0227\\u01E1\\u00E4\\u01DF\\u1EA3\\u00E5\\u01FB\\u01CE\\u0201\\u0203\\u1EA1\\u1EAD\\u1EB7\\u1E01\\u0105\\u2C65\\u0250]/g,\r\n      aa: /[\\uA733]/g,\r\n      ae: /[\\u00E6\\u01FD\\u01E3]/g,\r\n      ao: /[\\uA735]/g,\r\n      au: /[\\uA737]/g,\r\n      av: /[\\uA739\\uA73B]/g,\r\n      ay: /[\\uA73D]/g,\r\n      b: /[\\u0062\\u24D1\\uFF42\\u1E03\\u1E05\\u1E07\\u0180\\u0183\\u0253]/g,\r\n      c: /[\\u0063\\u24D2\\uFF43\\u0107\\u0109\\u010B\\u010D\\u00E7\\u1E09\\u0188\\u023C\\uA73F\\u2184]/g,\r\n      d: /[\\u0064\\u24D3\\uFF44\\u1E0B\\u010F\\u1E0D\\u1E11\\u1E13\\u1E0F\\u0111\\u018C\\u0256\\u0257\\uA77A]/g,\r\n      dz: /[\\u01F3\\u01C6]/g,\r\n      e: /[\\u0065\\u24D4\\uFF45\\u00E8\\u00E9\\u00EA\\u1EC1\\u1EBF\\u1EC5\\u1EC3\\u1EBD\\u0113\\u1E15\\u1E17\\u0115\\u0117\\u00EB\\u1EBB\\u011B\\u0205\\u0207\\u1EB9\\u1EC7\\u0229\\u1E1D\\u0119\\u1E19\\u1E1B\\u0247\\u025B\\u01DD]/g,\r\n      f: /[\\u0066\\u24D5\\uFF46\\u1E1F\\u0192\\uA77C]/g,\r\n      g: /[\\u0067\\u24D6\\uFF47\\u01F5\\u011D\\u1E21\\u011F\\u0121\\u01E7\\u0123\\u01E5\\u0260\\uA7A1\\u1D79\\uA77F]/g,\r\n      h: /[\\u0068\\u24D7\\uFF48\\u0125\\u1E23\\u1E27\\u021F\\u1E25\\u1E29\\u1E2B\\u1E96\\u0127\\u2C68\\u2C76\\u0265]/g,\r\n      hv: /[\\u0195]/g,\r\n      i: /[\\u0069\\u24D8\\uFF49\\u00EC\\u00ED\\u00EE\\u0129\\u012B\\u012D\\u00EF\\u1E2F\\u1EC9\\u01D0\\u0209\\u020B\\u1ECB\\u012F\\u1E2D\\u0268\\u0131]/g,\r\n      j: /[\\u006A\\u24D9\\uFF4A\\u0135\\u01F0\\u0249]/g,\r\n      k: /[\\u006B\\u24DA\\uFF4B\\u1E31\\u01E9\\u1E33\\u0137\\u1E35\\u0199\\u2C6A\\uA741\\uA743\\uA745\\uA7A3]/g,\r\n      l: /[\\u006C\\u24DB\\uFF4C\\u0140\\u013A\\u013E\\u1E37\\u1E39\\u013C\\u1E3D\\u1E3B\\u017F\\u0142\\u019A\\u026B\\u2C61\\uA749\\uA781\\uA747]/g,\r\n      lj: /[\\u01C9]/g,\r\n      m: /[\\u006D\\u24DC\\uFF4D\\u1E3F\\u1E41\\u1E43\\u0271\\u026F]/g,\r\n      n: /[\\u006E\\u24DD\\uFF4E\\u01F9\\u0144\\u00F1\\u1E45\\u0148\\u1E47\\u0146\\u1E4B\\u1E49\\u019E\\u0272\\u0149\\uA791\\uA7A5]/g,\r\n      nj: /[\\u01CC]/g,\r\n      o: /[\\u006F\\u24DE\\uFF4F\\u00F2\\u00F3\\u00F4\\u1ED3\\u1ED1\\u1ED7\\u1ED5\\u00F5\\u1E4D\\u022D\\u1E4F\\u014D\\u1E51\\u1E53\\u014F\\u022F\\u0231\\u00F6\\u022B\\u1ECF\\u0151\\u01D2\\u020D\\u020F\\u01A1\\u1EDD\\u1EDB\\u1EE1\\u1EDF\\u1EE3\\u1ECD\\u1ED9\\u01EB\\u01ED\\u00F8\\u01FF\\u0254\\uA74B\\uA74D\\u0275]/g,\r\n      oi: /[\\u01A3]/g,\r\n      ou: /[\\u0223]/g,\r\n      oo: /[\\uA74F]/g,\r\n      p: /[\\u0070\\u24DF\\uFF50\\u1E55\\u1E57\\u01A5\\u1D7D\\uA751\\uA753\\uA755]/g,\r\n      q: /[\\u0071\\u24E0\\uFF51\\u024B\\uA757\\uA759]/g,\r\n      r: /[\\u0072\\u24E1\\uFF52\\u0155\\u1E59\\u0159\\u0211\\u0213\\u1E5B\\u1E5D\\u0157\\u1E5F\\u024D\\u027D\\uA75B\\uA7A7\\uA783]/g,\r\n      s: /[\\u0073\\u24E2\\uFF53\\u015B\\u1E65\\u015D\\u1E61\\u0161\\u1E67\\u1E63\\u1E69\\u0219\\u015F\\u023F\\uA7A9\\uA785\\u1E9B]/g,\r\n      ss: /[\\u00DF]/g,\r\n      t: /[\\u0074\\u24E3\\uFF54\\u1E6B\\u1E97\\u0165\\u1E6D\\u021B\\u0163\\u1E71\\u1E6F\\u0167\\u01AD\\u0288\\u2C66\\uA787]/g,\r\n      tz: /[\\uA729]/g,\r\n      u: /[\\u0075\\u24E4\\uFF55\\u00F9\\u00FA\\u00FB\\u0169\\u1E79\\u016B\\u1E7B\\u016D\\u00FC\\u01DC\\u01D8\\u01D6\\u01DA\\u1EE7\\u016F\\u0171\\u01D4\\u0215\\u0217\\u01B0\\u1EEB\\u1EE9\\u1EEF\\u1EED\\u1EF1\\u1EE5\\u1E73\\u0173\\u1E77\\u1E75\\u0289]/g,\r\n      v: /[\\u0076\\u24E5\\uFF56\\u1E7D\\u1E7F\\u028B\\uA75F\\u028C]/g,\r\n      vy: /[\\uA761]/g,\r\n      w: /[\\u0077\\u24E6\\uFF57\\u1E81\\u1E83\\u0175\\u1E87\\u1E85\\u1E98\\u1E89\\u2C73]/g,\r\n      x: /[\\u0078\\u24E7\\uFF58\\u1E8B\\u1E8D]/g,\r\n      y: /[\\u0079\\u24E8\\uFF59\\u1EF3\\u00FD\\u0177\\u1EF9\\u0233\\u1E8F\\u00FF\\u1EF7\\u1E99\\u1EF5\\u01B4\\u024F\\u1EFF]/g,\r\n      z: /[\\u007A\\u24E9\\uFF5A\\u017A\\u1E91\\u017C\\u017E\\u1E93\\u1E95\\u01B6\\u0225\\u0240\\u2C6C\\uA763]/g\r\n    };\r\n    for (var x in diacriticsMap) {\r\n      // Iterate through each keys in the above object and perform a replace\r\n      str = str.replace(diacriticsMap[x], x);\r\n    }\r\n    return str;\r\n  }\r\n\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/utils.service.ts","module.exports = \"<div class=\\\"category-title\\\">\\r\\n  <button class=\\\"view-all-button-back\\\" (click)=\\\"goBack()\\\">Back</button>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"genre-selection\\\">\\r\\n  <ul>\\r\\n    <li (click)=\\\"changeGenre()\\\" [class.selected]=\\\"currentGenre == undefined\\\">\\r\\n      All\\r\\n    </li>\\r\\n    <li *ngFor=\\\"let el of genres\\\" (click)=\\\"changeGenre(el.slug)\\\" [class.selected]=\\\"currentGenre == el.slug\\\">\\r\\n      {{el.name}}\\r\\n    </li>\\r\\n  </ul>\\r\\n</div>\\r\\n\\r\\n<app-listing *ngIf=\\\"data\\\" [(data)]=\\\"data.blocks[0].widgets[0]\\\"></app-listing>\\r\\n\\r\\n<button (click)=\\\"getNextPage()\\\" class=\\\"show-more-button\\\" *ngIf=\\\"data?.blocks[0].widgets[0].playlist.hasOwnProperty(contents) && data?.blocks[0].widgets[0].playlist.contents[0].length < contentLength\\\">Show more</button>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/view-all/view-all.component.html\n// module id = ./src/app/view-all/view-all.component.html\n// module chunks = main","import {Component, OnInit} from '@angular/core';\r\nimport {ActivatedRoute} from '@angular/router';\r\nimport {GlobalsService} from '../globals.service';\r\nimport {PlaylistService} from '../models/playlist.service';\r\nimport {LoadingService} from '../loading/loading.service';\r\nimport {Location} from '@angular/common';\r\n\r\n@Component({\r\n  selector: 'app-view-all',\r\n  templateUrl: './view-all.component.html'\r\n})\r\n\r\nexport class ViewAllComponent implements OnInit {\r\n\r\n  data: any;                      // The playlist data\r\n  id: string;                     // The playlist ID\r\n  page: number = 1;               // Identifies the current page of the pagination\r\n  contentLength: number;          // Total length of the playlist\r\n  genres: any;                    // Stores the available genres for this playlist\r\n  currentGenre: string;           // Indicates the currently selected genre\r\n\r\n  constructor(private service: PlaylistService,\r\n              private route: ActivatedRoute,\r\n              private globals: GlobalsService,\r\n              private loading: LoadingService,\r\n              private location: Location) {\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.id = this.route.snapshot.params['id'];\r\n    this.route.params\r\n      .subscribe(params => {\r\n        this.getPlaylist(this.route.snapshot.params['id']);\r\n      });\r\n  }\r\n\r\n  /**\r\n   * Gets the playlist data\r\n   * @param id\r\n   */\r\n  getPlaylist(id: string, genre?: string) {\r\n    this.loading.set(true);\r\n    this.service.getPlaylist(id, 5, this.page, genre)\r\n      .subscribe(\r\n        response => {\r\n          this.data = response;\r\n          if(!this.genres) {\r\n            this.genres = this.data.blocks[0].widgets[0].playlist.genres;\r\n          }\r\n          this.contentLength = this.data.blocks[0].widgets[0].playlist.pagination.total_size;\r\n          this.globals.pageTitle = response.name;\r\n          this.loading.set(false);\r\n        },\r\n        error => console.log(error))\r\n  }\r\n\r\n  /**\r\n   * Gets the next elements of the currently selected playlist/genre\r\n   */\r\n  getNextPage() {\r\n    this.loading.set(true);\r\n    this.page++;\r\n    this.service.getPlaylist(this.id, 5, this.page)\r\n      .subscribe(\r\n        response => {\r\n          this.data.blocks[0].widgets[0].playlist.contents.push.apply(this.data.blocks[0].widgets[0].playlist.contents, response.blocks[0].widgets[0].playlist.contents);\r\n          $('html,body').animate({scrollTop: document.body.scrollHeight},\"medium\");\r\n        },\r\n        error => console.log(error),\r\n        () => {\r\n          this.loading.set(false);\r\n        })\r\n  }\r\n\r\n  /**\r\n   * Filters the playlist according to a specific genre\r\n   * @param genre\r\n   */\r\n  changeGenre(genre: string) {\r\n    if(genre!=this.currentGenre) {\r\n      this.currentGenre = genre;\r\n      this.page = 1;\r\n      this.getPlaylist(this.route.snapshot.params['id'], genre)\r\n    }\r\n  }\r\n\r\n  goBack() {\r\n    this.location.back();\r\n  }\r\n\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/view-all/view-all.component.ts","import {NgModule}           from '@angular/core';\r\nimport {CommonModule}       from '@angular/common';\r\nimport {ViewAllComponent}   from './view-all.component';\r\nimport {ViewAllService} from './view-all.service';\r\nimport {ViewAllResolve} from './view-all.resolve';\r\nimport {ListingModule} from '../listing/listing.module';\r\n\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    ListingModule\r\n  ],\r\n  declarations: [\r\n    ViewAllComponent\r\n  ],\r\n  exports: [\r\n    ViewAllComponent\r\n  ],\r\n  providers: [\r\n    ViewAllService,\r\n    ViewAllResolve\r\n  ]\r\n})\r\n\r\nexport class ViewAllModule {\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/view-all/view-all.module.ts","import { Injectable } from '@angular/core';\r\nimport { Resolve, ActivatedRouteSnapshot } from '@angular/router';\r\nimport { ViewAllService } from './view-all.service';\r\n\r\n@Injectable()\r\nexport class ViewAllResolve implements Resolve<any> {\r\n\r\n  constructor(private service: ViewAllService) {}\r\n\r\n  resolve(route: ActivatedRouteSnapshot) {\r\n    return this.service.getPlaylistById(route.params['id']);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/view-all/view-all.resolve.ts","import { Injectable } from '@angular/core';\r\nimport { Http, Response } from '@angular/http';\r\n\r\nimport {GlobalsService} from '../globals.service';\r\n\r\nimport { Observable } from 'rxjs/Observable';\r\nimport 'rxjs/add/operator/catch';\r\nimport 'rxjs/add/operator/map';\r\n\r\n@Injectable()\r\nexport class ViewAllService {\r\n\r\n  constructor(\r\n    private http: Http,\r\n    private globals: GlobalsService\r\n  ) {}\r\n\r\n  private extractData(res: Response) {\r\n    let body = res.json();\r\n    if (body) {\r\n      return body.data || body;\r\n    } else {\r\n      return {};\r\n    }\r\n  }\r\n\r\n  private handleError(error: any) {\r\n    let errMsg = (error.message) ? error.message :\r\n      error.status ? `${error.status} - ${error.statusText}` : 'Server error';\r\n    console.error(errMsg);\r\n    return Observable.throw(errMsg);\r\n  }\r\n\r\n  getPlaylistById(term: string): Observable<any> {\r\n    return this.http\r\n      .get(this.globals.API + `playlists/${term}?device_type=web&device_layout=web`)\r\n      .map(this.extractData)\r\n      .catch(this.handleError);\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/view-all/view-all.service.ts","// The file contents for the current environment will overwrite these during build.\r\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\r\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\r\n// The list of which env maps to which file can be found in `.angular-cli.json`.\r\n\r\nexport const environment = {\r\n  production: false,\r\n  stripePubKey: 'pk_test_VN7NYBYUU84iPam3rih7uhyl',\r\n  fbParams: {\r\n    appId: '878563705651433',\r\n    xfbml: true,\r\n    version: 'v2.8'\r\n  }\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/environments/environment.ts","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.ts"],"sourceRoot":"webpack:///"}